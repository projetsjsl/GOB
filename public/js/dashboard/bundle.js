(function(h,tt){"use strict";var Se={exports:{}},ye={};var Me;function rt(){if(Me)return ye;Me=1;var a=h,g=Symbol.for("react.element"),M=Symbol.for("react.fragment"),O=Object.prototype.hasOwnProperty,m=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,H={key:!0,ref:!0,__self:!0,__source:!0};function s(C,S,R){var T,d={},V=null,z=null;R!==void 0&&(V=""+R),S.key!==void 0&&(V=""+S.key),S.ref!==void 0&&(z=S.ref);for(T in S)O.call(S,T)&&!H.hasOwnProperty(T)&&(d[T]=S[T]);if(C&&C.defaultProps)for(T in S=C.defaultProps,S)d[T]===void 0&&(d[T]=S[T]);return{$$typeof:g,type:C,key:V,ref:z,props:d,_owner:m.current}}return ye.Fragment=M,ye.jsx=s,ye.jsxs=s,ye}var ve={};var Re;function st(){return Re||(Re=1,process.env.NODE_ENV!=="production"&&(function(){var a=h,g=Symbol.for("react.element"),M=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),C=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),z=Symbol.for("react.offscreen"),E=Symbol.iterator,Q="@@iterator";function f(t){if(t===null||typeof t!="object")return null;var o=E&&t[E]||t[Q];return typeof o=="function"?o:null}var v=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function y(t){{for(var o=arguments.length,u=new Array(o>1?o-1:0),p=1;p<o;p++)u[p-1]=arguments[p];D("error",t,u)}}function D(t,o,u){{var p=v.ReactDebugCurrentFrame,k=p.getStackAddendum();k!==""&&(o+="%s",u=u.concat([k]));var A=u.map(function($){return String($)});A.unshift("Warning: "+o),Function.prototype.apply.call(console[t],console,A)}}var Y=!1,n=!1,i=!1,x=!1,I=!1,re;re=Symbol.for("react.module.reference");function Z(t){return!!(typeof t=="string"||typeof t=="function"||t===O||t===H||I||t===m||t===R||t===T||x||t===z||Y||n||i||typeof t=="object"&&t!==null&&(t.$$typeof===V||t.$$typeof===d||t.$$typeof===s||t.$$typeof===C||t.$$typeof===S||t.$$typeof===re||t.getModuleId!==void 0))}function ae(t,o,u){var p=t.displayName;if(p)return p;var k=o.displayName||o.name||"";return k!==""?u+"("+k+")":u}function q(t){return t.displayName||"Context"}function W(t){if(t==null)return null;if(typeof t.tag=="number"&&y("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case O:return"Fragment";case M:return"Portal";case H:return"Profiler";case m:return"StrictMode";case R:return"Suspense";case T:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case C:var o=t;return q(o)+".Consumer";case s:var u=t;return q(u._context)+".Provider";case S:return ae(t,t.render,"ForwardRef");case d:var p=t.displayName||null;return p!==null?p:W(t.type)||"Memo";case V:{var k=t,A=k._payload,$=k._init;try{return W($(A))}catch{return null}}}return null}var ne=Object.assign,ie=0,de,ue,me,l,U,r,c;function b(){}b.__reactDisabledLog=!0;function w(){{if(ie===0){de=console.log,ue=console.info,me=console.warn,l=console.error,U=console.group,r=console.groupCollapsed,c=console.groupEnd;var t={configurable:!0,enumerable:!0,value:b,writable:!0};Object.defineProperties(console,{info:t,log:t,warn:t,error:t,group:t,groupCollapsed:t,groupEnd:t})}ie++}}function j(){{if(ie--,ie===0){var t={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:ne({},t,{value:de}),info:ne({},t,{value:ue}),warn:ne({},t,{value:me}),error:ne({},t,{value:l}),group:ne({},t,{value:U}),groupCollapsed:ne({},t,{value:r}),groupEnd:ne({},t,{value:c})})}ie<0&&y("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var _=v.ReactCurrentDispatcher,X;function B(t,o,u){{if(X===void 0)try{throw Error()}catch(k){var p=k.stack.trim().match(/\n( *(at )?)/);X=p&&p[1]||""}return`
`+X+t}}var J=!1,le;{var Ce=typeof WeakMap=="function"?WeakMap:Map;le=new Ce}function ee(t,o){if(!t||J)return"";{var u=le.get(t);if(u!==void 0)return u}var p;J=!0;var k=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var A;A=_.current,_.current=null,w();try{if(o){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(K){p=K}Reflect.construct(t,[],$)}else{try{$.call()}catch(K){p=K}t.call($.prototype)}}else{try{throw Error()}catch(K){p=K}t()}}catch(K){if(K&&p&&typeof K.stack=="string"){for(var N=K.stack.split(`
`),G=p.stack.split(`
`),L=N.length-1,P=G.length-1;L>=1&&P>=0&&N[L]!==G[P];)P--;for(;L>=1&&P>=0;L--,P--)if(N[L]!==G[P]){if(L!==1||P!==1)do if(L--,P--,P<0||N[L]!==G[P]){var te=`
`+N[L].replace(" at new "," at ");return t.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",t.displayName)),typeof t=="function"&&le.set(t,te),te}while(L>=1&&P>=0);break}}}finally{J=!1,_.current=A,j(),Error.prepareStackTrace=k}var fe=t?t.displayName||t.name:"",xe=fe?B(fe):"";return typeof t=="function"&&le.set(t,xe),xe}function je(t,o,u){return ee(t,!1)}function ge(t){var o=t.prototype;return!!(o&&o.isReactComponent)}function he(t,o,u){if(t==null)return"";if(typeof t=="function")return ee(t,ge(t));if(typeof t=="string")return B(t);switch(t){case R:return B("Suspense");case T:return B("SuspenseList")}if(typeof t=="object")switch(t.$$typeof){case S:return je(t.render);case d:return he(t.type,o,u);case V:{var p=t,k=p._payload,A=p._init;try{return he(A(k),o,u)}catch{}}}return""}var se=Object.prototype.hasOwnProperty,F={},ce=v.ReactDebugCurrentFrame;function oe(t){if(t){var o=t._owner,u=he(t.type,t._source,o?o.type:null);ce.setExtraStackFrame(u)}else ce.setExtraStackFrame(null)}function ke(t,o,u,p,k){{var A=Function.call.bind(se);for(var $ in t)if(A(t,$)){var N=void 0;try{if(typeof t[$]!="function"){var G=Error((p||"React class")+": "+u+" type `"+$+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof t[$]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw G.name="Invariant Violation",G}N=t[$](o,$,p,u,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(L){N=L}N&&!(N instanceof Error)&&(oe(k),y("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",p||"React class",u,$,typeof N),oe(null)),N instanceof Error&&!(N.message in F)&&(F[N.message]=!0,oe(k),y("Failed %s type: %s",u,N.message),oe(null))}}}var Ee=Array.isArray;function be(t){return Ee(t)}function Te(t){{var o=typeof Symbol=="function"&&Symbol.toStringTag,u=o&&t[Symbol.toStringTag]||t.constructor.name||"Object";return u}}function Ne(t){try{return Ve(t),!1}catch{return!0}}function Ve(t){return""+t}function Ye(t){if(Ne(t))return y("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Te(t)),Ve(t)}var ze=v.ReactCurrentOwner,$t={key:!0,ref:!0,__self:!0,__source:!0},qe,Xe;function Tt(t){if(se.call(t,"ref")){var o=Object.getOwnPropertyDescriptor(t,"ref").get;if(o&&o.isReactWarning)return!1}return t.ref!==void 0}function Ct(t){if(se.call(t,"key")){var o=Object.getOwnPropertyDescriptor(t,"key").get;if(o&&o.isReactWarning)return!1}return t.key!==void 0}function kt(t,o){typeof t.ref=="string"&&ze.current}function Et(t,o){{var u=function(){qe||(qe=!0,y("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",o))};u.isReactWarning=!0,Object.defineProperty(t,"key",{get:u,configurable:!0})}}function At(t,o){{var u=function(){Xe||(Xe=!0,y("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",o))};u.isReactWarning=!0,Object.defineProperty(t,"ref",{get:u,configurable:!0})}}var Dt=function(t,o,u,p,k,A,$){var N={$$typeof:g,type:t,key:o,ref:u,props:$,_owner:A};return N._store={},Object.defineProperty(N._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(N,"_self",{configurable:!1,enumerable:!1,writable:!1,value:p}),Object.defineProperty(N,"_source",{configurable:!1,enumerable:!1,writable:!1,value:k}),Object.freeze&&(Object.freeze(N.props),Object.freeze(N)),N};function Ft(t,o,u,p,k){{var A,$={},N=null,G=null;u!==void 0&&(Ye(u),N=""+u),Ct(o)&&(Ye(o.key),N=""+o.key),Tt(o)&&(G=o.ref,kt(o,k));for(A in o)se.call(o,A)&&!$t.hasOwnProperty(A)&&($[A]=o[A]);if(t&&t.defaultProps){var L=t.defaultProps;for(A in L)$[A]===void 0&&($[A]=L[A])}if(N||G){var P=typeof t=="function"?t.displayName||t.name||"Unknown":t;N&&Et($,P),G&&At($,P)}return Dt(t,N,G,k,p,ze.current,$)}}var Ae=v.ReactCurrentOwner,Je=v.ReactDebugCurrentFrame;function pe(t){if(t){var o=t._owner,u=he(t.type,t._source,o?o.type:null);Je.setExtraStackFrame(u)}else Je.setExtraStackFrame(null)}var De;De=!1;function Fe(t){return typeof t=="object"&&t!==null&&t.$$typeof===g}function Ge(){{if(Ae.current){var t=W(Ae.current.type);if(t)return`

Check the render method of \``+t+"`."}return""}}function _t(t){return""}var We={};function Mt(t){{var o=Ge();if(!o){var u=typeof t=="string"?t:t.displayName||t.name;u&&(o=`

Check the top-level render call using <`+u+">.")}return o}}function Ke(t,o){{if(!t._store||t._store.validated||t.key!=null)return;t._store.validated=!0;var u=Mt(o);if(We[u])return;We[u]=!0;var p="";t&&t._owner&&t._owner!==Ae.current&&(p=" It was passed a child from "+W(t._owner.type)+"."),pe(t),y('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',u,p),pe(null)}}function Qe(t,o){{if(typeof t!="object")return;if(be(t))for(var u=0;u<t.length;u++){var p=t[u];Fe(p)&&Ke(p,o)}else if(Fe(t))t._store&&(t._store.validated=!0);else if(t){var k=f(t);if(typeof k=="function"&&k!==t.entries)for(var A=k.call(t),$;!($=A.next()).done;)Fe($.value)&&Ke($.value,o)}}}function Rt(t){{var o=t.type;if(o==null||typeof o=="string")return;var u;if(typeof o=="function")u=o.propTypes;else if(typeof o=="object"&&(o.$$typeof===S||o.$$typeof===d))u=o.propTypes;else return;if(u){var p=W(o);ke(u,t.props,"prop",p,t)}else if(o.PropTypes!==void 0&&!De){De=!0;var k=W(o);y("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",k||"Unknown")}typeof o.getDefaultProps=="function"&&!o.getDefaultProps.isReactClassApproved&&y("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Lt(t){{for(var o=Object.keys(t.props),u=0;u<o.length;u++){var p=o[u];if(p!=="children"&&p!=="key"){pe(t),y("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",p),pe(null);break}}t.ref!==null&&(pe(t),y("Invalid attribute `ref` supplied to `React.Fragment`."),pe(null))}}var Ze={};function et(t,o,u,p,k,A){{var $=Z(t);if(!$){var N="";(t===void 0||typeof t=="object"&&t!==null&&Object.keys(t).length===0)&&(N+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var G=_t();G?N+=G:N+=Ge();var L;t===null?L="null":be(t)?L="array":t!==void 0&&t.$$typeof===g?(L="<"+(W(t.type)||"Unknown")+" />",N=" Did you accidentally export a JSX literal instead of a component?"):L=typeof t,y("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",L,N)}var P=Ft(t,o,u,k,A);if(P==null)return P;if($){var te=o.children;if(te!==void 0)if(p)if(be(te)){for(var fe=0;fe<te.length;fe++)Qe(te[fe],t);Object.freeze&&Object.freeze(te)}else y("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else Qe(te,t)}if(se.call(o,"key")){var xe=W(t),K=Object.keys(o).filter(function(Ht){return Ht!=="key"}),_e=K.length>0?"{key: someKey, "+K.join(": ..., ")+": ...}":"{key: someKey}";if(!Ze[xe+_e]){var Bt=K.length>0?"{"+K.join(": ..., ")+": ...}":"{}";y(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,_e,xe,Bt,xe),Ze[xe+_e]=!0}}return t===O?Lt(P):Rt(P),P}}function Ot(t,o,u){return et(t,o,u,!0)}function Pt(t,o,u){return et(t,o,u,!1)}var It=Pt,Ut=Ot;ve.Fragment=O,ve.jsx=It,ve.jsxs=Ut})()),ve}var Le;function at(){return Le||(Le=1,process.env.NODE_ENV==="production"?Se.exports=rt():Se.exports=st()),Se.exports}var e=at();const Oe=typeof window<"u"&&window.Icon?window.Icon:()=>null,nt=({isDarkMode:a=!0,isProfessionalMode:g=!1})=>{const M=()=>{sessionStorage.clear(),localStorage.clear(),window.location.href="/login.html"};return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:`backdrop-blur-sm rounded-lg p-6 border transition-colors duration-300 ${a?"bg-gray-900 border-gray-700":"bg-gray-50 border-gray-200"}`,children:[e.jsxs("h2",{className:`text-2xl font-bold mb-6 transition-colors duration-300 ${a?"text-white":"text-gray-900"}`,children:[e.jsx(Oe,{emoji:"âš™ï¸",name:"Settings",size:24,className:"mr-2 inline-block"}),"ParamÃ¨tres"]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:`p-4 rounded-lg border transition-colors duration-300 ${a?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[e.jsx("h3",{className:`text-lg font-semibold mb-2 transition-colors duration-300 ${a?"text-white":"text-gray-900"}`,children:"Compte"}),e.jsx("p",{className:`text-sm mb-4 transition-colors durÃ©e-300 ${a?"text-gray-400":"text-gray-600"}`,children:"GÃ©rez votre compte et vos prÃ©fÃ©rences"}),e.jsxs("button",{onClick:M,className:`w-full px-6 py-3 rounded-lg font-semibold transition-all duration-300 ${a?"bg-red-600 hover:bg-red-700 text-white":"bg-red-500 hover:bg-red-600 text-white"} shadow-lg hover:shadow-xl transform hover:scale-105`,children:[e.jsx(Oe,{emoji:"ðŸšª",name:"LogOut",size:20,className:"mr-2 inline-block"}),"Se dÃ©connecter"]})]})})]})})},ot=()=>typeof window<"u"?window.BetaCombinedDashboard||{}:{},it=()=>typeof window<"u"?window.BetaCombinedDashboardData||{}:{},lt=()=>typeof window<"u"?window.DASHBOARD_UTILS||{}:{},dt=()=>typeof window<"u"?window.DASHBOARD_CONSTANTS||{}:{},ct=()=>typeof window<"u"&&window.LucideIcon?window.LucideIcon:()=>null,xt=()=>typeof window<"u"&&window.IconoirIcon?window.IconoirIcon:()=>null,ut=a=>Array.isArray(a)?a:[],$e=a=>typeof a=="function"?a:async()=>{},mt=(a,g=()=>{})=>typeof a=="function"?a:g,Pe=()=>{const a=ot(),g=it(),M=lt(),O=dt(),m=ct(),H=xt(),{isDarkMode:s=!0,tickers:C=[],stockData:S={},newsData:R=[],tickerLatestNews:T={},tickerMoveReasons:d={},loading:V=!1,lastUpdate:z=null,loadTickersFromSupabase:E,fetchNews:Q,refreshAllStocks:f,fetchLatestNewsForTickers:v,setActiveTab:y}=a,D=ut(R),Y=$e(E),n=$e(Q),i=$e(f),x=$e(v),I=mt(y),re=g.getCompanyLogo||a.getCompanyLogo||(()=>null),Z=M.cleanText||(r=>r||""),ae=M.getNewsIcon||(()=>({icon:"Info",color:"text-gray-400"})),[q,W]=h.useState("list"),[ne,ie]=h.useState(null),de=M.renderMarketBadge?r=>M.renderMarketBadge(r,s):r=>{const c=r==="bull";return e.jsx("span",{className:`w-9 h-9 rounded-full flex items-center justify-center text-xl font-semibold shadow-inner border ${c?s?"bg-lime-900/70 border-lime-500/40 text-lime-300":"bg-lime-100 border-lime-400 text-lime-700":s?"bg-rose-900/70 border-rose-500/40 text-rose-200":"bg-rose-100 border-rose-300 text-rose-700"}`,children:c?"ðŸ‚":"ðŸ»"})},ue=r=>{if(!r)return 50;const c=r.toLowerCase();return["bloomberg","reuters","wall street journal","wsj","financial times","ft"].some(_=>c.includes(_))?95:["cnbc","marketwatch","barron","seeking alpha","yahoo finance","morningstar","the economist"].some(_=>c.includes(_))?82:["forbes","benzinga","investor","zacks","motley fool","nasdaq","business insider"].some(_=>c.includes(_))?65:40},me=r=>r>=90?"premium":r>=75?"high":r>=50?"medium":"low",l=r=>!r&&r!==0?"N/A":r>=1e9?(r/1e9).toFixed(2)+"B":r>=1e6?(r/1e6).toFixed(2)+"M":r>=1e3?(r/1e3).toFixed(2)+"K":r.toLocaleString("fr-FR"),U=O.companyNames||{};return e.jsxs("div",{className:"space-y-6",children:[C.length===0&&e.jsxs("div",{className:`p-6 rounded-xl border-2 transition-colors duration-300 ${s?"bg-gray-800 border-yellow-500/30":"bg-yellow-50 border-yellow-200"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"text-2xl",children:"â³"}),e.jsx("h3",{className:`text-lg font-semibold ${s?"text-white":"text-gray-900"}`,children:"Chargement des donnÃ©es..."})]}),e.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:"Les titres et nouvelles sont en cours de chargement. Veuillez patienter quelques instants."}),e.jsx("button",{onClick:async()=>{await Y(),await n()},className:`mt-4 px-4 py-2 rounded-lg font-semibold transition-all duration-300 ${s?"bg-blue-600 hover:bg-blue-700 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:"ðŸ”„ Forcer le chargement"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:`text-2xl font-bold transition-colors duration-300 ${s?"text-white":"text-gray-900"}`,children:"ðŸ“Š Titres & nouvelles"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:`flex gap-1 p-1 rounded-lg transition-colors duration-300 ${s?"bg-gray-800":"bg-gray-200"}`,children:[e.jsx("button",{onClick:()=>W("list"),className:`px-3 py-1 rounded text-sm font-medium transition-all duration-200 ${q==="list"?s?"bg-blue-600 text-white":"bg-blue-500 text-white":s?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"}`,children:"ðŸ“‹ Liste"}),e.jsx("button",{onClick:()=>W("cards"),className:`px-3 py-1 rounded text-sm font-medium transition-all duration-200 ${q==="cards"?s?"bg-blue-600 text-white":"bg-blue-500 text-white":s?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"}`,children:"ðŸŽ´ Cartes"}),e.jsx("button",{onClick:()=>W("table"),className:`px-3 py-1 rounded text-sm font-medium transition-all duration-200 ${q==="table"?s?"bg-blue-600 text-white":"bg-blue-500 text-white":s?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"}`,children:"ðŸ“Š Tableau"})]}),e.jsx("button",{onClick:async()=>{await i(),await n(),await x()},disabled:V,className:`px-4 py-2 rounded-lg font-semibold transition-all duration-300 disabled:opacity-50 ${s?"bg-gray-800 hover:bg-gray-700 text-white":"bg-gray-700 hover:bg-gray-600 text-white"}`,children:V?"â³ Actualisation...":"ðŸ”„ Actualiser"})]})]}),z&&e.jsxs("p",{className:"text-gray-400 text-sm",children:["DerniÃ¨re mise Ã  jour: ",new Date(z).toLocaleString("fr-FR")]}),C.length>0&&e.jsxs("div",{className:`mt-6 p-6 rounded-xl transition-colors duration-300 ${s?"bg-gradient-to-br from-gray-800 to-gray-900 border border-gray-700":"bg-gradient-to-br from-white to-gray-50 border border-gray-200"}`,children:[e.jsxs("h3",{className:`text-xl font-bold mb-4 flex items-center gap-2 ${s?"text-white":"text-gray-900"}`,children:[e.jsx(m,{name:"Fire",className:"w-6 h-6 text-orange-500"}),"Top Movers du Jour"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:`p-3 sm:p-4 rounded-lg ${s?"bg-green-500/10 border border-green-500/30":"bg-green-50 border border-green-200"}`,children:[e.jsxs("h4",{className:`text-base sm:text-sm font-bold mb-3 sm:mb-3 flex items-center gap-3 ${s?"text-green-400":"text-green-700"}`,children:[e.jsx(m,{name:"TrendingUp",className:"w-5 h-5"}),de("bull"),"Top Gainers"]}),e.jsx("div",{className:"space-y-2.5 sm:space-y-2",children:C.map(r=>({ticker:r,change:S[r]?.dp||0,price:S[r]?.c||0})).filter(r=>r.change>0).sort((r,c)=>c.change-r.change).slice(0,5).map((r,c)=>e.jsx("div",{className:`flex items-start justify-between p-2 sm:p-2 rounded cursor-pointer transition-all hover:scale-[1.02] ${s?"hover:bg-green-500/20":"hover:bg-green-100"}`,onClick:()=>{setSelectedStock(r.ticker),I("intellistocks")},children:e.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0 ${s?"bg-green-500/30 text-green-300":"bg-green-100 text-green-700"}`,children:c+1}),e.jsx("img",{src:re(r.ticker),alt:r.ticker,className:"w-6 h-6 rounded flex-shrink-0",onError:b=>b.target.style.display="none"}),e.jsx("span",{className:`font-mono font-bold text-sm ${s?"text-white":"text-gray-900"} flex-shrink-0`,children:r.ticker}),e.jsxs("div",{className:"text-green-500 font-bold text-sm ml-auto flex-shrink-0",children:["+",r.change.toFixed(2),"% â†‘"]}),e.jsxs("div",{className:`text-xs ${s?"text-gray-400":"text-gray-600"} flex-shrink-0`,children:["$",r.price.toFixed(2)]})]}),e.jsx("div",{className:`mt-1 ml-8 min-h-[20px] ${s?"text-gray-400":"text-gray-600"}`,children:(()=>{const b=extractMoveReason(r.ticker,r.change);return b&&b!==""?e.jsx("div",{className:`text-xs flex items-start gap-2 leading-relaxed ${s?"text-gray-300":"text-gray-700"}`,children:d[r.ticker]?.source==="Finviz AI"?e.jsxs("span",{className:"inline-flex items-center gap-1.5 flex-wrap",children:[e.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-semibold bg-blue-500/20 text-blue-300 border border-blue-500/30 flex-shrink-0",children:"AI"}),e.jsx("span",{className:"leading-relaxed break-words",children:b})]}):e.jsxs("span",{className:"inline-flex items-start gap-1.5",children:[e.jsx("span",{className:"text-blue-400 flex-shrink-0 text-sm",children:"ðŸ“°"}),e.jsx("span",{className:"leading-relaxed break-words",children:b})]})}):e.jsx("div",{className:`text-xs italic ${s?"text-gray-600":"text-gray-400"}`,children:"Chargement des explications..."})})()})]})},r.ticker))})]}),e.jsxs("div",{className:`p-4 rounded-lg ${s?"bg-red-500/10 border border-red-500/30":"bg-red-50 border border-red-200"}`,children:[e.jsxs("h4",{className:`text-sm font-bold mb-3 flex items-center gap-3 ${s?"text-red-400":"text-red-700"}`,children:[e.jsx(m,{name:"TrendingDown",className:"w-5 h-5"}),de("bear"),"Top Losers"]}),e.jsx("div",{className:"space-y-2",children:C.map(r=>({ticker:r,change:S[r]?.dp||0,price:S[r]?.c||0})).filter(r=>r.change<0).sort((r,c)=>r.change-c.change).slice(0,5).map((r,c)=>e.jsx("div",{className:`flex items-start justify-between p-2 rounded cursor-pointer transition-all hover:scale-[1.02] ${s?"hover:bg-red-500/20":"hover:bg-red-100"}`,onClick:()=>{setSelectedStock(r.ticker),I("intellistocks")},children:e.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0 ${s?"bg-red-500/30 text-red-300":"bg-red-100 text-red-700"}`,children:c+1}),e.jsx("img",{src:re(r.ticker),alt:r.ticker,className:"w-6 h-6 rounded flex-shrink-0",onError:b=>b.target.style.display="none"}),e.jsx("span",{className:`font-mono font-bold text-sm ${s?"text-white":"text-gray-900"} flex-shrink-0`,children:r.ticker}),e.jsxs("div",{className:"text-red-500 font-bold text-sm ml-auto flex-shrink-0",children:[r.change.toFixed(2),"% â†“"]}),e.jsxs("div",{className:`text-xs ${s?"text-gray-400":"text-gray-600"} flex-shrink-0`,children:["$",r.price.toFixed(2)]})]}),e.jsx("div",{className:`mt-1 ml-8 min-h-[20px] ${s?"text-gray-400":"text-gray-600"}`,children:(()=>{const b=extractMoveReason(r.ticker,r.change);return b&&b!==""?e.jsx("div",{className:`text-xs flex items-start gap-2 leading-relaxed ${s?"text-gray-300":"text-gray-700"}`,children:d[r.ticker]?.source==="Finviz AI"?e.jsxs("span",{className:"inline-flex items-center gap-1.5 flex-wrap",children:[e.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-semibold bg-blue-500/20 text-blue-300 border border-blue-500/30 flex-shrink-0",children:"AI"}),e.jsx("span",{className:"leading-relaxed break-words",children:b})]}):e.jsxs("span",{className:"inline-flex items-start gap-1.5",children:[e.jsx("span",{className:"text-blue-400 flex-shrink-0 text-sm",children:"ðŸ“°"}),e.jsx("span",{className:"leading-relaxed break-words",children:b})]})}):e.jsx("div",{className:`text-xs italic ${s?"text-gray-600":"text-gray-400"}`,children:"Chargement des explications..."})})()})]})},r.ticker))})]})]})]}),C.length>0&&Object.keys(S).length>0&&e.jsxs("div",{className:`mt-6 p-6 rounded-xl transition-colors duration-300 ${s?"bg-gradient-to-br from-gray-800 to-gray-900 border border-gray-700":"bg-gradient-to-br from-white to-gray-50 border border-gray-200"}`,children:[e.jsxs("h3",{className:`text-xl font-bold mb-4 flex items-center gap-2 ${s?"text-white":"text-gray-900"}`,children:[e.jsx(m,{name:"Target",className:"w-6 h-6 text-indigo-500"}),"Analyses & Opinions d'Analystes"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:C.map(r=>{const b=S[r]?.recommendation?.[0];if(!b)return null;const w=(b.buy||0)+(b.hold||0)+(b.sell||0)+(b.strongBuy||0)+(b.strongSell||0);if(w===0)return null;const j=(b.strongBuy||0)*2+(b.buy||0),_=(b.strongSell||0)*2+(b.sell||0),X=b.hold||0;let B="Hold",J="yellow";return j>_&&j>X?(B="Buy",J="green"):_>j&&_>X&&(B="Sell",J="red"),{ticker:r,totalAnalysts:w,consensus:B,consensusColor:J,buyScore:j,sellScore:_,holdScore:X,recommendation:b}}).filter(r=>r!==null).sort((r,c)=>c.totalAnalysts-r.totalAnalysts).slice(0,6).map(r=>e.jsxs("div",{className:`p-4 rounded-lg cursor-pointer transition-all hover:scale-[1.02] ${s?"bg-gray-700/50 hover:bg-gray-700/70 border border-gray-600":"bg-white hover:bg-gray-50 border border-gray-200"}`,onClick:()=>{setSelectedStock(r.ticker),I("intellistocks")},children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:re(r.ticker),alt:r.ticker,className:"w-8 h-8 rounded",onError:c=>c.target.style.display="none"}),e.jsx("span",{className:`font-mono font-bold text-lg ${s?"text-white":"text-gray-900"}`,children:r.ticker})]}),e.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold ${r.consensusColor==="green"?"bg-green-500/20 text-green-500 border border-green-500/30":r.consensusColor==="red"?"bg-red-500/20 text-red-500 border border-red-500/30":"bg-yellow-500/20 text-yellow-500 border border-yellow-500/30"}`,children:r.consensus==="Buy"?"ACHAT":r.consensus==="Sell"?"VENTE":"CONSERVER"})]}),e.jsxs("div",{className:`text-sm mb-2 ${s?"text-gray-300":"text-gray-600"}`,children:[r.totalAnalysts," analyste",r.totalAnalysts>1?"s":""]}),e.jsxs("div",{className:"space-y-1.5",children:[r.recommendation.strongBuy>0&&e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:s?"text-gray-400":"text-gray-600",children:"Strong Buy"}),e.jsx("span",{className:"font-bold text-green-500",children:r.recommendation.strongBuy})]}),r.recommendation.buy>0&&e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:s?"text-gray-400":"text-gray-600",children:"Buy"}),e.jsx("span",{className:"font-bold text-green-400",children:r.recommendation.buy})]}),r.recommendation.hold>0&&e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:s?"text-gray-400":"text-gray-600",children:"Hold"}),e.jsx("span",{className:"font-bold text-yellow-500",children:r.recommendation.hold})]}),r.recommendation.sell>0&&e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:s?"text-gray-400":"text-gray-600",children:"Sell"}),e.jsx("span",{className:"font-bold text-red-400",children:r.recommendation.sell})]}),r.recommendation.strongSell>0&&e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:s?"text-gray-400":"text-gray-600",children:"Strong Sell"}),e.jsx("span",{className:"font-bold text-red-500",children:r.recommendation.strongSell})]})]}),e.jsx("div",{className:`mt-3 pt-3 border-t ${s?"border-gray-600":"border-gray-200"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{name:"ArrowUpRight",className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:`text-xs ${s?"text-gray-400":"text-gray-600"}`,children:"Cliquer pour analyse complÃ¨te"})]})})]},r.ticker))}),C.filter(r=>{const b=S[r]?.recommendation?.[0];return b&&(b.buy||0)+(b.hold||0)+(b.sell||0)+(b.strongBuy||0)+(b.strongSell||0)>0}).length===0&&e.jsxs("div",{className:`text-center py-8 ${s?"text-gray-400":"text-gray-600"}`,children:[e.jsx(m,{name:"AlertCircle",className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"Aucune recommandation d'analyste disponible pour le moment"}),e.jsx("p",{className:"text-sm mt-2",children:"Les donnÃ©es seront chargÃ©es lors de la prochaine actualisation"})]})]}),q==="list"&&e.jsx("div",{className:"mt-8",children:e.jsxs("div",{className:`backdrop-blur-sm rounded-2xl p-8 border-2 shadow-2xl transition-colors duration-300 ${s?"bg-gradient-to-br from-gray-800/90 to-gray-900/90 border-blue-500/30 shadow-blue-500/10":"bg-gradient-to-br from-white/95 to-gray-50/95 border-blue-400/40 shadow-blue-400/10"}`,children:[e.jsx("h2",{className:`text-2xl font-bold mb-6 transition-colors duration-300 ${s?"text-white":"text-gray-900"}`,children:"ðŸ“Š Titres - Vue Liste"}),C.length===0?e.jsxs("div",{className:`text-center py-12 ${s?"text-gray-400":"text-gray-600"}`,children:[e.jsx("p",{className:"text-lg font-semibold mb-2",children:"Aucun titre disponible"}),e.jsx("p",{className:"text-sm",children:"Les donnÃ©es sont en cours de chargement..."})]}):Object.keys(S).length===0?e.jsxs("div",{className:`text-center py-12 ${s?"text-gray-400":"text-gray-600"}`,children:[e.jsx("p",{className:"text-lg font-semibold mb-2",children:"Chargement des donnÃ©es de marchÃ©..."}),e.jsx("p",{className:"text-sm",children:"Veuillez patienter quelques instants"})]}):e.jsx("div",{className:"space-y-3",children:C.map(r=>{const c=S[r]||{},b=c.c||c.price||0;c.d||c.change;const w=c.dp||c.changePercent||0,j=w>=0;return e.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl cursor-pointer transition-all hover:scale-[1.01] ${s?"bg-gray-700/50 hover:bg-gray-700/70 border border-gray-600":"bg-white hover:bg-gray-50 border border-gray-200"}`,onClick:()=>{setSelectedStock(r),I("intellistocks")},children:[e.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[e.jsx("img",{src:re(r),alt:r,className:"w-12 h-12 rounded-lg",onError:_=>_.target.style.display="none"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`font-mono font-bold text-lg ${s?"text-white":"text-gray-900"}`,children:r}),e.jsx("div",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:U[r]||r}),e.jsx("div",{className:`mt-2 min-h-[20px] ${s?"text-gray-400":"text-gray-600"}`,children:extractMoveReason(r,w)?e.jsx("div",{className:`text-xs flex items-start gap-2 ${s?"text-gray-300":"text-gray-700"}`,children:d[r]?.source==="Finviz AI"?e.jsxs("span",{className:"inline-flex items-center gap-1.5 flex-wrap",children:[e.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-semibold bg-blue-500/20 text-blue-300 border border-blue-500/30 flex-shrink-0",children:"AI"}),e.jsx("span",{className:"leading-relaxed",children:extractMoveReason(r,w)})]}):e.jsxs("span",{className:"inline-flex items-start gap-1.5",children:[e.jsx("span",{className:"text-blue-400 flex-shrink-0",children:"ðŸ“°"}),e.jsx("span",{className:"leading-relaxed",children:extractMoveReason(r,w)})]})}):T[r]?e.jsxs("div",{className:"text-xs text-gray-500",children:["ðŸ“° ",e.jsx("span",{className:"italic",children:T[r].title.length>70?T[r].title.substring(0,70)+"...":T[r].title})]}):e.jsx("div",{className:`text-xs italic ${s?"text-gray-600":"text-gray-400"}`,children:"Chargement des explications..."})})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`font-bold text-xl ${s?"text-white":"text-gray-900"}`,children:["$",b.toFixed(2)]}),e.jsxs("div",{className:`font-semibold ${j?"text-green-500":"text-red-500"}`,children:[j?"+":"",w.toFixed(2),"%"]})]})]},r)})})]})}),q==="cards"&&e.jsx("div",{className:"mt-8",children:e.jsxs("div",{className:`backdrop-blur-sm rounded-2xl p-8 border-2 shadow-2xl transition-colors duration-300 ${s?"bg-gradient-to-br from-gray-800/90 to-gray-900/90 border-blue-500/30 shadow-blue-500/10":"bg-gradient-to-br from-white/95 to-gray-50/95 border-blue-400/40 shadow-blue-400/10"}`,children:[e.jsx("h2",{className:`text-2xl font-bold mb-6 transition-colors duration-300 ${s?"text-white":"text-gray-900"}`,children:"ðŸŽ´ Titres - Vue Cartes"}),C.length===0?e.jsxs("div",{className:`text-center py-12 ${s?"text-gray-400":"text-gray-600"}`,children:[e.jsx("p",{className:"text-lg font-semibold mb-2",children:"Aucun titre disponible"}),e.jsx("p",{className:"text-sm",children:"Les donnÃ©es sont en cours de chargement..."})]}):Object.keys(S).length===0?e.jsxs("div",{className:`text-center py-12 ${s?"text-gray-400":"text-gray-600"}`,children:[e.jsx("p",{className:"text-lg font-semibold mb-2",children:"Chargement des donnÃ©es de marchÃ©..."}),e.jsx("p",{className:"text-sm",children:"Veuillez patienter quelques instants"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.map(r=>{const c=S[r]||{},b=c.c||c.price||0,w=c.d||c.change||0,j=c.dp||c.changePercent||0,_=c.h||0,X=c.l||0,B=c.v||0,J=j>=0;return e.jsxs("div",{className:`p-6 rounded-xl cursor-pointer transition-all hover:scale-[1.02] ${s?"bg-gradient-to-br from-gray-700/50 to-gray-800/50 hover:from-gray-700/70 hover:to-gray-800/70 border border-gray-600":"bg-gradient-to-br from-white to-gray-50 hover:from-gray-50 hover:to-gray-100 border border-gray-200 shadow-lg"}`,onClick:()=>{setSelectedStock(r),I("intellistocks")},children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:re(r),alt:r,className:"w-14 h-14 rounded-xl",onError:le=>le.target.style.display="none"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`font-mono font-bold text-xl ${s?"text-white":"text-gray-900"}`,children:r}),e.jsx("div",{className:`text-xs ${s?"text-gray-400":"text-gray-600"}`,children:U[r]||r}),e.jsx("div",{className:`mt-2 min-h-[24px] ${s?"text-gray-400":"text-gray-600"}`,children:extractMoveReason(r,j)?e.jsx("div",{className:`text-xs flex items-start gap-2 ${s?"text-gray-300":"text-gray-700"}`,children:d[r]?.source==="Finviz AI"?e.jsxs("span",{className:"inline-flex items-center gap-1.5 flex-wrap",children:[e.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-semibold bg-blue-500/20 text-blue-300 border border-blue-500/30 flex-shrink-0",children:"AI"}),e.jsx("span",{className:"leading-relaxed",children:extractMoveReason(r,j)})]}):e.jsxs("span",{className:"inline-flex items-start gap-1.5",children:[e.jsx("span",{className:"text-blue-400 flex-shrink-0",children:"ðŸ“°"}),e.jsx("span",{className:"leading-relaxed",children:extractMoveReason(r,j)})]})}):T[r]?e.jsxs("div",{className:"text-xs text-gray-500",children:["ðŸ“° ",e.jsx("span",{className:"italic",children:T[r].title.length>60?T[r].title.substring(0,60)+"...":T[r].title})]}):e.jsx("div",{className:`text-xs italic ${s?"text-gray-600":"text-gray-400"}`,children:"Chargement des explications..."})})]})]}),e.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold ${J?"bg-green-500/20 text-green-500 border border-green-500/30":"bg-red-500/20 text-red-500 border border-red-500/30"}`,children:J?"â–²":"â–¼"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:`text-3xl font-bold mb-1 ${s?"text-white":"text-gray-900"}`,children:["$",b.toFixed(2)]}),e.jsxs("div",{className:`text-lg font-semibold ${J?"text-green-500":"text-red-500"}`,children:[J?"+":"",w.toFixed(2)," (",J?"+":"",j.toFixed(2),"%)"]})]}),e.jsxs("div",{className:`grid grid-cols-2 gap-2 pt-4 border-t ${s?"border-gray-600":"border-gray-200"}`,children:[e.jsxs("div",{children:[e.jsx("div",{className:`text-xs ${s?"text-gray-400":"text-gray-600"}`,children:"Haut"}),e.jsxs("div",{className:`font-bold ${s?"text-white":"text-gray-900"}`,children:["$",_.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("div",{className:`text-xs ${s?"text-gray-400":"text-gray-600"}`,children:"Bas"}),e.jsxs("div",{className:`font-bold ${s?"text-white":"text-gray-900"}`,children:["$",X.toFixed(2)]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("div",{className:`text-xs ${s?"text-gray-400":"text-gray-600"}`,children:"Volume"}),e.jsx("div",{className:`font-bold ${s?"text-white":"text-gray-900"}`,children:l(B)})]})]})]},r)})})]})}),q==="table"&&e.jsx("div",{className:"mt-8",children:e.jsxs("div",{className:`backdrop-blur-sm rounded-2xl p-8 border-2 shadow-2xl transition-colors duration-300 ${s?"bg-gradient-to-br from-gray-800/90 to-gray-900/90 border-blue-500/30 shadow-blue-500/10":"bg-gradient-to-br from-white/95 to-gray-50/95 border-blue-400/40 shadow-blue-400/10"}`,children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:`text-2xl font-bold mb-3 transition-colors duration-300 ${s?"text-white":"text-gray-900"}`,children:"ðŸ“Š DonnÃ©es FinanciÃ¨res & ActualitÃ©s"}),e.jsxs("div",{className:`inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold transition-colors duration-300 ${s?"bg-gray-600/20 text-gray-300 border border-gray-500/30":"bg-gray-700/80 text-gray-200 border border-gray-600/50"}`,children:[e.jsx("span",{className:"mr-2",children:"ðŸ”—"}),"Source: Finnhub API"]}),e.jsx("p",{className:`text-sm mt-3 transition-colors duration-300 ${s?"text-gray-300":"text-gray-600"}`,children:"DonnÃ©es en temps rÃ©el avec 3 actualitÃ©s par titre"})]}),e.jsx("div",{className:"overflow-x-auto max-h-[70vh] overflow-y-auto scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-200 dark:scrollbar-thumb-gray-600 dark:scrollbar-track-gray-800 relative text-sm",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:`border-b-2 transition-colors duration-300 ${s?"border-blue-500/50 bg-gray-900":"border-blue-400/50 bg-gray-100"}`,children:[e.jsx("th",{className:`text-left py-2 px-3 font-bold transition-colors duration-300 ${s?"text-blue-300":"text-blue-700"}`,children:"ðŸ“ˆ Ticker"}),e.jsx("th",{className:`text-left py-2 px-3 font-bold transition-colors duration-300 ${s?"text-blue-300":"text-blue-700"}`,children:"ðŸ’° Prix"}),e.jsx("th",{className:`text-left py-2 px-3 font-bold transition-colors duration-300 ${s?"text-blue-300":"text-blue-700"}`,children:"ðŸ“Š Change"}),e.jsx("th",{className:`text-left py-2 px-3 font-bold transition-colors duration-300 ${s?"text-blue-300":"text-blue-700"}`,children:"ðŸ“ˆ P/E"}),e.jsx("th",{className:`text-left py-2 px-3 font-bold transition-colors duration-300 ${s?"text-blue-300":"text-blue-700"}`,children:"ðŸ’Ž Dividende"}),e.jsx("th",{className:`text-left py-2 px-3 font-bold transition-colors duration-300 ${s?"text-blue-300":"text-blue-700"}`,children:"ðŸ¢ Secteur"}),e.jsx("th",{className:`text-left py-2 px-3 font-bold transition-colors duration-300 ${s?"text-blue-300":"text-blue-700"}`,children:"â­ Rating"}),e.jsx("th",{className:`text-left py-2 px-3 font-bold transition-colors duration-300 ${s?"text-blue-300":"text-blue-700"}`,children:"ðŸ˜Š Sentiment"}),e.jsx("th",{className:`text-left py-2 px-3 font-bold transition-colors duration-300 ${s?"text-blue-300":"text-blue-700"}`,children:"âš¡ Actions"})]})}),e.jsx("tbody",{children:C.map(r=>{const c=S[r],b=c?.c?`$${c.c.toFixed(2)}`:"N/A",w=c?.d?`${c.d>0?"+":""}${c.d.toFixed(2)}`:"N/A",j=c?.dp?`${c.dp>0?"+":""}${c.dp.toFixed(2)}%`:"N/A",_=c?.d>0?"text-green-400":c?.d<0?"text-red-400":"text-gray-400",X=c?.profile,B=c?.fundamentals,J=B?.peRatio?Number.isFinite(B.peRatio)?B.peRatio.toFixed(2):B.peRatio:X?.pe?X.pe.toFixed(2):"N/A",le=B?.dividendYield?`${(Number(B.dividendYield)*100).toFixed(2)}%`:X?.dividend?`${(X.dividend*100).toFixed(2)}%`:"N/A",Ce=B?.sector||X?.industry||"N/A",ee=c?.recommendation,je=ee?.length>0?ee[0].buy+ee[0].strongBuy>ee[0].sell+ee[0].strongSell?"Achat":ee[0].sell+ee[0].strongSell>ee[0].buy+ee[0].strongBuy?"Vente":"Neutre":"N/A",ge=sortNewsByCredibility(D.filter(F=>(F.title+" "+F.description).toLowerCase().includes(r.toLowerCase()))).slice(0,2),he=(F,ce)=>{const oe=(F+" "+ce).toLowerCase(),ke=["hausse","croissance","gain","profit","positif","amÃ©lioration","succÃ¨s","fort","solide"],Ee=["baisse","chute","perte","nÃ©gatif","dÃ©clin","faible","problÃ¨me","risque","inquiÃ©tude"],be=ke.filter(Ne=>oe.includes(Ne)).length,Te=Ee.filter(Ne=>oe.includes(Ne)).length;return be>Te?{sentiment:"Positif",color:"text-green-400"}:Te>be?{sentiment:"NÃ©gatif",color:"text-red-400"}:{sentiment:"Neutre",color:"text-gray-400"}},se=ge.length>0?he(ge[0].title,ge[0].description):{sentiment:"N/A"};return e.jsxs(h.Fragment,{children:[e.jsxs("tr",{className:`border-b-2 transition-all duration-300 hover:scale-[1.02] ${s?"border-gray-600/50 hover:bg-gradient-to-r hover:from-gray-800/80 hover:to-gray-700/80 hover:shadow-lg hover:shadow-blue-500/10":"border-gray-300/50 hover:bg-gradient-to-r hover:from-gray-50/80 hover:to-white/80 hover:shadow-lg hover:shadow-blue-400/10"}`,children:[e.jsx("td",{className:"py-4 px-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:re(r),alt:`${r} logo`,className:"w-8 h-8 rounded-lg shadow-md",onError:F=>{F.target.style.display="none"}}),e.jsx("span",{className:`font-mono font-bold text-xl transition-colors duration-300 ${s?"text-white":"text-gray-900"}`,children:r})]})}),e.jsx("td",{className:`py-2 px-3 font-bold transition-colors duration-300 ${s?"text-white":"text-gray-900"}`,children:b}),e.jsxs("td",{className:`py-2 px-3 font-semibold transition-colors duration-300 ${_}`,children:[w," (",j,")"]}),e.jsx("td",{className:`py-2 px-3 font-medium transition-colors duration-300 ${s?"text-gray-200":"text-gray-700"}`,children:J}),e.jsx("td",{className:`py-2 px-3 font-medium transition-colors duration-300 ${s?"text-green-300":"text-green-600"}`,children:le}),e.jsx("td",{className:`py-2 px-3 text-sm transition-colors duration-300 ${s?"text-gray-300":"text-gray-600"}`,children:cleanText(Ce)}),e.jsx("td",{className:"py-4 px-3",children:e.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-bold transition-colors duration-300 ${je==="Achat"?"bg-green-500 text-white":je==="Vente"?"bg-red-500 text-white":"bg-yellow-500 text-black"}`,children:je})}),e.jsx("td",{className:"py-4 px-3",children:e.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-full transition-colors duration-300 ${se.sentiment==="Positif"?"bg-green-100 text-green-800":se.sentiment==="NÃ©gatif"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:[e.jsx("span",{className:"text-lg",children:se.sentiment==="Positif"?"ðŸ˜Š":se.sentiment==="NÃ©gatif"?"ðŸ˜Ÿ":"ðŸ˜"}),e.jsx("span",{className:"font-semibold",children:se.sentiment})]})}),e.jsx("td",{className:"py-4 px-3",children:e.jsx("button",{onClick:()=>{setSelectedStock(r),I("intellistocks")},className:`px-4 py-2 text-xs font-semibold rounded-lg transition-all duration-300 hover:scale-[1.02] shadow ${s?"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-500 hover:to-blue-600 text-white shadow-blue-500/25":"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-400 hover:to-blue-500 text-white shadow-blue-400/25"}`,children:"ðŸ“Š Voir dans JLab"})})]}),finvizNews[r]&&e.jsx("tr",{className:`border-b-2 transition-all duration-300 ${s?"border-purple-500/30 bg-gradient-to-r from-purple-900/20 to-indigo-900/20 hover:from-purple-900/30 hover:to-indigo-900/30":"border-purple-400/30 bg-gradient-to-r from-purple-50/60 to-indigo-50/60 hover:from-purple-100/80 hover:to-indigo-100/80"}`,children:e.jsx("td",{colSpan:"9",className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-full ${s?"bg-purple-500/20":"bg-purple-100"}`,children:e.jsx(m,{name:"Sparkles",className:"w-5 h-5 text-purple-500"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded ${s?"bg-purple-500/30 text-purple-300":"bg-purple-200 text-purple-700"}`,children:"ðŸ”¥ CE QUI BOUGE"}),e.jsx("span",{className:`text-xs ${s?"text-gray-400":"text-gray-600"}`,children:finvizNews[r].date})]}),e.jsx("p",{className:`text-sm font-medium leading-relaxed ${s?"text-gray-200":"text-gray-800"}`,children:finvizNews[r].headline}),finvizNews[r].link&&e.jsxs("a",{href:finvizNews[r].link,target:"_blank",rel:"noopener noreferrer",onClick:F=>F.stopPropagation(),className:`text-xs mt-2 inline-flex items-center gap-1 hover:underline ${s?"text-purple-400":"text-purple-600"}`,children:[e.jsx(m,{name:"ExternalLink",className:"w-3 h-3"}),"Lire l'article complet"]})]})]})})}),ge.map((F,ce)=>e.jsx("tr",{className:`border-b-2 transition-all duration-300 hover:scale-[1.01] ${s?"border-gray-600/30 bg-gradient-to-r from-gray-800/40 to-gray-700/40 hover:from-gray-700/60 hover:to-gray-600/60":"border-gray-300/30 bg-gradient-to-r from-gray-50/60 to-white/60 hover:from-gray-100/80 hover:to-gray-50/80"}`,children:e.jsx("td",{colSpan:"9",className:"py-6 px-4",children:e.jsx("div",{className:`transition-colors duration-300 ${s?"text-gray-200":"text-gray-700"}`,children:e.jsxs("div",{className:"flex items-start gap-4",children:[(()=>{const oe=ae(F.title,F.description,F.sentiment);return e.jsx("div",{className:`p-3 rounded-full transition-colors duration-300 ${s?"bg-gray-600/20":"bg-gray-200/60"}`,children:e.jsx(m,{name:oe.icon,className:`w-6 h-6 ${oe.color}`})})})(),e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:`font-bold text-lg mb-3 transition-colors duration-300 ${s?"text-white":"text-gray-900"}`,children:F.url?e.jsx("a",{href:F.url,target:"_blank",rel:"noopener noreferrer",className:`hover:underline transition-colors duration-300 ${s?"text-blue-300 hover:text-blue-200":"text-blue-600 hover:text-blue-700"}`,children:Z(F.title)}):Z(F.title)}),e.jsx("p",{className:`text-base mb-4 leading-relaxed transition-colors duration-300 ${s?"text-gray-300":"text-gray-600"}`,children:Z(F.description)}),e.jsxs("div",{className:`flex items-center gap-4 text-sm transition-colors duration-300 ${s?"text-gray-400":"text-gray-500"}`,children:[e.jsx("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full transition-colors duration-300 ${s?"bg-gray-800":"bg-gray-200"}`,children:e.jsx("span",{className:"font-semibold",children:F.source?.name||"Source inconnue"})}),e.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full transition-colors duration-300 ${s?"bg-gray-800":"bg-gray-200"}`,children:[e.jsx("span",{children:"ðŸ•’"}),e.jsx("span",{children:F.publishedAt?new Date(F.publishedAt).toLocaleString("fr-FR"):"Date inconnue"})]}),F.url&&e.jsx("a",{href:F.url,target:"_blank",rel:"noopener noreferrer",className:`px-4 py-2 rounded-full font-semibold transition-all duration-300 hover:scale-105 ${s?"bg-gray-800 hover:bg-gray-700 text-white shadow-lg shadow-gray-500/25":"bg-gray-700 hover:bg-gray-600 text-white shadow-lg shadow-gray-400/25"}`,children:"ðŸ“– Lire l'article"})]})]})]})})})},`${r}-news-${ce}`))]},r)})})]})}),e.jsxs("div",{className:`text-center mt-8 p-6 rounded-xl transition-colors duration-300 ${s?"bg-gradient-to-r from-blue-900/30 to-purple-900/30 border border-blue-500/20":"bg-gradient-to-r from-blue-100/80 to-purple-100/80 border border-blue-300/30"}`,children:[e.jsx("div",{className:`text-lg font-semibold mb-2 transition-colors duration-300 ${s?"text-blue-300":"text-blue-700"}`,children:"ðŸ“œ Section Principale - DonnÃ©es FinanciÃ¨res"}),e.jsx("div",{className:`text-sm transition-colors duration-300 ${s?"text-gray-300":"text-gray-600"}`,children:"Faites dÃ©filer pour voir toutes les donnÃ©es â€¢ Source: Finnhub API â€¢ 3 actualitÃ©s par titre"}),e.jsx("div",{className:`text-xs mt-2 transition-colors duration-300 ${s?"text-gray-400":"text-gray-500"}`,children:"DonnÃ©es mises Ã  jour automatiquement toutes les 5 minutes"})]})]})}),C.length===0&&e.jsx("div",{className:"bg-yellow-900/20 backdrop-blur-sm rounded-lg p-6 border border-yellow-300/20",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-yellow-400 text-2xl",children:"âš ï¸"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-yellow-200 font-semibold",children:"Aucun ticker configurÃ©"}),e.jsx("p",{className:"text-yellow-300/80 text-sm mt-1",children:"Ajoutez des tickers dans l'onglet Seeking Alpha pour voir les donnÃ©es ici."})]})]})}),D.length>0&&e.jsx("div",{className:"mt-12",children:e.jsxs("div",{className:`backdrop-blur-sm rounded-2xl p-8 border-2 shadow-2xl transition-colors duration-300 ${s?"bg-gradient-to-br from-gray-800/90 to-gray-900/90 border-purple-500/30 shadow-purple-500/10":"bg-gradient-to-br from-white/95 to-gray-50/95 border-purple-400/40 shadow-purple-400/10"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:`text-2xl font-bold transition-colors duration-300 ${s?"text-white":"text-gray-900"}`,children:"ðŸ“° ActualitÃ©s du MarchÃ©"}),e.jsxs("div",{className:`px-4 py-2 rounded-full text-sm font-semibold transition-colors duration-300 ${s?"bg-purple-500/20 text-purple-300 border border-purple-500/30":"bg-purple-100 text-purple-700 border border-purple-300"}`,children:[D.length," articles"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:D.slice(0,12).map((r,c)=>{const b=ue(r.source?.name||""),w=me(b);return e.jsxs("div",{role:"button",tabIndex:0,onClick:()=>{r.url},onKeyDown:j=>{(j.key==="Enter"||j.key===" ")&&r.url&&j.preventDefault()},className:`p-6 rounded-xl cursor-pointer transition-all hover:scale-[1.02] focus:outline-none focus:ring-2 focus:ring-emerald-500 ${s?"bg-gradient-to-br from-gray-700/50 to-gray-800/50 hover:from-gray-700/70 hover:to-gray-800/70 border border-gray-600":"bg-gradient-to-br from-white to-gray-50 hover:from-gray-50 hover:to-gray-100 border border-gray-200 shadow-lg"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold ${w==="premium"?"bg-yellow-500/20 text-yellow-500 border border-yellow-500/30":w==="high"?"bg-green-500/20 text-green-500 border border-green-500/30":w==="medium"?"bg-blue-500/20 text-blue-500 border border-blue-500/30":w==="low"?"bg-gray-500/20 text-gray-500 border border-gray-500/30":"bg-red-500/20 text-red-500 border border-red-500/30"}`,children:r.source?.name||"Source inconnue"}),e.jsx("div",{className:`text-xs ${s?"text-gray-400":"text-gray-600"}`,children:new Date(r.publishedAt).toLocaleDateString("fr-FR",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),e.jsx("h3",{className:`font-bold text-lg mb-3 line-clamp-2 transition-colors duration-300 ${s?"text-white":"text-gray-900"}`,children:r.title}),r.description&&e.jsx("p",{className:`text-sm mb-4 line-clamp-3 transition-colors duration-300 ${s?"text-gray-300":"text-gray-600"}`,children:r.description}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsxs("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",onClick:j=>j.stopPropagation(),className:`flex-1 px-3 py-2 rounded-lg text-center text-sm font-semibold transition-all ${s?"bg-blue-600 hover:bg-blue-500 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:[e.jsx(H,{name:"ExternalLink",className:"w-4 h-4 inline mr-1"}),"Lire"]}),e.jsxs("button",{onClick:j=>{j.stopPropagation(),summarizeWithEmma(r.url,r.title)},className:`flex-1 px-3 py-2 rounded-lg text-center text-sm font-semibold transition-all ${s?"bg-purple-600 hover:bg-purple-500 text-white":"bg-purple-500 hover:bg-purple-600 text-white"}`,children:[e.jsx(H,{name:"Brain",className:"w-4 h-4 inline mr-1"}),"Emma"]})]})]},c)})}),D.length>12&&e.jsx("div",{className:"text-center mt-6",children:e.jsxs("button",{onClick:()=>I("markets-economy"),className:`px-6 py-3 rounded-lg font-semibold transition-all ${s?"bg-purple-600 hover:bg-purple-500 text-white":"bg-purple-500 hover:bg-purple-600 text-white"}`,children:["Voir toutes les actualitÃ©s (",D.length,") â†’"]})})]})})]})};window.StocksNewsTab=Pe;const gt=()=>typeof window<"u"&&window.EmailBriefingsTab?h.createElement(window.EmailBriefingsTab):e.jsx("div",{className:"p-4 rounded border bg-yellow-50 border-yellow-200 text-yellow-800",children:"EmailBriefingsTab module indisponible (component global manquant)."}),ht=()=>typeof window<"u"&&window.AskEmmaTab?h.createElement(window.AskEmmaTab):h.createElement("div",{className:"p-4 rounded border bg-yellow-50 border-yellow-200 text-yellow-800"},"AskEmmaTab module indisponible (component global manquant)."),bt=()=>typeof window<"u"&&window.IntelliStocksTab?h.createElement(window.IntelliStocksTab):e.jsx("div",{className:"p-4 rounded border bg-yellow-50 border-yellow-200 text-yellow-800",children:"IntelliStocksTab module indisponible (component global manquant)."}),pt=()=>typeof window<"u"?window.BetaCombinedDashboard||{}:{},ft=()=>typeof window<"u"?window.DASHBOARD_UTILS||{}:{},yt=()=>typeof window<"u"&&window.LucideIcon?window.LucideIcon:()=>null,vt=()=>typeof window<"u"&&typeof window.summarizeWithEmma=="function"?window.summarizeWithEmma:null,wt=a=>Array.isArray(a)?a:[],we=(a,g=()=>{})=>typeof a=="function"?a:g,Ie=()=>{const a=pt(),g=ft(),M=yt(),O=vt(),{isDarkMode:m=!0,newsData:H=[],loading:s=!1,lastUpdate:C=null,fetchNews:S}=a,R=wt(H),T=we(S,async()=>{}),d=we(g.cleanText,l=>l||""),V=we(g.getNewsIcon,()=>({icon:"Info",color:"text-gray-400"})),z=we(g.isFrenchArticle,()=>!1),E=we(g.getSourceCredibility,()=>50),Q=(l,U)=>{l&&(O?O(l,U):typeof window<"u"&&window.open(l,"_blank","noopener,noreferrer"))},[f,v]=h.useState(!1),[y,D]=h.useState("all"),[Y,n]=h.useState("all"),[i,x]=h.useState("all"),[I,re]=h.useState([]),Z=h.useRef(null),ae=h.useRef(null),q=h.useRef(null),W=["Bloomberg","Reuters","WSJ","CNBC","MarketWatch","La Presse","Les Affaires"],ne=["US","Canada","Europe","Asie"],ie=["Tech","Finance","Ã‰nergie","SantÃ©","Crypto","IA"];h.useEffect(()=>{if(Z.current){Z.current.innerHTML="";const l=document.createElement("script");l.src="https://s3.tradingview.com/external-embedding/embed-widget-market-overview.js",l.async=!0,l.innerHTML=JSON.stringify({colorTheme:m?"dark":"light",dateRange:"1D",showChart:!0,locale:"fr",width:"100%",height:"100%",largeChartUrl:"",isTransparent:!1,showSymbolLogo:!0,showFloatingTooltip:!0,tabs:[{title:"Indices",symbols:[{s:"FOREXCOM:SPXUSD",d:"S&P 500"},{s:"FOREXCOM:NSXUSD",d:"US 100"},{s:"FOREXCOM:DJI",d:"Dow 30"},{s:"INDEX:NKY",d:"Nikkei 225"},{s:"INDEX:DEU40",d:"DAX Index"},{s:"FOREXCOM:UKXGBP",d:"UK 100"}]},{title:"Forex",symbols:[{s:"FX:EURUSD",d:"EUR/USD"},{s:"FX:GBPUSD",d:"GBP/USD"},{s:"FX:USDJPY",d:"USD/JPY"},{s:"FX:USDCAD",d:"USD/CAD"}]},{title:"Crypto",symbols:[{s:"BINANCE:BTCUSDT",d:"Bitcoin"},{s:"BINANCE:ETHUSDT",d:"Ethereum"},{s:"BINANCE:BNBUSDT",d:"BNB"},{s:"BINANCE:SOLUSDT",d:"Solana"}]}]}),Z.current.appendChild(l)}if(ae.current){ae.current.innerHTML="";const l=document.createElement("script");l.src="https://s3.tradingview.com/external-embedding/embed-widget-stock-heatmap.js",l.async=!0,l.innerHTML=JSON.stringify({exchanges:[],dataSource:"SPX500",grouping:"sector",blockSize:"market_cap_basic",blockColor:"change",locale:"fr",symbolUrl:"",colorTheme:m?"dark":"light",hasTopBar:!0,isDataSetEnabled:!0,isZoomEnabled:!0,hasSymbolTooltip:!0,width:"100%",height:"100%"}),ae.current.appendChild(l)}if(q.current){q.current.innerHTML="";const l=document.createElement("script");l.src="https://s3.tradingview.com/external-embedding/embed-widget-screener.js",l.async=!0,l.innerHTML=JSON.stringify({width:"100%",height:"100%",defaultColumn:"overview",defaultScreen:"most_capitalized",market:"america",showToolbar:!0,colorTheme:m?"dark":"light",locale:"fr",isTransparent:!1}),q.current.appendChild(l)}return()=>{Z.current&&(Z.current.innerHTML=""),ae.current&&(ae.current.innerHTML=""),q.current&&(q.current.innerHTML="")}},[m]);const de=(l,U)=>{if(!l||!U)return!1;const r=l.toLowerCase(),c=U.toLowerCase(),b={bloomberg:["bloomberg","bloomberg.com","bloomberg news"],reuters:["reuters","reuters.com","thomson reuters"],wsj:["wsj","wall street journal","the wall street journal","wsj.com"],cnbc:["cnbc","cnbc.com"],marketwatch:["marketwatch","marketwatch.com","market watch"],"la presse":["la presse","lapresse","lapresse.ca","presse"],"les affaires":["les affaires","lesaffaires","lesaffaires.com","affaires"]};if(r.includes(c)||c.includes(r))return!0;const w=b[c];return w?w.some(j=>r.includes(j)):!1},[ue,me]=h.useState(!1);return h.useEffect(()=>{let l=[...R],U=!0;if(f&&(l=l.filter(r=>z(r))),y!=="all"){const r=l.length;l=l.filter(c=>de(c.source?.name,y)),l.length===0&&r>0&&(l=R.filter(c=>{const b=(c.source?.name||"").toLowerCase(),w=y.toLowerCase();return b.includes(w)||w.includes(b)}),U=!1)}if(Y!=="all"){const r={US:["u.s.","united states","american","wall street","nasdaq","dow","s&p","sp500","federal reserve","fed","sec","new york","nyse","us market","us economy"],Canada:["canada","canadian","toronto","tsx","montreal","quebec","ontario","alberta","vancouver","canadian market","canadian economy","bank of canada","boc"],Europe:["europe","european","eu","ecb","london","frankfurt","paris","ftse","dax","cac","eurozone","euro","uk","germany","france","italy","spain"],Asie:["asia","asian","china","chinese","japan","japanese","tokyo","shanghai","hong kong","nikkei","south korea","korean","singapore","india","indian","taiwan"]},c=l.length;if(l=l.filter(b=>{const w=((b.title||"")+" "+(b.description||"")).toLowerCase();return r[Y]?.some(j=>w.includes(j))}),l.length===0&&c>0){const b={US:["us","usa","america"],Canada:["canada"],Europe:["europe","eu"],Asie:["asia","china","japan"]};l=R.filter(w=>{const j=((w.title||"")+" "+(w.description||"")).toLowerCase();return b[Y]?.some(_=>j.includes(_))}),U=!1}}if(i!=="all"){const r={Tech:["tech","technology","software","cloud","apple","google","microsoft","amazon","meta","tesla","nvidia","amd","intel","samsung","iphone","android","ai","artificial intelligence"],Finance:["bank","banque","finance","financial","trading","investment","investor","credit","loan","mortgage","interest rate","fed","central bank","stock market","equity","bond"],Ã‰nergie:["energy","oil","gas","petroleum","renewable","solar","wind","nuclear","exxon","chevron","bp","shell","crude","barrel","opec"],SantÃ©:["health","healthcare","pharma","pharmaceutical","medical","drug","medicine","vaccine","hospital","medicare","pfizer","moderna","johnson & johnson"],Crypto:["crypto","cryptocurrency","bitcoin","btc","ethereum","eth","blockchain","coinbase","binance","crypto market","digital currency"],IA:["ai","artificial intelligence","machine learning","deep learning","chatgpt","openai","nvidia","neural network","llm","large language model"]},c=l.length;if(l=l.filter(b=>{const w=((b.title||"")+" "+(b.description||"")).toLowerCase();return r[i]?.some(j=>w.includes(j))}),l.length===0&&c>0){const b={Tech:["tech","technology"],Finance:["finance","financial","bank"],Ã‰nergie:["energy","oil","gas"],SantÃ©:["health","medical"],Crypto:["crypto","bitcoin"],IA:["ai","artificial intelligence"]};l=R.filter(w=>{const j=((w.title||"")+" "+(w.description||"")).toLowerCase();return b[i]?.some(_=>j.includes(_))}),U=!1}}l.length===0&&R.length>0&&(l=R.slice(0,20),U=!1),me(!U),re(l)},[R,f,y,Y,i]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:`text-2xl font-bold transition-colors duration-300 ${m?"text-white":"text-gray-900"}`,children:"ðŸ“° MarchÃ©s & Ã‰conomie"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>v(!f),className:`px-4 py-2 rounded-lg font-semibold transition-all duration-300 ${f?"bg-blue-600 text-white":m?"bg-gray-800 hover:bg-gray-700 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-900"}`,children:["ðŸ‡«ðŸ‡· FranÃ§ais ",f&&"âœ“"]}),e.jsx("button",{onClick:T,disabled:s,className:`px-4 py-2 rounded-lg font-semibold transition-all duration-300 disabled:opacity-50 ${m?"bg-gray-800 hover:bg-gray-700 text-white":"bg-gray-700 hover:bg-gray-600 text-white"}`,children:s?"â³ Actualisation...":"ðŸ”„ Actualiser"})]})]}),C&&e.jsxs("p",{className:"text-gray-400 text-sm",children:["DerniÃ¨re mise Ã  jour: ",new Date(C).toLocaleString("fr-FR")]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 mt-6",children:[e.jsxs("div",{className:`rounded-xl overflow-hidden border-2 transition-colors duration-300 ${m?"bg-gray-800/50 border-blue-500/30":"bg-white border-blue-400/40"}`,children:[e.jsxs("div",{className:`p-4 border-b ${m?"border-gray-700":"border-gray-200"}`,children:[e.jsx("h3",{className:`text-lg font-bold transition-colors duration-300 ${m?"text-white":"text-gray-900"}`,children:"ðŸ“Š Vue d'ensemble des MarchÃ©s (Temps RÃ©el)"}),e.jsx("p",{className:`text-sm transition-colors duration-300 ${m?"text-gray-400":"text-gray-600"}`,children:"Indices majeurs, Forex, Crypto - DonnÃ©es en direct"})]}),e.jsx("div",{ref:Z,style:{height:"400px"}})]}),e.jsxs("div",{className:`rounded-xl overflow-hidden border-2 transition-colors duration-300 ${m?"bg-gray-800/50 border-green-500/30":"bg-white border-green-400/40"}`,children:[e.jsxs("div",{className:`p-4 border-b ${m?"border-gray-700":"border-gray-200"}`,children:[e.jsx("h3",{className:`text-lg font-bold transition-colors duration-300 ${m?"text-white":"text-gray-900"}`,children:"ðŸ”¥ Heatmap BoursiÃ¨re"}),e.jsx("p",{className:`text-sm transition-colors duration-300 ${m?"text-gray-400":"text-gray-600"}`,children:"Visualisation des performances par secteur"})]}),e.jsx("div",{ref:ae,style:{height:"500px"}})]}),e.jsxs("div",{className:`rounded-xl overflow-hidden border-2 transition-colors duration-300 ${m?"bg-gray-800/50 border-purple-500/30":"bg-white border-purple-400/40"}`,children:[e.jsxs("div",{className:`p-4 border-b ${m?"border-gray-700":"border-gray-200"}`,children:[e.jsx("h3",{className:`text-lg font-bold transition-colors duration-300 ${m?"text-white":"text-gray-900"}`,children:"ðŸš€ Screener - Top Gainers & Losers"}),e.jsx("p",{className:`text-sm transition-colors duration-300 ${m?"text-gray-400":"text-gray-600"}`,children:"Actions les plus performantes et en baisse"})]}),e.jsx("div",{ref:q,style:{height:"500px"}})]})]}),e.jsx("div",{className:`p-4 rounded-xl transition-colors duration-300 ${m?"bg-gradient-to-br from-gray-800 to-gray-900 border border-gray-700":"bg-gradient-to-br from-white to-gray-50 border border-gray-200"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:`text-3xl font-bold ${m?"text-white":"text-gray-900"}`,children:I.length}),e.jsx("div",{className:`text-sm ${m?"text-gray-400":"text-gray-600"}`,children:"Articles filtrÃ©s"})]}),e.jsx(M,{name:"Newspaper",className:`w-12 h-12 ${m?"text-gray-600":"text-gray-300"}`})]})}),e.jsxs("div",{className:`p-6 rounded-xl transition-colors duration-300 ${m?"bg-gradient-to-br from-gray-800 to-gray-900 border border-gray-700":"bg-gradient-to-br from-white to-gray-50 border border-gray-200"}`,children:[e.jsx("h3",{className:`text-lg font-bold mb-4 ${m?"text-white":"text-gray-900"}`,children:"ðŸ” Filtres"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:`text-sm font-semibold mb-2 block ${m?"text-gray-300":"text-gray-700"}`,children:"ðŸ“° Source"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>D("all"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${y==="all"?"bg-blue-600 text-white":m?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Toutes"}),W.map(l=>e.jsx("button",{onClick:()=>D(l),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${y===l?"bg-blue-600 text-white":m?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:l},l))]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:`text-sm font-semibold mb-2 block ${m?"text-gray-300":"text-gray-700"}`,children:"ðŸŒ MarchÃ©"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>n("all"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${Y==="all"?"bg-green-600 text-white":m?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Tous"}),ne.map(l=>e.jsx("button",{onClick:()=>n(l),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${Y===l?"bg-green-600 text-white":m?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:l},l))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-sm font-semibold mb-2 block ${m?"text-gray-300":"text-gray-700"}`,children:"ðŸ·ï¸ ThÃ©matique"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>x("all"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${i==="all"?"bg-purple-600 text-white":m?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Toutes"}),ie.map(l=>e.jsx("button",{onClick:()=>x(l),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${i===l?"bg-purple-600 text-white":m?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:l},l))]})]}),ue&&I.length>0&&e.jsx("div",{className:`mt-4 p-4 rounded-lg border-2 ${m?"bg-yellow-900/20 border-yellow-600/50 text-yellow-200":"bg-yellow-50 border-yellow-300 text-yellow-800"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-xl",children:"ðŸ’¡"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-1",children:"RÃ©sultats similaires affichÃ©s"}),e.jsx("p",{className:"text-sm",children:"Aucun rÃ©sultat exact trouvÃ© pour les filtres sÃ©lectionnÃ©s. Nous affichons des articles similaires qui pourraient vous intÃ©resser."})]})]})})]}),e.jsx("div",{className:"space-y-4",children:I.length===0?e.jsxs("div",{className:`text-center py-12 ${m?"text-gray-400":"text-gray-600"}`,children:[e.jsx(M,{name:"AlertCircle",className:"w-16 h-16 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-lg font-semibold mb-2",children:f?"Aucun article en franÃ§ais trouvÃ©":"Aucune nouvelle disponible"}),e.jsx("p",{className:"text-sm",children:f?"Essayez de dÃ©sactiver le filtre franÃ§ais ou actualisez les donnÃ©es":"Cliquez sur Actualiser pour charger les derniÃ¨res nouvelles"})]}):I.map((l,U)=>{const r=V(l.title,l.description,l.sentiment),c=E(l.source?.name);return e.jsx("div",{className:`p-6 rounded-xl transition-all duration-300 hover:scale-[1.01] ${m?"bg-gradient-to-br from-gray-800 to-gray-900 border border-gray-700 hover:border-gray-600":"bg-gradient-to-br from-white to-gray-50 border border-gray-200 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`p-3 rounded-full transition-colors duration-300 ${m?"bg-gray-700/50":"bg-gray-200/60"}`,children:e.jsx(M,{name:r.icon,className:`w-6 h-6 ${r.color}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:`font-bold text-lg mb-2 transition-colors duration-300 ${m?"text-white":"text-gray-900"}`,children:l.url?e.jsx("a",{href:l.url,target:"_blank",rel:"noopener noreferrer",className:`hover:underline transition-colors duration-300 ${m?"text-blue-300 hover:text-blue-200":"text-blue-600 hover:text-blue-700"}`,children:d(l.title)}):d(l.title)}),e.jsx("p",{className:`text-base mb-4 leading-relaxed transition-colors duration-300 ${m?"text-gray-300":"text-gray-600"}`,children:d(l.description)}),e.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[e.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full transition-colors duration-300 ${c>=100?"bg-purple-500/20 text-purple-500 border border-purple-500/30":c>=85?"bg-blue-500/20 text-blue-500 border border-blue-500/30":c>=75?"bg-green-500/20 text-green-500 border border-green-500/30":m?"bg-gray-800 text-gray-300":"bg-gray-200 text-gray-700"}`,children:[c>=100&&e.jsx("span",{className:"text-xs",children:"â­"}),e.jsx("span",{className:"text-xs font-semibold",children:l.source?.name||"Source inconnue"})]}),e.jsx("span",{className:`text-xs ${m?"text-gray-400":"text-gray-500"}`,children:new Date(l.publishedAt||l.publishedDate).toLocaleString("fr-FR")}),z(l)&&e.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-bold bg-blue-500/20 text-blue-500 border border-blue-500/30",children:"ðŸ‡«ðŸ‡· FR"}),l.url&&e.jsx("button",{onClick:()=>Q(l.url,l.title),className:`px-3 py-1 rounded-lg text-xs font-semibold transition-all duration-200 hover:scale-105 ${m?"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-500 hover:to-indigo-500 text-white":"bg-gradient-to-r from-purple-500 to-indigo-500 hover:from-purple-400 hover:to-indigo-400 text-white"}`,children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(M,{name:"Brain",className:"w-3 h-3"}),"RÃ©sumÃ© avec Emma"]})})]})]})]})},U)})})]})},jt=()=>{const g=(window.BetaCombinedDashboard||{}).isDarkMode??!0,M=window.EmailBriefingsTab;return M?h.createElement(M,{isDarkMode:g}):e.jsx("div",{className:"p-4 rounded border bg-yellow-50 border-yellow-200 text-yellow-800",children:"EmailBriefingsTab indisponible (component global manquant)."})},Nt=()=>typeof window<"u"?window.BetaCombinedDashboard||{}:{},Ue=a=>{typeof window<"u"&&window.open&&a&&window.open(a,"_blank","noopener,noreferrer")},Be=()=>{const{isDarkMode:a=!0}=Nt(),g=h.useRef(null),M=h.useRef(null),O=h.useRef(null),m=h.useRef(null),H=h.useRef(null),s=h.useRef(null),C=h.useRef(null),S=h.useRef(null),R=h.useRef(null),T=h.useRef(null),d=h.useRef(null),V=h.useRef(null),z=h.useRef(null),[E,Q]=h.useState("BITSTAMP:BTCUSD"),[f,v]=h.useState(""),[y,D]=h.useState(!1),Y=h.useRef(null);return h.useEffect(()=>{if(typeof window>"u")return()=>{};const n=i=>{if(i.origin.includes("tradingview.com")){console.log("ðŸ“Š TradingView message:",i.data);try{const x=typeof i.data=="string"?JSON.parse(i.data):i.data;x.name==="tv-widget-symbol-changed"&&x.data?.symbol&&(console.log("âœ… Symbol changed in Advanced Chart:",x.data.symbol),Q(x.data.symbol)),x.type==="symbol-change"&&x.symbol&&(console.log("âœ… Symbol changed in Advanced Chart:",x.symbol),Q(x.symbol)),x.symbol&&!x.name&&!x.type&&(console.log("âœ… Symbol changed in Advanced Chart:",x.symbol),Q(x.symbol))}catch{}}};return window.addEventListener("message",n),()=>{window.removeEventListener("message",n)}},[]),h.useEffect(()=>{const n=g.current;if(!n)return;n.innerHTML="";const i=document.createElement("div");i.className="tradingview-widget-container__widget",n.appendChild(i);const x=document.createElement("script");return x.src="https://s3.tradingview.com/external-embedding/embed-widget-forex-heat-map.js",x.async=!0,x.innerHTML=JSON.stringify({colorTheme:a?"dark":"light",isTransparent:!0,locale:"fr",currencies:["EUR","USD","JPY","GBP","CHF","AUD","CAD","CNY"],width:"100%",height:400}),n.appendChild(x),()=>{n&&(n.innerHTML="")}},[a]),h.useEffect(()=>{const n=M.current;if(!n)return;n.innerHTML="";const i=document.createElement("div");i.className="tradingview-widget-container__widget",n.appendChild(i);const x=document.createElement("script");return x.src="https://s3.tradingview.com/external-embedding/embed-widget-events.js",x.async=!0,x.innerHTML=JSON.stringify({colorTheme:"light",isTransparent:!1,locale:"en",countryFilter:"ar,au,br,ca,cn,fr,de,in,id,it,jp,kr,mx,ru,sa,za,tr,gb,us,eu",importanceFilter:"-1,0,1",width:400,height:550}),n.appendChild(x),()=>{n&&(n.innerHTML="")}},[]),h.useEffect(()=>{const n=O.current;if(!n)return;n.innerHTML="";const i=document.createElement("script");return i.src="https://s3.tradingview.com/external-embedding/embed-widget-forex-cross-rates.js",i.type="text/javascript",i.async=!0,i.innerHTML=JSON.stringify({colorTheme:a?"dark":"light",isTransparent:!1,locale:"fr",currencies:["EUR","USD","JPY","GBP","CHF","AUD","CAD","NZD","CNY"],backgroundColor:a?"#1f2937":"#ffffff",width:"100%",height:400}),n.appendChild(i),()=>{n&&(n.innerHTML="")}},[a]),h.useEffect(()=>{const n=m.current;if(!n)return;n.innerHTML="";const i=document.createElement("script");return i.src="https://s3.tradingview.com/external-embedding/embed-widget-stock-heatmap.js",i.type="text/javascript",i.async=!0,i.innerHTML=JSON.stringify({dataSource:"AllUSA",blockSize:"market_cap_basic",blockColor:"change",grouping:"sector",locale:"fr",symbolUrl:"",colorTheme:"dark",exchanges:[],hasTopBar:!0,isDataSetEnabled:!0,isZoomEnabled:!0,hasSymbolTooltip:!0,isMonoSize:!1,width:"100%",height:"100%"}),n.appendChild(i),()=>{n&&(n.innerHTML="")}},[]),h.useEffect(()=>{const n=H.current;if(!n)return;n.innerHTML="";const i=document.createElement("script");return i.src="https://s3.tradingview.com/external-embedding/embed-widget-stock-heatmap.js",i.type="text/javascript",i.async=!0,i.innerHTML=JSON.stringify({dataSource:"TSX",blockSize:"market_cap_basic",blockColor:"change",grouping:"sector",locale:"fr",symbolUrl:"",colorTheme:"dark",exchanges:[],hasTopBar:!0,isDataSetEnabled:!0,isZoomEnabled:!0,hasSymbolTooltip:!0,isMonoSize:!1,width:"100%",height:"100%"}),n.appendChild(i),()=>{n&&(n.innerHTML="")}},[]),h.useEffect(()=>{const n=s.current;if(!n)return;n.innerHTML="";const i=document.createElement("script");return i.src="https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js",i.type="text/javascript",i.async=!0,i.innerHTML=JSON.stringify({allow_symbol_change:!0,calendar:!1,details:!0,hide_side_toolbar:!1,hide_top_toolbar:!1,hide_legend:!1,hide_volume:!1,hotlist:!1,interval:"D",locale:"fr",save_image:!0,style:"3",symbol:E,theme:"dark",timezone:"America/Toronto",backgroundColor:"#0F0F0F",gridColor:"rgba(242, 242, 242, 0.06)",watchlist:["FOREXCOM:SPXUSD","FOREXCOM:NSXUSD","FOREXCOM:DJI","NASDAQ:AAPL","NASDAQ:MSFT","NASDAQ:GOOGL","NASDAQ:AMZN","NASDAQ:NVDA","NASDAQ:TSLA","NASDAQ:META","BITSTAMP:BTCUSD","BITSTAMP:ETHUSD","NYSE:JPM","NYSE:BAC","NYSE:GS"],withdateranges:!0,range:"YTD",compareSymbols:[],show_popup_button:!0,popup_height:"800",popup_width:"1200",studies:["STD;Smoothed%1Moving%1Average","STD;RSI"],width:1200,height:800}),n.appendChild(i),()=>{n&&(n.innerHTML="")}},[E]),h.useEffect(()=>{const n=C.current;if(!n)return;n.innerHTML="";const i=document.createElement("script");return i.src="https://s3.tradingview.com/external-embedding/embed-widget-market-quotes.js",i.type="text/javascript",i.async=!0,i.innerHTML=JSON.stringify({colorTheme:"dark",locale:"fr",largeChartUrl:"",isTransparent:!1,showSymbolLogo:!0,backgroundColor:"#0F0F0F",support_host:"https://www.tradingview.com",width:600,height:800,symbolsGroups:[{name:"Indices",symbols:[{name:"FOREXCOM:SPXUSD",displayName:"S&P 500 Index"},{name:"FOREXCOM:NSXUSD",displayName:"US 100 Cash CFD"},{name:"FOREXCOM:DJI",displayName:"Dow Jones Industrial Average Index"},{name:"TSX:TSX",displayName:"TSX"},{name:"XETR:DAX",displayName:"DAX"},{name:"GOMARKETS:FTSE100",displayName:"FTSE100"},{name:"INDEX:NKY",displayName:"Nikkei 225"}]},{name:"Futures",symbols:[{name:"BMFBOVESPA:ISP1!",displayName:"S&P 500"},{name:"CMCMARKETS:GOLD",displayName:"Gold"},{name:"PYTH:WTI3!",displayName:"WTI Crude Oil"}]},{name:"Bonds",symbols:[{name:"TVC:US03MY",displayName:"US yield 3 mois"},{name:"TVC:US02Y",displayName:"US yield 2 ans"},{name:"TVC:US05Y",displayName:"US yield 5 ans"},{name:"TVC:US10Y",displayName:"US yield 10 ans"},{name:"TVC:US30Y",displayName:"US yield 30 ans"},{name:"TVC:CA03MY",displayName:"CAN yield 3 mois"},{name:"TVC:CA01Y",displayName:"CAN yield 1 an"},{name:"TVC:CA05Y",displayName:"CAN yield 5 ans"},{name:"TVC:CA10Y",displayName:"CAN yield 10 ans"},{name:"TVC:CA30Y",displayName:"CAN yield 30 ans"}]},{name:"Forex",symbols:[{name:"FX:USDCAD",displayName:"USD to CAD"},{name:"FX_IDC:CADUSD",displayName:"CAD to USD"},{name:"FX:EURCAD",displayName:"EUR to CAD"},{name:"SAXO:CADEUR",displayName:"CAD to EUR"}]}]}),n.appendChild(i),()=>{n&&(n.innerHTML="")}},[]),h.useEffect(()=>{const n=S.current;if(!n)return;n.innerHTML="";const i=document.createElement("script");return i.src="https://s3.tradingview.com/external-embedding/embed-widget-symbol-info.js",i.type="text/javascript",i.async=!0,i.innerHTML=JSON.stringify({symbol:E,colorTheme:"dark",isTransparent:!1,locale:"fr",width:"100%"}),n.appendChild(i),()=>{n&&(n.innerHTML="")}},[E]),h.useEffect(()=>{const n=R.current;if(!n)return;n.innerHTML="";const i=document.createElement("script");return i.src="https://s3.tradingview.com/external-embedding/embed-widget-timeline.js",i.type="text/javascript",i.async=!0,i.innerHTML=JSON.stringify({feedMode:"symbol",symbol:E,colorTheme:"dark",isTransparent:!1,displayMode:"regular",locale:"fr",width:"100%",height:"100%"}),n.appendChild(i),()=>{n&&(n.innerHTML="")}},[E]),h.useEffect(()=>{const n=T.current;if(!n)return;n.innerHTML="";const i=document.createElement("div");i.className="tradingview-widget-container__widget",n.appendChild(i);const x=document.createElement("script");return x.src="https://s3.tradingview.com/external-embedding/embed-widget-screener.js",x.type="text/javascript",x.async=!0,x.innerHTML=JSON.stringify({market:"america",showToolbar:!0,defaultColumn:"overview",defaultScreen:"most_capitalized",isTransparent:!1,locale:"fr",colorTheme:"dark",width:"100%",height:"100%"}),n.appendChild(x),()=>{n&&(n.innerHTML="")}},[]),h.useEffect(()=>{const n=d.current;if(!n)return;n.innerHTML="";const i=document.createElement("div");i.className="tradingview-widget-container__widget",n.appendChild(i);const x=document.createElement("script");return x.src="https://s3.tradingview.com/external-embedding/embed-widget-symbol-profile.js",x.type="text/javascript",x.async=!0,x.innerHTML=JSON.stringify({symbol:E,colorTheme:"dark",isTransparent:!1,locale:"fr",width:"100%",height:"100%"}),n.appendChild(x),()=>{n&&(n.innerHTML="")}},[E]),h.useEffect(()=>{const n=V.current;if(!n)return;n.innerHTML="";const i=document.createElement("div");i.className="tradingview-widget-container__widget",n.appendChild(i);const x=document.createElement("script");return x.src="https://s3.tradingview.com/external-embedding/embed-widget-financials.js",x.type="text/javascript",x.async=!0,x.innerHTML=JSON.stringify({symbol:E,colorTheme:"dark",displayMode:"regular",isTransparent:!1,locale:"fr",width:"100%",height:"100%"}),n.appendChild(x),()=>{n&&(n.innerHTML="")}},[E]),h.useEffect(()=>{const n=z.current;if(!n)return;n.innerHTML="";const i=document.createElement("div");i.className="tradingview-widget-container__widget",n.appendChild(i);const x=document.createElement("script");return x.src="https://s3.tradingview.com/external-embedding/embed-widget-technical-analysis.js",x.type="text/javascript",x.async=!0,x.innerHTML=JSON.stringify({colorTheme:"dark",displayMode:"multiple",isTransparent:!1,locale:"fr",interval:"1M",disableInterval:!1,width:"100%",height:"100%",symbol:E,showIntervalTabs:!0}),n.appendChild(x),()=>{n&&(n.innerHTML="")}},[E]),e.jsxs("div",{className:"space-y-3 md:space-y-6",children:[e.jsx("div",{className:`p-3 md:p-6 rounded-lg transition-colors duration-300 ${a?"bg-gradient-to-r from-blue-900 to-purple-900":"bg-gradient-to-r from-blue-100 to-purple-100"}`,children:e.jsxs("div",{className:"mb-2",children:[e.jsx("h2",{className:`text-xl md:text-2xl lg:text-3xl font-bold mb-2 transition-colors duration-300 ${a?"text-white":"text-gray-900"}`,children:"ðŸ§ª TESTS JS - Widgets Financiers"}),e.jsx("p",{className:`text-xs md:text-sm transition-colors duration-300 ${a?"text-blue-200":"text-blue-800"}`,children:"Collection complÃ¨te de 14 widgets TradingView et outils d'analyse financiÃ¨re organisÃ©s par catÃ©gorie"})]})}),e.jsx("div",{className:"mb-2 md:mb-4",children:e.jsx("div",{className:`flex items-center gap-2 md:gap-3 mb-2 md:mb-4 pb-2 border-b-2 ${a?"border-blue-500":"border-blue-600"}`,children:e.jsx("h3",{className:`text-base md:text-lg lg:text-xl font-bold transition-colors duration-300 ${a?"text-blue-400":"text-blue-600"}`,children:"ðŸ“… Calendriers & Ã‰vÃ©nements Ã‰conomiques"})})}),e.jsxs("div",{className:`p-3 md:p-6 rounded-lg transition-colors duration-300 ${a?"bg-gray-800":"bg-white"}`,children:[e.jsxs("div",{className:"mb-3 md:mb-6",children:[e.jsx("h2",{className:`text-lg md:text-xl lg:text-2xl font-bold mb-1 md:mb-2 transition-colors duration-300 ${a?"text-white":"text-gray-900"}`,children:"ðŸ“Š Calendrier Ã‰conomique"}),e.jsx("p",{className:`text-xs md:text-sm transition-colors duration-300 ${a?"text-gray-400":"text-gray-600"}`,children:"Calendrier Ã©conomique complet avec Ã©vÃ©nements majeurs et donnÃ©es en temps rÃ©el"})]}),e.jsxs("div",{className:"rounded-lg overflow-hidden relative h-[400px] md:h-[450px] lg:h-[500px]",style:{background:"transparent"},children:[e.jsx("div",{className:`absolute top-0 left-0 z-10 ${a?"bg-gray-800":"bg-white"}`,style:{width:"100%",height:"40px"}}),e.jsx("iframe",{src:"https://sslecal2.investing.com?columns=exc_flags,exc_currency,exc_importance,exc_actual,exc_forecast,exc_previous&category=_employment,_economicActivity,_inflation,_credit,_centralBanks,_confidenceIndex,_balance,_Bonds&importance=1,2,3&features=datepicker,timezone,timeselector,filters&countries=6,5&calType=day&timeZone=8&lang=5&transparentBackground=1",width:"100%",height:"100%",frameBorder:"0",allowTransparency:"true",marginWidth:"0",marginHeight:"0",sandbox:"allow-scripts allow-same-origin allow-forms",className:"relative z-0",style:{minWidth:"100%",background:"transparent"}})]})]}),e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:`flex items-center gap-3 mb-4 pb-2 border-b-2 ${a?"border-green-500":"border-green-600"}`,children:e.jsx("h3",{className:`text-xl font-bold transition-colors duration-300 ${a?"text-green-400":"text-green-600"}`,children:"ðŸ’± MarchÃ©s Forex"})})}),e.jsxs("div",{className:`p-3 md:p-6 rounded-lg transition-colors duration-300 ${a?"bg-gray-800":"bg-white"}`,children:[e.jsxs("div",{className:"mb-3 md:mb-6",children:[e.jsx("h2",{className:`text-lg md:text-xl lg:text-2xl font-bold mb-1 md:mb-2 transition-colors duration-300 ${a?"text-white":"text-gray-900"}`,children:"ðŸ’± Forex Heat Map"}),e.jsx("p",{className:`text-xs md:text-sm transition-colors duration-300 ${a?"text-gray-400":"text-gray-600"}`,children:"Carte de chaleur des devises en temps rÃ©el (EUR, USD, JPY, GBP, CHF, AUD, CAD, CNY)"})]}),e.jsx("div",{className:"h-[350px] md:h-[400px] lg:h-[450px]",children:e.jsx("div",{className:"tradingview-widget-container h-full",ref:g})})]}),e.jsxs("div",{className:`p-3 md:p-6 rounded-lg transition-colors duration-300 ${a?"bg-gray-800":"bg-white"}`,children:[e.jsxs("div",{className:"mb-3 md:mb-6",children:[e.jsx("h2",{className:`text-lg md:text-xl lg:text-2xl font-bold mb-1 md:mb-2 transition-colors duration-300 ${a?"text-white":"text-gray-900"}`,children:"ðŸ“… Economic Calendar Events"}),e.jsx("p",{className:`text-xs md:text-sm transition-colors duration-300 ${a?"text-gray-400":"text-gray-600"}`,children:"Ã‰vÃ©nements Ã©conomiques mondiaux par TradingView"})]}),e.jsx("div",{className:"h-[400px] md:h-[500px] lg:h-[600px]",children:e.jsx("div",{className:"tradingview-widget-container h-full",ref:M})})]}),e.jsxs("div",{className:`p-3 md:p-6 rounded-lg transition-colors duration-300 ${a?"bg-gray-800":"bg-white"}`,children:[e.jsxs("div",{className:"mb-3 md:mb-6",children:[e.jsx("h2",{className:`text-lg md:text-xl lg:text-2xl font-bold mb-1 md:mb-2 transition-colors duration-300 ${a?"text-white":"text-gray-900"}`,children:"ðŸ’± Forex Cross Rates"}),e.jsx("p",{className:`text-xs md:text-sm transition-colors duration-300 ${a?"text-gray-400":"text-gray-600"}`,children:"Taux de change croisÃ©s pour 9 devises majeures (EUR, USD, JPY, GBP, CHF, AUD, CAD, NZD, CNY)"})]}),e.jsx("div",{className:"h-[350px] md:h-[400px] lg:h-[450px]",children:e.jsx("div",{className:"tradingview-widget-container h-full",ref:O})})]}),e.jsx("div",{className:"mb-2 md:mb-4",children:e.jsx("div",{className:`flex items-center gap-2 md:gap-3 mb-2 md:mb-4 pb-2 border-b-2 ${a?"border-purple-500":"border-purple-600"}`,children:e.jsx("h3",{className:`text-base md:text-lg lg:text-xl font-bold transition-colors duration-300 ${a?"text-purple-400":"text-purple-600"}`,children:"ðŸ“Š MarchÃ©s Boursiers - Vues Globales"})})}),e.jsxs("div",{className:`p-3 md:p-6 rounded-lg transition-colors duration-300 ${a?"bg-gray-800":"bg-white"}`,children:[e.jsxs("div",{className:"mb-3 md:mb-6",children:[e.jsx("h2",{className:`text-lg md:text-xl lg:text-2xl font-bold mb-1 md:mb-2 transition-colors duration-300 ${a?"text-white":"text-gray-900"}`,children:"ðŸ‡ºðŸ‡¸ Stock Heatmap All USA"}),e.jsx("p",{className:`text-xs md:text-sm transition-colors duration-300 ${a?"text-gray-400":"text-gray-600"}`,children:"Carte thermique de toutes les actions amÃ©ricaines - Performance par secteur et capitalisation"})]}),e.jsx("div",{className:"h-[500px] md:h-[700px] lg:h-[900px]",children:e.jsxs("div",{className:"tradingview-widget-container h-full",ref:m,children:[e.jsx("div",{className:"tradingview-widget-container__widget"}),e.jsx("div",{className:`tradingview-widget-copyright text-center text-xs mt-2 transition-colors duration-300 ${a?"text-gray-400":"text-gray-600"}`,children:e.jsx("a",{href:"https://fr.tradingview.com/heatmap/stock/",rel:"noopener nofollow",target:"_blank",className:`underline transition-colors duration-300 ${a?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-800"}`,children:e.jsx("span",{className:"blue-text",children:"Track all markets on TradingView"})})})]})})]}),e.jsxs("div",{className:`p-3 md:p-6 rounded-lg transition-colors duration-300 ${a?"bg-gray-800":"bg-white"}`,children:[e.jsxs("div",{className:"mb-3 md:mb-6",children:[e.jsx("h2",{className:`text-lg md:text-xl lg:text-2xl font-bold mb-1 md:mb-2 transition-colors duration-300 ${a?"text-white":"text-gray-900"}`,children:"ðŸ‡¨ðŸ‡¦ Stock Heatmap TSX"}),e.jsx("p",{className:`text-xs md:text-sm transition-colors duration-300 ${a?"text-gray-400":"text-gray-600"}`,children:"Carte thermique du Toronto Stock Exchange (TSX) - Performance par secteur et capitalisation"})]}),e.jsx("div",{className:"h-[500px] md:h-[700px] lg:h-[900px]",children:e.jsxs("div",{className:"tradingview-widget-container h-full",ref:H,children:[e.jsx("div",{className:"tradingview-widget-container__widget"}),e.jsx("div",{className:`tradingview-widget-copyright text-center text-xs mt-2 transition-colors duration-300 ${a?"text-gray-400":"text-gray-600"}`,children:e.jsx("a",{href:"https://fr.tradingview.com/heatmap/stock/",rel:"noopener nofollow",target:"_blank",className:`underline transition-colors duration-300 ${a?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-800"}`,children:e.jsx("span",{className:"blue-text",children:"Track all markets on TradingView"})})})]})})]}),e.jsxs("div",{className:`p-3 md:p-6 rounded-lg transition-colors duration-300 ${a?"bg-gray-800":"bg-white"}`,children:[e.jsxs("div",{className:"mb-3 md:mb-6",children:[e.jsx("h2",{className:`text-lg md:text-xl lg:text-2xl font-bold mb-1 md:mb-2 transition-colors duration-300 ${a?"text-white":"text-gray-900"}`,children:"ðŸ“Š Market Quotes - Indices, Futures, Bonds, Forex"}),e.jsx("p",{className:`text-xs md:text-sm transition-colors duration-300 ${a?"text-gray-400":"text-gray-600"}`,children:"Cotations en temps rÃ©el organisÃ©es par catÃ©gories (Indices, Futures, Obligations US/CAN, Forex CAD)"})]}),e.jsx("div",{className:"h-[600px] md:h-[700px] lg:h-[850px]",children:e.jsxs("div",{className:"tradingview-widget-container h-full",ref:C,children:[e.jsx("div",{className:"tradingview-widget-container__widget"}),e.jsx("div",{className:`tradingview-widget-copyright text-center text-xs mt-2 transition-colors duration-300 ${a?"text-gray-400":"text-gray-600"}`,children:e.jsx("a",{href:"https://fr.tradingview.com/markets/",rel:"noopener nofollow",target:"_blank",className:`underline transition-colors duration-300 ${a?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-800"}`,children:e.jsx("span",{className:"blue-text",children:"Track all markets on TradingView"})})})]})})]}),e.jsx("div",{className:"mb-2 md:mb-4",children:e.jsx("div",{className:`flex items-center gap-2 md:gap-3 mb-2 md:mb-4 pb-2 border-b-2 ${a?"border-orange-500":"border-orange-600"}`,children:e.jsx("h3",{className:`text-base md:text-lg lg:text-xl font-bold transition-colors duration-300 ${a?"text-orange-400":"text-orange-600"}`,children:"ðŸ“ˆ Outils d'Analyse Fondamentale"})})}),e.jsxs("div",{className:`p-3 md:p-6 rounded-lg transition-colors duration-300 ${a?"bg-gray-800":"bg-white"}`,children:[e.jsxs("div",{className:"mb-3 md:mb-6",children:[e.jsx("h2",{className:`text-lg md:text-xl lg:text-2xl font-bold mb-1 md:mb-2 transition-colors duration-300 ${a?"text-white":"text-gray-900"}`,children:"ðŸ“Š FastGraphs - Analyse Fondamentale"}),e.jsx("p",{className:`text-xs md:text-sm transition-colors duration-300 ${a?"text-gray-400":"text-gray-600"}`,children:"Outil d'analyse fondamentale pour investisseurs Ã  long terme. Visualisez la valeur intrinsÃ¨que, les bÃ©nÃ©fices, revenus, dividendes et ratios de valorisation."}),e.jsxs("p",{className:`text-xs mt-2 transition-colors duration-300 ${a?"text-orange-300":"text-orange-600"}`,children:["ðŸ’¡ ",e.jsx("a",{href:"https://fastgraphs.com/blog/if-you-are-a-long-term-investor-you-need-to-watch-this-introducing-fast-graphs/",target:"_blank",rel:"noopener noreferrer",className:"underline hover:opacity-80",children:"En savoir plus sur FastGraphs"})]})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-2 md:gap-4 items-start md:items-center",children:[e.jsx("label",{className:`text-sm font-medium transition-colors duration-300 ${a?"text-gray-300":"text-gray-700"}`,children:"Symbole:"}),e.jsx("input",{type:"text",id:"fastgraphs-symbol",defaultValue:"AAPL",placeholder:"Ex: AAPL, MSFT, GOOGL",className:`px-3 py-2 rounded-lg border-2 text-sm md:text-base transition-all duration-300 ${a?"bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:border-orange-500":"bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:border-orange-500"} focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-opacity-50`,style:{minWidth:"200px"},onKeyPress:n=>{if(n.key==="Enter"){const x=document.getElementById("fastgraphs-symbol")?.value?.toUpperCase().trim()||"AAPL",I=document.getElementById("fastgraphs-iframe");I&&(I.src=`https://www.fastgraphs.com/secure/fg.php?ticker=${x}`),Ue(`https://www.fastgraphs.com/secure/fg.php?ticker=${x}`)}}}),e.jsx("button",{onClick:()=>{const i=document.getElementById("fastgraphs-symbol")?.value?.toUpperCase().trim()||"AAPL",x=document.getElementById("fastgraphs-iframe");x&&(x.src=`https://www.fastgraphs.com/secure/fg.php?ticker=${i}`),Ue(`https://www.fastgraphs.com/secure/fg.php?ticker=${i}`)},className:`px-4 py-2 rounded-lg font-medium text-sm md:text-base transition-all duration-300 ${a?"bg-orange-600 hover:bg-orange-700 text-white":"bg-orange-500 hover:bg-orange-600 text-white"} focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-opacity-50`,children:"Mettre Ã  jour l'iframe + Ouvrir"})]})}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:`rounded-lg overflow-hidden relative h-[600px] md:h-[700px] lg:h-[800px] border-2 transition-colors duration-300 ${a?"border-orange-500/30 bg-gray-800":"border-orange-400/40 bg-white"}`,children:[e.jsx("iframe",{id:"fastgraphs-iframe",src:"https://www.fastgraphs.com/secure/fg.php?ticker=AAPL",width:"100%",height:"100%",frameBorder:"0",allowTransparency:"true",marginWidth:"0",marginHeight:"0",sandbox:"allow-scripts allow-same-origin allow-forms allow-popups allow-popups-to-escape-sandbox",className:"relative z-0",style:{minWidth:"100%",background:"transparent"},title:"FastGraphs - Analyse Fondamentale",onError:()=>{console.warn("FastGraphs iframe failed to load - authentication may be required")}}),e.jsx("div",{id:"fastgraphs-overlay",className:`absolute inset-0 flex items-center justify-center z-10 pointer-events-none ${a?"bg-gray-800/90":"bg-white/90"}`,style:{display:"none"},children:e.jsxs("div",{className:"text-center p-6",children:[e.jsx("div",{className:`text-4xl mb-4 ${a?"text-orange-400":"text-orange-500"}`,children:"ðŸ”’"}),e.jsx("p",{className:`text-lg font-semibold mb-2 ${a?"text-white":"text-gray-900"}`,children:"Authentification requise"}),e.jsx("p",{className:`text-sm ${a?"text-gray-300":"text-gray-600"}`,children:"Utilisez les boutons ci-dessous pour accÃ©der Ã  FastGraphs"})]})})]})}),e.jsx("div",{className:`rounded-lg overflow-hidden relative p-6 border-2 transition-colors duration-300 ${a?"bg-gradient-to-br from-gray-800 to-gray-900 border-orange-500/30":"bg-gradient-to-br from-orange-50 to-orange-100 border-orange-400/40"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:`text-lg md:text-xl font-bold mb-3 transition-colors duration-300 ${a?"text-white":"text-gray-900"}`,children:"AccÃ¨s alternatif Ã  FastGraphs"}),e.jsx("p",{className:`text-xs md:text-sm mb-4 transition-colors duration-300 ${a?"text-gray-300":"text-gray-700"}`,children:"Si l'iframe ne s'affiche pas, utilisez ces boutons pour ouvrir FastGraphs dans un nouvel onglet"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center items-center",children:[e.jsx("a",{href:"https://www.fastgraphs.com/secure/fg.php?ticker=AAPL",target:"_blank",rel:"noopener noreferrer",className:`px-6 py-3 rounded-lg font-semibold text-sm md:text-base transition-all duration-300 ${a?"bg-orange-600 hover:bg-orange-700 text-white shadow-lg shadow-orange-500/20":"bg-orange-500 hover:bg-orange-600 text-white shadow-lg shadow-orange-500/30"} focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-opacity-50`,children:"ðŸ“ˆ Ouvrir FastGraphs (AAPL)"}),e.jsx("a",{href:"https://www.fastgraphs.com",target:"_blank",rel:"noopener noreferrer",className:`px-6 py-3 rounded-lg font-semibold text-sm md:text-base transition-all duration-300 border-2 ${a?"bg-transparent border-orange-500 hover:bg-orange-500/20 text-orange-400":"bg-transparent border-orange-500 hover:bg-orange-500/10 text-orange-600"} focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-opacity-50`,children:"ðŸŒ Visiter FastGraphs.com"})]})]})}),e.jsx("div",{className:`mt-4 text-xs text-center transition-colors duration-300 ${a?"text-gray-400":"text-gray-600"}`,children:e.jsxs("p",{children:[e.jsx("strong",{children:"Note:"})," FastGraphs est un service d'abonnement qui nÃ©cessite une connexion pour accÃ©der aux graphiques dÃ©taillÃ©s."," ",e.jsx("a",{href:"https://fastgraphs.com/blog/if-you-are-a-long-term-investor-you-need-to-watch-this-introducing-fast-graphs/",target:"_blank",rel:"noopener noreferrer",className:`underline transition-colors duration-300 ${a?"text-orange-400 hover:text-orange-300":"text-orange-600 hover:text-orange-800"}`,children:"En savoir plus sur FastGraphs"})]})})]}),e.jsxs("div",{className:`rounded-xl border-2 md:border-4 shadow-2xl transition-all duration-300 mb-3 md:mb-6 ${a?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 border-red-500":"bg-gradient-to-br from-white via-gray-50 to-white border-red-600"}`,children:[e.jsx("div",{className:`p-3 md:p-4 border-b-2 md:border-b-4 transition-colors duration-300 ${a?"border-red-500 bg-gray-800/50":"border-red-600 bg-gray-100/50"}`,children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 md:gap-0 mb-3 md:mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("h2",{className:`text-lg md:text-2xl lg:text-3xl font-bold mb-1 md:mb-2 transition-colors duration-300 ${a?"text-red-400":"text-red-600"}`,children:["ðŸ“Š Analyse ComplÃ¨te - ",E.split(":")[1]||E]}),e.jsx("p",{className:`text-xs md:text-sm transition-colors duration-300 ${a?"text-gray-400":"text-gray-600"}`,children:"6 widgets synchronisÃ©s pour une analyse financiÃ¨re complÃ¨te. Changez le symbole pour mettre Ã  jour tous les widgets simultanÃ©ment."})]}),e.jsxs("div",{className:"relative w-full md:w-auto",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{ref:Y,type:"text",value:f||E.split(":")[1]||"",onChange:n=>{v(n.target.value),D(!0)},onFocus:()=>D(!0),onBlur:()=>setTimeout(()=>D(!1),200),placeholder:"Search symbols... (e.g., AAPL, BTC)",className:`flex-1 md:w-64 px-3 md:px-4 py-2 rounded-lg border-2 text-sm md:text-base font-medium transition-all duration-300 ${a?"bg-gray-700 border-gray-600 text-white placeholder-gray-400 hover:border-blue-500 focus:border-blue-500":"bg-white border-gray-300 text-gray-900 placeholder-gray-500 hover:border-blue-500 focus:border-blue-500"} focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50`}),e.jsx("div",{className:`text-xs px-2 md:px-3 py-2 rounded-lg font-mono font-bold whitespace-nowrap ${a?"bg-red-900 text-red-200":"bg-red-100 text-red-800"}`,children:E.split(":")[1]})]}),y&&f&&e.jsx("div",{className:`absolute top-full left-0 mt-2 w-full md:w-80 max-h-96 overflow-y-auto rounded-lg border-2 shadow-2xl z-50 ${a?"bg-gray-800 border-gray-600":"bg-white border-gray-300"}`,children:(()=>{const i=[{symbol:"FOREXCOM:SPXUSD",name:"SPY - S&P 500",category:"ðŸ“ˆ Indices"},{symbol:"FOREXCOM:NSXUSD",name:"QQQ - Nasdaq 100",category:"ðŸ“ˆ Indices"},{symbol:"FOREXCOM:DJI",name:"DJI - Dow Jones",category:"ðŸ“ˆ Indices"},{symbol:"NASDAQ:AAPL",name:"AAPL - Apple",category:"ðŸŽ Tech"},{symbol:"NASDAQ:MSFT",name:"MSFT - Microsoft",category:"ðŸŽ Tech"},{symbol:"NASDAQ:GOOGL",name:"GOOGL - Google",category:"ðŸŽ Tech"},{symbol:"NASDAQ:AMZN",name:"AMZN - Amazon",category:"ðŸŽ Tech"},{symbol:"NASDAQ:NVDA",name:"NVDA - NVIDIA",category:"ðŸŽ Tech"},{symbol:"NASDAQ:TSLA",name:"TSLA - Tesla",category:"ðŸŽ Tech"},{symbol:"NASDAQ:META",name:"META - Meta",category:"ðŸŽ Tech"},{symbol:"BITSTAMP:BTCUSD",name:"BTC - Bitcoin",category:"â‚¿ Crypto"},{symbol:"BITSTAMP:ETHUSD",name:"ETH - Ethereum",category:"â‚¿ Crypto"},{symbol:"NYSE:JPM",name:"JPM - JPMorgan",category:"ðŸ¦ Finance"},{symbol:"NYSE:BAC",name:"BAC - Bank of America",category:"ðŸ¦ Finance"},{symbol:"NYSE:GS",name:"GS - Goldman Sachs",category:"ðŸ¦ Finance"}].filter(x=>x.name.toLowerCase().includes(f.toLowerCase())||x.symbol.toLowerCase().includes(f.toLowerCase()));return i.length===0?e.jsxs("div",{className:`px-4 py-3 text-sm ${a?"text-gray-400":"text-gray-600"}`,children:['No symbols found for "',f,'"']}):i.map((x,I)=>e.jsx("div",{onClick:()=>{Q(x.symbol),v(""),D(!1)},className:`px-4 py-3 cursor-pointer transition-colors ${a?"hover:bg-gray-700 border-b border-gray-700":"hover:bg-gray-100 border-b border-gray-200"} last:border-b-0`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:`font-semibold ${a?"text-white":"text-gray-900"}`,children:x.symbol.split(":")[1]}),e.jsx("div",{className:`text-xs ${a?"text-gray-400":"text-gray-600"}`,children:x.name.split(" - ")[1]})]}),e.jsx("div",{className:"text-xs text-gray-500",children:x.category})]})},I))})()})]})]})}),e.jsx("div",{className:"p-2 md:p-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-2 md:gap-4",children:[e.jsxs("div",{className:`rounded-lg p-2 md:p-3 transition-colors duration-300 lg:col-span-2 ${a?"bg-gray-800/50":"bg-gray-50/50"}`,children:[e.jsx("h3",{className:`text-sm md:text-base font-bold mb-1 transition-colors duration-300 ${a?"text-white":"text-gray-900"}`,children:"ðŸ“Š Symbol Info"}),e.jsx("div",{className:"h-[300px] md:h-[380px]",children:e.jsx("div",{className:"tradingview-widget-container h-full",ref:S})})]}),e.jsxs("div",{className:`rounded-lg p-2 md:p-3 transition-colors duration-300 lg:col-span-2 ${a?"bg-gray-800/50":"bg-gray-50/50"}`,children:[e.jsxs("h3",{className:`text-sm md:text-base font-bold mb-1 transition-colors duration-300 ${a?"text-white":"text-gray-900"}`,children:["ðŸ“Š ",E.split(":")[1]," - Graphique AvancÃ©"]}),e.jsx("p",{className:`text-xs mb-2 transition-colors duration-300 ${a?"text-gray-400":"text-gray-600"}`,children:"Cliquez sur un symbole dans la watchlist pour changer tous les widgets"}),e.jsx("div",{className:"h-[400px] md:h-[650px] lg:h-[750px]",children:e.jsx("div",{className:"tradingview-widget-container h-full",ref:s})})]}),e.jsxs("div",{className:`rounded-lg p-2 md:p-3 transition-colors duration-300 ${a?"bg-gray-800/50":"bg-gray-50/50"}`,children:[e.jsx("h3",{className:`text-sm md:text-base font-bold mb-1 transition-colors duration-300 ${a?"text-white":"text-gray-900"}`,children:"ðŸ¢ Profil de l'Entreprise"}),e.jsx("div",{className:"h-[300px] md:h-[400px]",children:e.jsx("div",{className:"tradingview-widget-container h-full",ref:d})})]}),e.jsxs("div",{className:`rounded-lg p-2 md:p-3 transition-colors duration-300 ${a?"bg-gray-800/50":"bg-gray-50/50"}`,children:[e.jsx("h3",{className:`text-sm md:text-base font-bold mb-1 transition-colors duration-300 ${a?"text-white":"text-gray-900"}`,children:"ðŸ“° Timeline - Fil d'ActualitÃ©"}),e.jsx("div",{className:"h-[300px] md:h-[400px]",children:e.jsx("div",{className:"tradingview-widget-container h-full",ref:R})})]}),e.jsxs("div",{className:`rounded-lg p-2 md:p-3 transition-colors duration-300 lg:col-span-2 ${a?"bg-gray-800/50":"bg-gray-50/50"}`,children:[e.jsx("h3",{className:`text-sm md:text-base font-bold mb-1 transition-colors duration-300 ${a?"text-white":"text-gray-900"}`,children:"ðŸ’° Ã‰tats Financiers"}),e.jsx("div",{className:"h-[350px] md:h-[450px]",children:e.jsx("div",{className:"tradingview-widget-container h-full",ref:V})})]}),e.jsxs("div",{className:`rounded-lg p-2 md:p-3 transition-colors duration-300 lg:col-span-2 ${a?"bg-gray-800/50":"bg-gray-50/50"}`,children:[e.jsx("h3",{className:`text-sm md:text-base font-bold mb-1 transition-colors duration-300 ${a?"text-white":"text-gray-900"}`,children:"ðŸ“ˆ Analyse Technique"}),e.jsx("div",{className:"h-[300px] md:h-[400px]",children:e.jsx("div",{className:"tradingview-widget-container h-full",ref:z})})]})]})})]}),e.jsxs("div",{className:`p-3 md:p-6 rounded-lg transition-colors duration-300 ${a?"bg-gray-800":"bg-white"}`,children:[e.jsxs("div",{className:"mb-3 md:mb-6",children:[e.jsx("h2",{className:`text-lg md:text-xl lg:text-2xl font-bold mb-1 md:mb-2 transition-colors duration-300 ${a?"text-white":"text-gray-900"}`,children:"ðŸ” Screener de Titres"}),e.jsx("p",{className:`text-xs md:text-sm transition-colors duration-300 ${a?"text-gray-400":"text-gray-600"}`,children:"Outil de filtrage et d'analyse des actions du marchÃ© amÃ©ricain avec critÃ¨res personnalisables"})]}),e.jsx("div",{className:"h-[600px] md:h-[700px] lg:h-[800px]",children:e.jsxs("div",{className:"tradingview-widget-container h-full",ref:T,children:[e.jsx("div",{className:"tradingview-widget-container__widget"}),e.jsx("div",{className:`tradingview-widget-copyright text-center text-xs mt-2 transition-colors duration-300 ${a?"text-gray-400":"text-gray-600"}`,children:e.jsx("a",{href:"https://fr.tradingview.com/screener/",rel:"noopener nofollow",target:"_blank",className:`underline transition-colors duration-300 ${a?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-800"}`,children:e.jsx("span",{className:"blue-text",children:"Track all markets on TradingView"})})})]})})]})]})},St=()=>typeof window<"u"?window.BetaCombinedDashboard||{}:{},He=()=>{const{isDarkMode:a=!0}=St(),[g,M]=h.useState(null),[O,m]=h.useState(!0),[H,s]=h.useState(null),[C,S]=h.useState("both"),R=h.useRef(null),T=h.useRef(null),d=a,V=f=>f==null?"â€”":Number(f).toFixed(2),z=(f,v,y)=>e.jsxs("div",{className:`p-4 rounded-lg border ${d?"bg-gray-900 border-gray-700":"bg-white border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[e.jsx("span",{children:y}),e.jsx("span",{children:f})]}),e.jsx("span",{className:"text-xs opacity-70",children:v?.date||"â€”"})]}),v?.rates?.length?e.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-sm",children:v.rates.map(D=>e.jsxs("div",{className:"flex items-center justify-between border-b border-dashed border-gray-600/30 pb-1",children:[e.jsx("span",{className:"uppercase tracking-tight",children:D.maturity}),e.jsxs("span",{className:"font-semibold",children:[V(D.rate),"%"]})]},`${f}-${D.maturity}`))}):e.jsx("p",{className:"text-sm opacity-70",children:"DonnÃ©es non disponibles."})]});console.log("ðŸ“Š YieldCurveTab montÃ©, isDarkMode:",d);const E=async()=>{console.log("ðŸ”„ fetchYieldCurve appelÃ© pour country:",C),m(!0),s(null);try{const f=await fetch(`/api/yield-curve?country=${C}`);if(console.log("ðŸ“¡ RÃ©ponse API yield-curve:",f.status,f.ok),!f.ok)throw new Error(`Erreur API: ${f.status}`);const v=await f.json();console.log("âœ… DonnÃ©es yield curve reÃ§ues:",v),M(v),m(!1)}catch(f){console.error("âŒ Erreur yield curve:",f),s(f.message),m(!1)}};h.useEffect(()=>{E()},[C]),h.useEffect(()=>{if(!g||!R.current)return;if(typeof Chart>"u"){console.error("âŒ Chart.js n'est pas chargÃ©");return}T.current&&T.current.destroy();const f=R.current.getContext("2d"),v=[];if(g.data.us&&g.data.us.rates&&v.push({label:"US Treasury",data:g.data.us.rates.map(y=>({x:y.maturity,y:y.rate})),borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",borderWidth:3,tension:.4,pointRadius:6,pointHoverRadius:8,pointBackgroundColor:"#3b82f6",pointBorderColor:"#fff",pointBorderWidth:2}),g.data.canada&&g.data.canada.rates&&v.push({label:"Canada Bonds",data:g.data.canada.rates.map(y=>({x:y.maturity,y:y.rate})),borderColor:"#ef4444",backgroundColor:"rgba(239, 68, 68, 0.1)",borderWidth:3,tension:.4,pointRadius:6,pointHoverRadius:8,pointBackgroundColor:"#ef4444",pointBorderColor:"#fff",pointBorderWidth:2}),v.length===0){console.warn("âš ï¸ Aucune donnÃ©e disponible pour le graphique yield curve");return}return T.current=new Chart(f,{type:"line",data:{datasets:v},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top",labels:{color:d?"#e5e7eb":"#1f2937",font:{size:14,weight:"bold"},padding:20}},tooltip:{backgroundColor:d?"#1f2937":"#fff",titleColor:d?"#e5e7eb":"#1f2937",bodyColor:d?"#e5e7eb":"#1f2937",borderColor:d?"#374151":"#e5e7eb",borderWidth:1,padding:12,displayColors:!0,callbacks:{label:function(y){return`${y.dataset.label}: ${y.parsed.y.toFixed(2)}%`}}}},scales:{x:{type:"category",title:{display:!0,text:"MaturitÃ©",color:d?"#9ca3af":"#6b7280",font:{size:14,weight:"bold"}},grid:{color:d?"#374151":"#e5e7eb"},ticks:{color:d?"#9ca3af":"#6b7280"}},y:{title:{display:!0,text:"Taux (%)",color:d?"#9ca3af":"#6b7280",font:{size:14,weight:"bold"}},grid:{color:d?"#374151":"#e5e7eb"},ticks:{color:d?"#9ca3af":"#6b7280",callback:function(y){return y.toFixed(2)+"%"}}}}}}),()=>{T.current&&T.current.destroy()}},[g,d]);const Q=f=>f?new Date(f).toLocaleDateString("fr-CA",{year:"numeric",month:"long",day:"numeric"}):"N/A";return console.log("ðŸŽ¨ YieldCurveTab render - loading:",O,"error:",H,"yieldData:",g,"darkMode:",d),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:`p-6 rounded-lg transition-colors duration-300 ${d?"bg-gray-800":"bg-white"}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:`text-2xl font-bold mb-2 transition-colors duration-300 ${d?"text-white":"text-gray-900"}`,children:"ðŸ“ˆ Courbe des Taux (Yield Curve)"}),e.jsx("p",{className:`text-sm transition-colors duration-300 ${d?"text-gray-400":"text-gray-600"}`,children:"Visualisation des taux obligataires US Treasury et Canada par maturitÃ©"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("select",{value:C,onChange:f=>S(f.target.value),className:`px-4 py-2 rounded-lg border transition-colors duration-300 ${d?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,children:[e.jsx("option",{value:"both",children:"US + Canada"}),e.jsx("option",{value:"us",children:"US uniquement"}),e.jsx("option",{value:"canada",children:"Canada uniquement"})]}),e.jsx("button",{onClick:E,disabled:O,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-300",children:O?"ðŸ”„ Chargement...":"ðŸ”„ Actualiser"})]})]}),g?.data?.us?.spread_10y_2y!==void 0&&e.jsx("div",{className:`p-4 rounded-lg border-l-4 ${g.data.us.inverted?"bg-red-50 border-red-500 dark:bg-red-900/20":"bg-green-50 border-green-500 dark:bg-green-900/20"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`font-bold ${g.data.us.inverted?"text-red-800 dark:text-red-300":"text-green-800 dark:text-green-300"}`,children:g.data.us.inverted?"âš ï¸ Courbe InversÃ©e":"âœ… Courbe Normale"}),e.jsxs("p",{className:`text-sm ${d?"text-gray-300":"text-gray-700"}`,children:["Spread 10Y-2Y: ",e.jsxs("strong",{children:[g.data.us.spread_10y_2y.toFixed(2),"%"]})]})]}),e.jsx("div",{className:`text-xs ${d?"text-gray-400":"text-gray-600"}`,children:g.data.us.inverted?"Indicateur historique de rÃ©cession potentielle":"Conditions Ã©conomiques normales"})]})})]}),O&&e.jsxs("div",{className:`p-12 rounded-lg text-center transition-colors duration-300 ${d?"bg-gray-800":"bg-white"}`,children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:d?"text-gray-400":"text-gray-600",children:"Chargement des donnÃ©es..."})]}),H&&e.jsxs("div",{className:`p-6 rounded-lg border-l-4 border-red-500 ${d?"bg-red-900/20":"bg-red-50"}`,children:[e.jsx("h3",{className:`font-bold mb-2 ${d?"text-red-300":"text-red-800"}`,children:"âŒ Erreur"}),e.jsx("p",{className:d?"text-gray-300":"text-gray-700",children:H})]}),!O&&!H&&g&&e.jsxs(e.Fragment,{children:[g.data?.us?.rates?.length>0||g.data?.canada?.rates?.length>0?e.jsx("div",{className:`p-6 rounded-lg transition-colors duration-300 ${d?"bg-gray-800":"bg-white"}`,children:e.jsx("div",{style:{height:"400px",position:"relative"},children:e.jsx("canvas",{ref:R,style:{width:"100%",height:"100%"}})})}):e.jsxs("div",{className:`p-6 rounded-lg border-l-4 border-yellow-500 ${d?"bg-yellow-900/20":"bg-yellow-50"}`,children:[e.jsx("h3",{className:`font-bold mb-2 ${d?"text-yellow-300":"text-yellow-800"}`,children:"âš ï¸ Aucune donnÃ©e disponible"}),e.jsx("p",{className:d?"text-gray-300":"text-gray-700",children:"Les donnÃ©es de yield curve ne sont pas disponibles. VÃ©rifiez que la clÃ© API FRED_API_KEY est configurÃ©e dans les variables d'environnement Vercel."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[g.data.us&&z("US Treasury",g.data.us,"ðŸ‡ºðŸ‡¸"),g.data.canada&&z("Obligations Canada",g.data.canada,"ðŸ‡¨ðŸ‡¦")]}),e.jsxs("div",{className:`p-6 rounded-lg transition-colors duration-300 ${d?"bg-gray-800":"bg-white"}`,children:[e.jsx("h3",{className:`text-xl font-bold mb-4 ${d?"text-white":"text-gray-900"}`,children:"ðŸ“Š Tableau des MaturitÃ©s"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-xs",children:[e.jsx("thead",{children:e.jsxs("tr",{className:`border-b-2 ${d?"border-gray-700":"border-gray-200"}`,children:[e.jsx("th",{className:`px-3 py-2 text-left font-bold text-xs ${d?"text-gray-300":"text-gray-700"}`,children:"MaturitÃ©"}),g.data.us&&e.jsx("th",{className:`px-3 py-2 text-right font-bold text-xs ${d?"text-gray-300":"text-gray-700"}`,children:"ðŸ‡ºðŸ‡¸ US Treasury (%)"}),g.data.canada&&e.jsx("th",{className:`px-3 py-2 text-right font-bold text-xs ${d?"text-gray-300":"text-gray-700"}`,children:"ðŸ‡¨ðŸ‡¦ Canada Bonds (%)"}),g.data.us&&g.data.canada&&e.jsx("th",{className:`px-3 py-2 text-right font-bold text-xs ${d?"text-gray-300":"text-gray-700"}`,children:"Ã‰cart (bps)"})]})}),e.jsx("tbody",{children:(()=>{const f=new Set;return g.data.us&&g.data.us.rates.forEach(v=>f.add(v.maturity)),g.data.canada&&g.data.canada.rates.forEach(v=>f.add(v.maturity)),Array.from(f).sort((v,y)=>maturityToMonths(v)-maturityToMonths(y)).map((v,y)=>{const D=g.data.us?.rates.find(i=>i.maturity===v),Y=g.data.canada?.rates.find(i=>i.maturity===v),n=D&&Y?((D.rate-Y.rate)*100).toFixed(0):null;return e.jsxs("tr",{className:`border-b ${d?"border-gray-700":"border-gray-200"} ${y%2===0?d?"bg-gray-700/30":"bg-gray-50":""}`,children:[e.jsx("td",{className:`px-3 py-2 font-semibold text-xs ${d?"text-white":"text-gray-900"}`,children:v}),g.data.us&&e.jsx("td",{className:`px-3 py-2 text-right text-xs ${d?"text-blue-400":"text-blue-600"}`,children:D?D.rate.toFixed(2):"-"}),g.data.canada&&e.jsx("td",{className:`px-3 py-2 text-right text-xs ${d?"text-red-400":"text-red-600"}`,children:Y?Y.rate.toFixed(2):"-"}),g.data.us&&g.data.canada&&e.jsx("td",{className:`px-3 py-2 text-right font-mono text-xs ${n>0?d?"text-green-400":"text-green-600":n<0?d?"text-red-400":"text-red-600":d?"text-gray-400":"text-gray-600"}`,children:n!==null?(n>0?"+":"")+n:"-"})]},v)})})()})]})}),e.jsx("div",{className:`mt-4 pt-4 border-t ${d?"border-gray-700":"border-gray-200"}`,children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-xs",children:[g.data.us&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("span",{className:d?"text-gray-400":"text-gray-600",children:"Source US:"}),e.jsx("strong",{className:`ml-2 ${d?"text-white":"text-gray-900"}`,children:g.data.us.source})]}),e.jsxs("div",{children:[e.jsx("span",{className:d?"text-gray-400":"text-gray-600",children:"Date US:"}),e.jsx("strong",{className:`ml-2 ${d?"text-white":"text-gray-900"}`,children:Q(g.data.us.date)})]})]}),g.data.canada&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("span",{className:d?"text-gray-400":"text-gray-600",children:"Source Canada:"}),e.jsx("strong",{className:`ml-2 ${d?"text-white":"text-gray-900"}`,children:g.data.canada.source})]}),e.jsxs("div",{children:[e.jsx("span",{className:d?"text-gray-400":"text-gray-600",children:"Date Canada:"}),e.jsx("strong",{className:`ml-2 ${d?"text-white":"text-gray-900"}`,children:Q(g.data.canada.date)})]})]})]})})]}),e.jsxs("div",{className:`p-4 rounded-lg ${d?"bg-blue-900/20 border border-blue-800":"bg-blue-50 border border-blue-200"}`,children:[e.jsx("h4",{className:`font-bold mb-2 ${d?"text-blue-300":"text-blue-800"}`,children:"ðŸ’¡ Ã€ propos de la courbe des taux"}),e.jsxs("ul",{className:`text-sm space-y-1 ${d?"text-gray-300":"text-gray-700"}`,children:[e.jsxs("li",{children:["â€¢ ",e.jsx("strong",{children:"Courbe normale:"})," Les taux longs sont supÃ©rieurs aux taux courts (Ã©conomie saine)"]}),e.jsxs("li",{children:["â€¢ ",e.jsx("strong",{children:"Courbe inversÃ©e:"})," Les taux courts dÃ©passent les taux longs (possibilitÃ© de rÃ©cession)"]}),e.jsxs("li",{children:["â€¢ ",e.jsx("strong",{children:"Spread 10Y-2Y:"})," Indicateur clÃ© surveillÃ© par les Ã©conomistes et investisseurs"]}),e.jsxs("li",{children:["â€¢ ",e.jsx("strong",{children:"Sources:"})," FRED (Federal Reserve Economic Data) et FMP (Financial Modeling Prep)"]})]})]})]})]})};typeof globalThis.process>"u"?globalThis.process={env:{}}:globalThis.process.env||(globalThis.process.env={}),typeof window<"u"&&(window.PlusTabMod=nt,window.StocksNewsTabMod=Pe,window.EmailBriefingsTabMod=gt,window.EmailBriefingsTabFull=jt,window.AskEmmaTabMod=ht,window.IntelliStocksTabMod=bt,window.MarketsEconomyTabMod=Ie,window.InvestingCalendarTabMod=Be,window.YieldCurveTabMod=He,window.MarketsEconomyTab||(window.MarketsEconomyTab=Ie),window.InvestingCalendarTab||(window.InvestingCalendarTab=Be),window.YieldCurveTab||(window.YieldCurveTab=He),window.React=window.React||h,window.ReactDOM=window.ReactDOM||tt)})(React,ReactDOM);
//# sourceMappingURL=bundle.js.map
