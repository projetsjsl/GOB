/* 
 * UI #15 FIX: WCAG AA Accessibility - Dark Mode Text Contrast
 * Améliore le contraste des textes gris en dark mode pour respecter WCAG AA (ratio 4.5:1 minimum)
 * 
 * Problème: text-gray-400 (#9ca3af) et text-gray-500 (#6b7280) ont un ratio < 4.5:1 sur fond sombre
 * Solution: Utiliser text-gray-300 (#d1d5db) minimum pour ratio ~7:1
 */

/* Dark mode - Améliorer contraste des textes secondaires */
.dark .text-gray-400,
[data-theme="dark"] .text-gray-400,
.bg-gray-900 .text-gray-400,
.bg-black .text-gray-400 {
    color: #d1d5db !important; /* text-gray-300 - ratio ~7:1 */
}

.dark .text-gray-500,
[data-theme="dark"] .text-gray-500,
.bg-gray-900 .text-gray-500,
.bg-black .text-gray-500 {
    color: #d1d5db !important; /* text-gray-300 - ratio ~7:1 */
}

/* Textes tertiaires - utiliser gray-300 au lieu de gray-400/500 */
.dark .text-gray-600,
[data-theme="dark"] .text-gray-600,
.bg-gray-900 .text-gray-600,
.bg-black .text-gray-600 {
    color: #e5e7eb !important; /* text-gray-200 - ratio ~9:1 pour meilleure lisibilité */
}

/* Conserver gray-300 et gray-200 qui sont déjà bons */
.dark .text-gray-300,
[data-theme="dark"] .text-gray-300 {
    color: #d1d5db !important; /* Déjà bon, maintenir */
}

.dark .text-gray-200,
[data-theme="dark"] .text-gray-200 {
    color: #e5e7eb !important; /* Déjà bon, maintenir */
}

/* 
 * UI #14 FIX: Standardiser position des boutons "Agrandir"
 * Position: top-right avec padding cohérent
 */
.expand-button,
[data-expand-button],
button[aria-label*="Agrandir"],
button[aria-label*="agrandir"],
button[aria-label*="Expand"],
button[aria-label*="expand"] {
    position: absolute !important;
    top: 12px !important;
    right: 12px !important;
    z-index: 10 !important;
    padding: 8px !important;
    min-width: 36px !important;
    min-height: 36px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    border-radius: 8px !important;
    transition: all 0.2s ease !important;
}

.expand-button:hover,
[data-expand-button]:hover,
button[aria-label*="Agrandir"]:hover,
button[aria-label*="agrandir"]:hover {
    transform: scale(1.1) !important;
    opacity: 0.9 !important;
}

/* Assurer que les boutons sont visibles sur tous les fonds */
.expand-button,
[data-expand-button] {
    background: rgba(0, 0, 0, 0.5) !important;
    -webkit-backdrop-filter: blur(4px) !important;
    backdrop-filter: blur(4px) !important;
}

.dark .expand-button,
.dark [data-expand-button],
[data-theme="dark"] .expand-button,
[data-theme="dark"] [data-expand-button] {
    background: rgba(255, 255, 255, 0.1) !important;
    -webkit-backdrop-filter: blur(4px) !important;
    backdrop-filter: blur(4px) !important;
}

/* Icône dans le bouton */
.expand-button svg,
.expand-button img,
[data-expand-button] svg,
[data-expand-button] img {
    width: 20px !important;
    height: 20px !important;
    filter: brightness(1.2) !important;
}
