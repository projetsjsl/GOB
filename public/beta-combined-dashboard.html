<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>GOB Apps - Dashboard Financier Beta ‚Ä¢ Propuls√© par JSLAI</title>
    <!-- Version: 2.1.0 - JLab V2 with Synchronized Widgets - 2025-10-25 -->
    <!-- Favicon JLab -->
    <link rel="icon" type="image/png" href="/jlab.png">
    <link rel="apple-touch-icon" href="/jlab.png">
    <link rel="manifest" href="/manifest.json" />
    <meta name="theme-color" content="#1e293b" />
    <!-- Variable d'environnement VITE_GROUP_CHAT_URL pour ChatGPTGroupTab -->
    <meta name="vite-group-chat-url" content="" id="vite-group-chat-url-meta" />
    <!-- Cache bust: 2025-10-15 21:00 -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Roboto:wght@300;400;500;700;900&family=Montserrat:wght@400;500;600;700;800;900&family=Georgia:wght@400;700&family=Outfit:wght@300;400;500;600;700;800&family=Plus+Jakarta+Sans:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <!-- Avenir Pro 85 Heavy alternative: Montserrat Heavy (900) ou Avenir Next si disponible -->
    <style>
        /* Variables CSS pour les th√®mes */
        :root {
            --theme-primary: #10b981;
            --theme-secondary: #3b82f6;
            --theme-bg: #000000;
            --theme-surface: #111827;
            --theme-surface-light: #1f2937;
            --theme-text: #ffffff;
            --theme-text-secondary: #9ca3af;
            --theme-border: #374151;
            --theme-accent: #8b5cf6;
            --theme-success: #10b981;
            --theme-danger: #ef4444;
            --theme-warning: #f59e0b;
            --theme-header-bg: linear-gradient(135deg, #111827 0%, #1f2937 100%);
            --theme-card-bg: #111827;
            --theme-card-border: 1px solid #374151;
            --theme-border-radius: 0.75rem;
            --theme-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
            --theme-font-primary: Inter, sans-serif;
            --theme-font-secondary: Roboto, sans-serif;
            --theme-font-mono: monospace;
        }

        @font-face {
            font-family: 'Avenir Pro 85 Heavy';
            src: local('Avenir Next Heavy'), local('Avenir-Heavy'), local('AvenirNext-Heavy');
            font-weight: 900;
            font-style: normal;
            font-display: swap;
        }

        .avenir-heavy {
            font-family: 'Avenir Pro 85 Heavy', 'Avenir Next', 'Avenir', 'Montserrat', 'Inter', sans-serif;
            font-weight: 900;
            letter-spacing: -0.02em;
        }

        @keyframes shimmer {
            0% {
                transform: translateX(-100%);
            }
            100% {
                transform: translateX(100%);
            }
        }
        .animate-shimmer {
            animation: shimmer 2s infinite;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
    </style>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- Note: Babel Standalone utilis√© intentionnellement pour ce fichier standalone -->
    <script src="https://unpkg.com/@babel/standalone@7.23.6/babel.min.js"></script>

    <!-- Fix for "exports is not defined" error when Babel transpiles modules -->
    <script>
        // Polyfill for CommonJS to prevent Babel and library errors
        // MUST run before any Babel transpilation or libraries
        (function() {
            if (typeof window.exports === 'undefined') {
                window.exports = {};
            }
            if (typeof window.module === 'undefined') {
                window.module = { exports: window.exports };
            }

            // üî• FIX: Add require() polyfill for react-grid-layout
            if (typeof window.require === 'undefined') {
                window.require = function(moduleName) {
                    // Return window globals for known modules
                    const modules = {
                        'react': window.React,
                        'react-dom': window.ReactDOM,
                        'prop-types': window.PropTypes || {}
                    };
                    return modules[moduleName] || {};
                };
            }

            // Also make available in global scope for Babel
            self.exports = window.exports;
            self.module = window.module;
            self.require = window.require;
        })();
    </script>

    <!-- Performance Optimizer - R√©duit le temps de chargement -->
    <script src="/js/dashboard/performance-optimizer.js"></script>
    <!-- Constantes partag√©es expos√©es globalement -->
    <script src="/js/dashboard/constants.js"></script>
    <!-- Utilitaires partag√©s expos√©s globalement -->
    <script src="/js/dashboard/utils-shared.js"></script>
    <!-- Prompts briefing externalis√©s -->
    <script src="/js/dashboard/briefing-prompts.js"></script>
    <!-- Syst√®me de th√®mes -->
    <script src="/js/dashboard/theme-system.js"></script>
    <!-- Voice Assistant Component -->
    <script type="text/babel" src="js/dashboard/components/tabs/VoiceAssistantTab.js"></script>
    <!-- Auto-Expand: Ajoute boutons fullscreen √† TOUTES les sections -->
    <script src="js/dashboard/components/shared/auto-expand-init.js"></script>
    <!-- Theme Selector Component -->
    <script type="text/babel" src="js/dashboard/components/ThemeSelector.js"></script>
    <script type="text/babel" src="js/dashboard/components/SecondaryNavBar.js"></script>
    <script type="text/babel" src="/js/dashboard/components/NewsBanner.js"></script>
    <script type="text/babel" src="js/dashboard/components/tabs/FinVoxTab.js"></script>
    <script type="text/babel" src="js/dashboard/components/tabs/EmmAIATab.js"></script>
    <!-- Terminal Emma IA Tab -->
    <script type="text/babel" src="js/dashboard/components/tabs/TerminalEmmaIATab.js"></script>
    <!-- JLab Terminal Component (Advanced Charts, Screener, Analysis) -->
    <script type="text/babel" src="js/dashboard/components/tabs/JLabTab.js"></script>
    <script type="text/babel" src="js/dashboard/components/tabs/FastGraphsTab.js"></script>
    <!-- GroupChat Tab (JSLAI RobotWeb Ultimate v5.0) -->
    <script type="text/babel" src="js/dashboard/components/tabs/GroupChatTab.js"></script>
    <!-- ChatGPT Group Tab (ChatGPT Group Chat Integration) -->
    <script type="text/babel" src="js/dashboard/components/tabs/ChatGPTGroupTab.js"></script>
    <!-- AdminJSLai Tab -->
    <script type="text/babel" src="js/dashboard/components/tabs/AdminJSLaiTab.js"></script>
    <!-- PlusTab Component -->
    <script type="text/babel" src="js/dashboard/components/tabs/PlusTab.js"></script>

    <!-- React-Grid-Layout for Drag & Drop Dashboard -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/react-grid-layout@1.4.4/css/styles.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/react-resizable@3.0.5/css/styles.css">
    <script src="https://cdn.jsdelivr.net/npm/react-grid-layout@1.4.4/dist/react-grid-layout.min.js"></script>
    <script type="text/babel" src="js/dashboard/components/grid-layout/RglDashboard.js"></script>
    <script type="text/babel" src="js/dashboard/components/grid-layout/DashboardGridWrapper.js"></script>
    <script type="text/babel" src="js/dashboard/components/tabs/MarketsEconomyTabRGL.js"></script>
    <script type="text/babel" src="js/dashboard/components/tabs/TitresTabRGL.js"></script>
    
    <!-- Script de test GOD MODE (disponible en console) -->
    <script src="/js/dashboard/test-god-mode-console.js"></script>
    <!-- Script de d√©bogage GOD MODE -->
    <script src="/js/dashboard/debug-god-mode.js"></script>
    <!-- Quick Fix GOD MODE -->
    <script src="/js/dashboard/quick-fix-god-mode.js"></script>
    <script>
        // Exposer les fonctions de d√©bogage globalement
        window.debugGodMode = function() {
            const script = document.createElement('script');
            script.src = '/js/dashboard/debug-god-mode.js';
            document.head.appendChild(script);
        };
        window.quickFixGodMode = function() {
            const script = document.createElement('script');
            script.src = '/js/dashboard/quick-fix-god-mode.js';
            document.head.appendChild(script);
        };
    </script>

    <!-- TradingView Lightweight Charts - Biblioth√®que officielle pour graphiques personnalis√©s -->
    <script src="https://unpkg.com/lightweight-charts@4.2.0/dist/lightweight-charts.standalone.production.js"></script>
    <!-- Note: CDN Tailwind utilis√© intentionnellement pour ce fichier standalone -->
    <script>
        // Suppress Tailwind CDN warnings in production
        const originalWarn = console.warn;
        console.warn = function(...args) {
            if (args[0] && typeof args[0] === 'string' && (args[0].includes('cdn.tailwindcss.com') || args[0].includes('production'))) return;
            originalWarn.apply(console, args);
        };
    </script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>


    <!-- Iconoir - Beautiful open source icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/iconoir-icons/iconoir@main/css/iconoir.css">
    
    <!-- Scripts Tab Seeking Alpha & Scraping -->
    <script type="text/babel" src="js/dashboard/components/tabs/SeekingAlphaTab.js"></script>
    <script type="text/babel" src="js/dashboard/components/tabs/ScrappingSATab.js"></script>
    
    <!-- Styles des th√®mes -->
    <link rel="stylesheet" href="/css/themes.css">
    <!-- Google Fonts pour les polices personnalis√©es des th√®mes -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800;900&family=Source+Sans+Pro:wght@400;600;700&family=Open+Sans:wght@400;600;700&family=Avenir+Next:wght@400;500;600;700&family=Inter:wght@400;500;600;700;800;900&family=Roboto:wght@400;500;700;900&family=Georgia:wght@400;700&display=swap" rel="stylesheet">

    <!-- Environment Configuration from env-config.js -->
    <script src="/js/env-config.js"></script>
    <!-- Mock API for Local Development -->
    <script src="/js/dashboard/mock-api.js"></script>

    <!-- Supabase Client -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.39.0/dist/umd/supabase.min.js"></script>
    <!-- Roles & Permissions System -->
    <script src="/js/roles-permissions.js"></script>
    <!-- Toast Notification Manager (Global) -->
    <script src="/js/utils/toast-manager.js"></script>

    <!-- Script pour exposer les biblioth√®ques globalement -->
    <script>
        // Exposer Recharts globalement
        window.Recharts = window.Recharts || {};

        // ============================================
        // INJECTION VARIABLE D'ENVIRONNEMENT VITE_GROUP_CHAT_URL
        // ============================================
        // Pour Babel inline, on doit passer la variable via un script
        // En production Vercel, cette variable sera inject√©e c√¥t√© serveur
        // En d√©veloppement, elle peut √™tre d√©finie dans window.importMetaEnv
        (function() {
            // Essayer de r√©cup√©rer depuis window.importMetaEnv (si d√©fini par Vite)
            const envChatUrl = (typeof window !== 'undefined' && window.importMetaEnv && window.importMetaEnv.VITE_GROUP_CHAT_URL)
                ? window.importMetaEnv.VITE_GROUP_CHAT_URL
                : '';
            
            // Injecter dans le meta tag pour que ChatGPTGroupTab.js puisse le lire
            const metaTag = document.getElementById('vite-group-chat-url-meta');
            if (metaTag && envChatUrl) {
                metaTag.setAttribute('content', envChatUrl);
            }
            
            // Exposer aussi via window pour acc√®s direct
            if (typeof window !== 'undefined') {
                window.importMetaEnv = window.importMetaEnv || {};
                if (envChatUrl) {
                    window.importMetaEnv.VITE_GROUP_CHAT_URL = envChatUrl;
                }
            }
        })();

        // OPTIMISATION: Gestionnaire d'erreur global am√©lior√© pour √©viter que les erreurs de scripts externes cassent l'application
        window.addEventListener('error', function (event) {
            // Ignorer les erreurs de scripts externes (extensions, etc.)
            if (event.filename && (event.filename.includes('share-modal') || event.filename.includes('extension'))) {
                console.warn('‚ö†Ô∏è Erreur ignor√©e depuis un script externe:', event.filename);
                event.preventDefault();
                return true;
            }
            // OPTIMISATION: Logger les erreurs dashboard pour debugging
            if (event.filename && event.filename.includes('dashboard')) {
                console.error('‚ùå Erreur dashboard:', {
                    message: event.message,
                    filename: event.filename,
                    lineno: event.lineno,
                    colno: event.colno,
                    error: event.error
                });
            }
        }, true);

        // Protection contre les addEventListener sur des √©l√©ments null
        const originalAddEventListener = EventTarget.prototype.addEventListener;
        EventTarget.prototype.addEventListener = function (type, listener, options) {
            if (this === null || this === undefined) {
                console.warn('‚ö†Ô∏è Tentative d\'ajouter un event listener sur un √©l√©ment null/undefined:', type);
                return;
            }
            return originalAddEventListener.call(this, type, listener, options);
        };

        // V√©rifier le chargement des biblioth√®ques
        window.addEventListener('load', function () {
            console.log('üìö V√©rification des biblioth√®ques:');
            console.log('Recharts disponible:', typeof window.Recharts !== 'undefined');
            console.log('Iconoir disponible:', document.querySelectorAll('[class*="iconoir-"]').length > 0);

            // Message informatif sur les avertissements de production
            console.log('‚ÑπÔ∏è Note: Les avertissements Tailwind/Babel sont normaux pour ce fichier standalone');
            console.log('‚ÑπÔ∏è Ce fichier utilise intentionnellement des CDN pour la portabilit√©');
        });
    </script>

    <!-- Emma Configuration - Centralized prompts and settings -->
    <script type="module">
        import { emmaConfig } from './emma-config.js';
        window.emmaConfig = emmaConfig;
        console.log('‚úÖ Emma Config charg√©:', window.emmaConfig ? 'OK' : 'ERREUR');

        // Init Toast Helper Global
        window.showToast = (msg, type = 'info') => {
            if (window.Toast) window.Toast.show(msg, type);
            else console.log('Toast:', msg);
        };
        // Welcome Toast
        window.addEventListener('load', () => {
            setTimeout(() => {
                if(window.showToast) window.showToast('Bienvenue sur votre Dashboard Premium', 'gold', 'JSLai Wealth');
            }, 1000);
        });
    </script>

    <!-- Styles Emma -->
    <link rel="stylesheet" href="emma-styles.css">
    <style>
        * {
            font-family: 'Plus Jakarta Sans', 'Inter', 'Roboto', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        }

        /* Global font reduction for better overview */
        html {
            font-size: 85%;
        }

        h1, h2, h3, h4, h5, h6, .font-display {
            font-family: 'Outfit', 'Plus Jakarta Sans', sans-serif;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .tab-button.active {
            background: linear-gradient(135deg, #4ade80 0%, #22c55e 100%);
            color: white;
        }

        .pulse-animation {
            animation: pulse 3s infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.5;
            }
        }

        /* üé® Animations pour la bottom bar avec ic√¥nes Iconoir */
        @keyframes slide-down {
            from {
                opacity: 0;
                transform: translateX(-50%) translateY(-10px);
            }

            to {
                opacity: 1;
                transform: translateX(-50%) translateY(0);
            }
        }

        @keyframes icon-pop {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.2);
            }

            100% {
                transform: scale(1.1);
            }
        }

        .animate-slide-down {
            animation: slide-down 0.3s ease-out;
        }

        /* Effet de glow sur l'ic√¥ne active */
        nav button:has(i.scale-110) i {
            filter: drop-shadow(0 0 8px currentColor);
        }

        /* Styles pour garantir l'affichage des ic√¥nes Iconoir sur mobile */
        .iconoir-chart-line,
        .iconoir-trending-up,
        .iconoir-chat-bubble,
        .iconoir-settings,
        .iconoir-star,
        .iconoir-search,
        .iconoir-graph-up,
        .iconoir-antenna-signal,
        .iconoir-calendar,
        .iconoir-flask,
        .iconoir-globe,
        .iconoir-log-out,
        .iconoir-menu,
        .iconoir-briefcase {
            display: inline-block !important;
            font-style: normal !important;
            font-variant: normal !important;
            text-rendering: auto !important;
            line-height: 1 !important;
            -webkit-font-smoothing: antialiased !important;
            -moz-osx-font-smoothing: grayscale !important;
        }

        /* Transition fluide pour toutes les ic√¥nes */
        nav button i {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Effet hover sur les boutons de navigation */
        nav button:hover:not(:active) i {
            transform: translateY(-2px);
        }

        /* Effet de press */
        nav button:active i {
            transform: scale(0.9);
        }

        .stock-card {
            transition: all 0.3s ease;
        }

        .stock-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }

        /* üíé VAGUES 3+4 - Finance Pro UI Effects */

        /* üå´Ô∏è Glassmorphism Effect */
        .glass-card {
            background: rgba(255, 255, 255, 0.05);
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }

        .glass-card-light {
            background: rgba(255, 255, 255, 0.7);
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.18);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1);
        }

        /* ‚¨ÜÔ∏è Hover Lift Effect (-4px translateY) */
        .hover-lift {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .hover-lift:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.25);
        }

        /* ‚ú® Shine Effect (horizontal sweep) */
        .shine-effect {
            position: relative;
            overflow: hidden;
        }

        .shine-effect::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg,
                    transparent,
                    rgba(255, 255, 255, 0.2),
                    transparent);
            transition: left 0.5s ease;
        }

        .shine-effect:hover::before {
            left: 100%;
        }

        /* üåü Glow Animation for Important Metrics */
        .glow-pulse {
            animation: glow-pulse 2s ease-in-out infinite;
        }

        @keyframes glow-pulse {

            0%,
            100% {
                box-shadow: 0 0 5px rgba(74, 222, 128, 0.5),
                    0 0 10px rgba(74, 222, 128, 0.3),
                    0 0 15px rgba(74, 222, 128, 0.2);
            }

            50% {
                box-shadow: 0 0 10px rgba(74, 222, 128, 0.8),
                    0 0 20px rgba(74, 222, 128, 0.6),
                    0 0 30px rgba(74, 222, 128, 0.4);
            }
        }

        .glow-pulse-red {
            animation: glow-pulse-red 2s ease-in-out infinite;
        }

        @keyframes glow-pulse-red {

            0%,
            100% {
                box-shadow: 0 0 5px rgba(239, 68, 68, 0.5),
                    0 0 10px rgba(239, 68, 68, 0.3),
                    0 0 15px rgba(239, 68, 68, 0.2);
            }

            50% {
                box-shadow: 0 0 10px rgba(239, 68, 68, 0.8),
                    0 0 20px rgba(239, 68, 68, 0.6),
                    0 0 30px rgba(239, 68, 68, 0.4);
            }
        }

        .glow-pulse-blue {
            animation: glow-pulse-blue 2s ease-in-out infinite;
        }

        @keyframes glow-pulse-blue {

            0%,
            100% {
                box-shadow: 0 0 5px rgba(59, 130, 246, 0.5),
                    0 0 10px rgba(59, 130, 246, 0.3),
                    0 0 15px rgba(59, 130, 246, 0.2);
            }

            50% {
                box-shadow: 0 0 10px rgba(59, 130, 246, 0.8),
                    0 0 20px rgba(59, 130, 246, 0.6),
                    0 0 30px rgba(59, 130, 246, 0.4);
            }
        }

        /* üí´ Shimmer Effect for Loading States */
        .shimmer {
            background: linear-gradient(90deg,
                    rgba(255, 255, 255, 0.05) 0%,
                    rgba(255, 255, 255, 0.1) 50%,
                    rgba(255, 255, 255, 0.05) 100%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
        }

        @keyframes shimmer {
            0% {
                background-position: -200% 0;
            }

            100% {
                background-position: 200% 0;
            }
        }

        /* üîí Pr√©vention du scroll horizontal sur tous les appareils */
        html,
        body {
            overflow-x: hidden;
            max-width: 100%;
            position: relative;
        }

        html {
            width: 100%;
        }

        body {
            width: 100%;
            margin: 0;
            padding: 0;
        }

        /* Emp√™cher tout d√©bordement des √©l√©ments enfants */
        #root {
            overflow-x: hidden;
            max-width: 100%;
        }

        /* üì± MOBILE - COMPACT VIEW for Global Overview */
        @media (max-width: 768px) {

            /* Compact global scaling for dashboard view */
            html {
                font-size: 55%;
                overflow-x: hidden;
                max-width: 100vw;
            }

            body {
                padding: 6px;
                overflow-x: hidden;
                max-width: 100vw;
                width: 100%;
            }

            /* Compact header */
            header {
                padding: 10px !important;
            }

            header img {
                width: 36px !important;
                height: 36px !important;
            }

            header h1 {
                font-size: 1.3rem !important;
            }

            header p {
                font-size: 0.65rem !important;
            }

            /* Ticker banner compact */
            .ticker-content>div {
                padding: 6px 10px !important;
                font-size: 0.65rem !important;
            }

            /* Navigation tabs - horizontal scroll */
            nav {
                overflow-x: auto !important;
                -webkit-overflow-scrolling: touch !important;
                scrollbar-width: none !important;
                padding: 6px !important;
            }

            nav::-webkit-scrollbar {
                display: none;
            }

            nav button {
                flex-shrink: 0 !important;
                white-space: nowrap !important;
                padding: 10px 14px !important;
                font-size: 0.75rem !important;
            }

            /* Tables: horizontal scroll */
            table {
                display: block !important;
                overflow-x: auto !important;
                -webkit-overflow-scrolling: touch !important;
                white-space: nowrap !important;
                font-size: 0.7rem !important;
            }

            /* Buttons slightly larger for touch */
            button,
            .btn,
            a[class*="btn"] {
                min-height: 36px !important;
                padding: 8px 12px !important;
            }

            /* Input fields prevent iOS zoom */
            input,
            textarea,
            select {
                font-size: 16px !important;
                /* Prevent zoom on focus */
                padding: 8px !important;
                min-height: 36px !important;
            }

            /* Compact card spacing */
            .space-y-6>*+* {
                margin-top: 12px !important;
            }

            .space-y-4>*+* {
                margin-top: 8px !important;
            }

            .space-y-2>*+* {
                margin-top: 4px !important;
            }

            .p-6 {
                padding: 12px !important;
            }

            .p-4 {
                padding: 8px !important;
            }

            .p-3 {
                padding: 6px !important;
            }

            .p-2 {
                padding: 4px !important;
            }

            /* Gap reduction */
            .gap-6 {
                gap: 12px !important;
            }

            .gap-4 {
                gap: 8px !important;
            }

            .gap-2 {
                gap: 4px !important;
            }

            /* Grid stays but more compact */
            .grid {
                gap: 8px !important;
            }

            /* Charts and images responsive */
            img,
            canvas,
            svg {
                max-width: 100% !important;
                height: auto !important;
            }
        }

        .seeking-alpha-card {
            background: linear-gradient(135deg, #1f1f1f 0%, #2d2d2d 100%);
        }

        .stocks-news-card {
            background: linear-gradient(135deg, #059669 0%, #10b981 100%);
        }

        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            line-clamp: 2;
            -webkit-box-orient: vertical;
        }

        /* Scrollbar personnalis√©e */
        .scrollbar-thin {
            scrollbar-width: thin;
        }

        .scrollbar-thin::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }

        .scrollbar-thin::-webkit-scrollbar-track {
            background: #f1f5f9;
            border-radius: 3px;
        }

        .scrollbar-thin::-webkit-scrollbar-thumb {
            background: #94a3b8;
            border-radius: 3px;
        }

        .scrollbar-thin::-webkit-scrollbar-thumb:hover {
            background: #64748b;
        }

        /* Dark mode scrollbar */
        .dark .scrollbar-thin::-webkit-scrollbar-track {
            background: #1e293b;
        }

        .dark .scrollbar-thin::-webkit-scrollbar-thumb {
            background: #475569;
        }

        .dark .scrollbar-thin::-webkit-scrollbar-thumb:hover {
            background: #64748b;
        }

        .line-clamp-3 {
            display: -webkit-box;
            -webkit-line-clamp: 3;
            line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .news-card {
            transition: all 0.3s ease;
        }

        .news-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }

        /* Effets visuels - ripple sur boutons */
        .btn-ripple {
            position: relative;
            overflow: hidden;
        }

        .ripple-circle {
            position: absolute;
            border-radius: 50%;
            pointer-events: none;
            background: rgba(59, 130, 246, 0.45);
            /* blue */
            transform: scale(0);
            animation: ripple 600ms ease-out;
        }

        @keyframes ripple {
            to {
                transform: scale(3);
                opacity: 0;
            }
        }

        /* Animation intro Emma */
        @keyframes emma-intro-fade {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        @keyframes emma-zoom-in {
            0% {
                transform: scale(0.85);
                opacity: 0;
            }

            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        .emma-intro-overlay {
            animation: emma-intro-fade 300ms ease-out;
        }

        .emma-intro-image {
            animation: emma-zoom-in 800ms ease-out;
        }
    </style>

    <!-- üîê Auth Guard - Protection du Dashboard -->
    <script src="/js/auth-guard.js"></script>
    <style>
        /* üíé EMMA IA DESIGN SYSTEM - GLOBAL STYLES */
        
        /* Glassmorphism Button Standard */
        .btn-emma {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.05) 0%, rgba(255, 255, 255, 0.01) 100%);
            -webkit-backdrop-filter: blur(16px);
            backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: #e2e8f0;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .btn-emma:hover {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%);
            border-color: rgba(255, 255, 255, 0.2);
            color: white;
            transform: translateY(-2px) scale(1.02);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.15);
        }

        .btn-emma:active {
            transform: translateY(0) scale(0.98);
        }

        /* Blue Accent Variation */
        .btn-emma-primary {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.2) 0%, rgba(37, 99, 235, 0.1) 100%);
            border: 1px solid rgba(59, 130, 246, 0.3);
            color: #bfdbfe;
        }

        .btn-emma-primary:hover {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.3) 0%, rgba(37, 99, 235, 0.2) 100%);
            border-color: rgba(59, 130, 246, 0.5);
            color: white;
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.3);
        }

        /* Green/Emerald Accent */
        .btn-emma-success {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.2) 0%, rgba(5, 150, 105, 0.1) 100%);
            border: 1px solid rgba(16, 185, 129, 0.3);
            color: #d1fae5;
        }

        .btn-emma-success:hover {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.3) 0%, rgba(5, 150, 105, 0.2) 100%);
            border-color: rgba(16, 185, 129, 0.5);
            color: white;
            box-shadow: 0 0 20px rgba(16, 185, 129, 0.3);
        }

        /* Glimmer/Shine Animation */
        .btn-glimmer::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 200%;
            height: 100%;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(255, 255, 255, 0.1),
                transparent
            );
            transform: skewX(-20deg);
            transition: 0.5s;
        }

        .btn-glimmer:hover::after {
            animation: glimmer 1s;
        }

        @keyframes glimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        /* --- PREMIUM UI UTILITIES (JLab‚Ñ¢) --- */
        .glass-card {
            background: rgba(10, 14, 39, 0.6);
            -webkit-backdrop-filter: blur(12px);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }
        
        .light .glass-card {
            background: rgba(255, 255, 255, 0.6);
            border: 1px solid rgba(0, 0, 0, 0.05);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.07);
        }

        .glow-pulse {
            animation: glow-pulse 2s infinite;
        }

        @keyframes glow-pulse {
            0% { box-shadow: 0 0 5px rgba(16, 185, 129, 0.2); }
            50% { box-shadow: 0 0 20px rgba(16, 185, 129, 0.4); }
            100% { box-shadow: 0 0 5px rgba(16, 185, 129, 0.2); }
        }

        .text-gradient {
            background: linear-gradient(135deg, #10b981 0%, #3b82f6 100%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .hover-lift {
            transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
        }

        .hover-lift:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 24px -8px rgba(0, 0, 0, 0.5);
        }

        /* Footer Info Bar Styles */
        #footer-info-bar {
            position: fixed;
            bottom: 12px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(15, 23, 42, 0.85);
            -webkit-backdrop-filter: blur(8px);
            backdrop-filter: blur(8px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            color: #cbd5e1;
            padding: 6px 16px;
            font-size: 11px;
            border-radius: 99px;
            z-index: 9999;
            pointer-events: none;
            opacity: 0.9;
            font-family: 'Plus Jakarta Sans', sans-serif;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
        }

        #footer-info-bar .brand {
            font-weight: 600;
            color: #fff;
        }

        #footer-info-bar .separator {
            opacity: 0.3;
        }

        /* Secondary Nav Specifics */
        .emma-nav-item {
            position: relative;
            isolation: isolate;
        }
        
        .emma-nav-item::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(45deg, transparent 5%, rgba(255,255,255,0.03) 50%, transparent 95%);
            z-index: -1;
            transition: opacity 0.3s;
            opacity: 0;
        }
        
        .emma-nav-item:hover::before {
            opacity: 1;
        }
    </style>
</head>

<body class="min-h-screen bg-black m-0 p-0">
    <div id="root" class="min-h-screen w-full"></div>

    <!-- Stock Analysis Components (fixed API routing) -->
    <script src="/js/dashboard/stockAnalysisAPI-FIXED.js"></script>
    <script type="text/babel" src="/js/dashboard/components/StockAnalysisModal.js"></script>

    <!-- Advanced Analysis Components -->
    <script type="text/babel" src="/js/dashboard/components/PeerComparisonModal.js"></script>
    <script type="text/babel" src="/js/dashboard/components/ScenarioAnalysisModal.js"></script>
    <script type="text/babel" src="/js/dashboard/components/AdvancedScreenerModal.js"></script>

    <!-- NEW: Enhanced Analysis Modals with Full API Integration -->
    <script type="text/babel" src="/js/dashboard/components/AIStockAnalysisModal.js"></script>
    <script type="text/babel" src="/js/dashboard/components/NewsAndSentimentModal.js"></script>
    <script type="text/babel" src="/js/dashboard/components/AnalystConsensusModal.js"></script>
    <script type="text/babel" src="/js/dashboard/components/EarningsCalendarModal.js"></script>
    <script type="text/babel" src="/js/dashboard/components/EconomicEventsModal.js"></script>
    <script type="text/babel" src="/js/dashboard/components/WatchlistScreenerModal.js"></script>

    <script src="/js/dashboard/pdfExporter.js"></script>

    <!-- Main Tabs Components -->
    <script type="text/babel" src="/js/dashboard/components/tabs/EconomicCalendarTab.js"></script>
    <script type="text/babel" src="/js/dashboard/components/tabs/FastGraphsTab.js"></script>
    <script type="text/babel" src="/js/dashboard/components/tabs/AdvancedAnalysisModals.js"></script>
    <script type="text/babel" src="/js/dashboard/components/tabs/AdvancedAnalysisTab.js"></script>

    <!-- Announcement Bars System (Gemini-powered) -->
    <script type="text/babel" src="/js/dashboard/components/AnnouncementBar.js"></script>
    <script type="text/babel" src="/js/dashboard/components/AnnouncementBarManager.js"></script>
    <script type="text/babel" src="/js/dashboard/components/ThemeSelector.js"></script>

    <!-- Inline (legacy) bundle to preserve existing design -->
    <script type="text/babel" data-presets="react" src="/js/dashboard/app-inline.js"></script>

    <!-- Global Real-time Sync (must load after app-inline to dispatch events) -->
    <script src="/js/dashboard/realtime-sync.js"></script>
    <!-- Debug / Context Indicator -->
    <div id="footer-info-bar">
        <span class="brand">GOB Apps</span>
        <span class="separator">|</span>
        <span id="footer-context">public/beta-combined-dashboard.html</span>
    </div>
</body>

</html>
