function wb(n,e){for(var i=0;i<e.length;i++){const r=e[i];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in n)){const l=Object.getOwnPropertyDescriptor(r,a);l&&Object.defineProperty(n,a,l.get?l:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=i(a);fetch(a.href,l)}})();function ud(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Cb(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var i=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var a=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(i,r,a.get?a:{enumerable:!0,get:function(){return n[r]}})}),i}var _c={exports:{}},zr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qm;function Ab(){if(qm)return zr;qm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:n,type:r,key:c,ref:a!==void 0?a:null,props:l}}return zr.Fragment=e,zr.jsx=i,zr.jsxs=i,zr}var Gm;function Nb(){return Gm||(Gm=1,_c.exports=Ab()),_c.exports}var y=Nb(),xc={exports:{}},pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bm;function Rb(){if(Bm)return pe;Bm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),b=Symbol.iterator;function E(R){return R===null||typeof R!="object"?null:(R=b&&R[b]||R["@@iterator"],typeof R=="function"?R:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,I={};function P(R,H,X){this.props=R,this.context=H,this.refs=I,this.updater=X||w}P.prototype.isReactComponent={},P.prototype.setState=function(R,H){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,H,"setState")},P.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function k(){}k.prototype=P.prototype;function A(R,H,X){this.props=R,this.context=H,this.refs=I,this.updater=X||w}var j=A.prototype=new k;j.constructor=A,N(j,P.prototype),j.isPureReactComponent=!0;var D=Array.isArray;function Y(){}var G={H:null,A:null,T:null,S:null},W=Object.prototype.hasOwnProperty;function K(R,H,X){var Z=X.ref;return{$$typeof:n,type:R,key:H,ref:Z!==void 0?Z:null,props:X}}function te(R,H){return K(R.type,H,R.props)}function ue(R){return typeof R=="object"&&R!==null&&R.$$typeof===n}function oe(R){var H={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(X){return H[X]})}var ve=/\/+/g;function je(R,H){return typeof R=="object"&&R!==null&&R.key!=null?oe(""+R.key):H.toString(36)}function Ve(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(Y,Y):(R.status="pending",R.then(function(H){R.status==="pending"&&(R.status="fulfilled",R.value=H)},function(H){R.status==="pending"&&(R.status="rejected",R.reason=H)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function B(R,H,X,Z,ce){var me=typeof R;(me==="undefined"||me==="boolean")&&(R=null);var Ae=!1;if(R===null)Ae=!0;else switch(me){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(R.$$typeof){case n:case e:Ae=!0;break;case _:return Ae=R._init,B(Ae(R._payload),H,X,Z,ce)}}if(Ae)return ce=ce(R),Ae=Z===""?"."+je(R,0):Z,D(ce)?(X="",Ae!=null&&(X=Ae.replace(ve,"$&/")+"/"),B(ce,H,X,"",function(_e){return _e})):ce!=null&&(ue(ce)&&(ce=te(ce,X+(ce.key==null||R&&R.key===ce.key?"":(""+ce.key).replace(ve,"$&/")+"/")+Ae)),H.push(ce)),1;Ae=0;var st=Z===""?".":Z+":";if(D(R))for(var He=0;He<R.length;He++)Z=R[He],me=st+je(Z,He),Ae+=B(Z,H,X,me,ce);else if(He=E(R),typeof He=="function")for(R=He.call(R),He=0;!(Z=R.next()).done;)Z=Z.value,me=st+je(Z,He++),Ae+=B(Z,H,X,me,ce);else if(me==="object"){if(typeof R.then=="function")return B(Ve(R),H,X,Z,ce);throw H=String(R),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function Q(R,H,X){if(R==null)return R;var Z=[],ce=0;return B(R,Z,"","",function(me){return H.call(X,me,ce++)}),Z}function se(R){if(R._status===-1){var H=R._result;H=H(),H.then(function(X){(R._status===0||R._status===-1)&&(R._status=1,R._result=X)},function(X){(R._status===0||R._status===-1)&&(R._status=2,R._result=X)}),R._status===-1&&(R._status=0,R._result=H)}if(R._status===1)return R._result.default;throw R._result}var ge=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},Te={map:Q,forEach:function(R,H,X){Q(R,function(){H.apply(this,arguments)},X)},count:function(R){var H=0;return Q(R,function(){H++}),H},toArray:function(R){return Q(R,function(H){return H})||[]},only:function(R){if(!ue(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return pe.Activity=x,pe.Children=Te,pe.Component=P,pe.Fragment=i,pe.Profiler=a,pe.PureComponent=A,pe.StrictMode=r,pe.Suspense=g,pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,pe.__COMPILER_RUNTIME={__proto__:null,c:function(R){return G.H.useMemoCache(R)}},pe.cache=function(R){return function(){return R.apply(null,arguments)}},pe.cacheSignal=function(){return null},pe.cloneElement=function(R,H,X){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var Z=N({},R.props),ce=R.key;if(H!=null)for(me in H.key!==void 0&&(ce=""+H.key),H)!W.call(H,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&H.ref===void 0||(Z[me]=H[me]);var me=arguments.length-2;if(me===1)Z.children=X;else if(1<me){for(var Ae=Array(me),st=0;st<me;st++)Ae[st]=arguments[st+2];Z.children=Ae}return K(R.type,ce,Z)},pe.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:l,_context:R},R},pe.createElement=function(R,H,X){var Z,ce={},me=null;if(H!=null)for(Z in H.key!==void 0&&(me=""+H.key),H)W.call(H,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ce[Z]=H[Z]);var Ae=arguments.length-2;if(Ae===1)ce.children=X;else if(1<Ae){for(var st=Array(Ae),He=0;He<Ae;He++)st[He]=arguments[He+2];ce.children=st}if(R&&R.defaultProps)for(Z in Ae=R.defaultProps,Ae)ce[Z]===void 0&&(ce[Z]=Ae[Z]);return K(R,me,ce)},pe.createRef=function(){return{current:null}},pe.forwardRef=function(R){return{$$typeof:h,render:R}},pe.isValidElement=ue,pe.lazy=function(R){return{$$typeof:_,_payload:{_status:-1,_result:R},_init:se}},pe.memo=function(R,H){return{$$typeof:p,type:R,compare:H===void 0?null:H}},pe.startTransition=function(R){var H=G.T,X={};G.T=X;try{var Z=R(),ce=G.S;ce!==null&&ce(X,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(Y,ge)}catch(me){ge(me)}finally{H!==null&&X.types!==null&&(H.types=X.types),G.T=H}},pe.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},pe.use=function(R){return G.H.use(R)},pe.useActionState=function(R,H,X){return G.H.useActionState(R,H,X)},pe.useCallback=function(R,H){return G.H.useCallback(R,H)},pe.useContext=function(R){return G.H.useContext(R)},pe.useDebugValue=function(){},pe.useDeferredValue=function(R,H){return G.H.useDeferredValue(R,H)},pe.useEffect=function(R,H){return G.H.useEffect(R,H)},pe.useEffectEvent=function(R){return G.H.useEffectEvent(R)},pe.useId=function(){return G.H.useId()},pe.useImperativeHandle=function(R,H,X){return G.H.useImperativeHandle(R,H,X)},pe.useInsertionEffect=function(R,H){return G.H.useInsertionEffect(R,H)},pe.useLayoutEffect=function(R,H){return G.H.useLayoutEffect(R,H)},pe.useMemo=function(R,H){return G.H.useMemo(R,H)},pe.useOptimistic=function(R,H){return G.H.useOptimistic(R,H)},pe.useReducer=function(R,H,X){return G.H.useReducer(R,H,X)},pe.useRef=function(R){return G.H.useRef(R)},pe.useState=function(R){return G.H.useState(R)},pe.useSyncExternalStore=function(R,H,X){return G.H.useSyncExternalStore(R,H,X)},pe.useTransition=function(){return G.H.useTransition()},pe.version="19.2.0",pe}var jm;function cd(){return jm||(jm=1,xc.exports=Rb()),xc.exports}var $=cd();const ny=ud($);var bc={exports:{}},$r={},Sc={exports:{}},Ec={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vm;function Mb(){return Vm||(Vm=1,(function(n){function e(B,Q){var se=B.length;B.push(Q);e:for(;0<se;){var ge=se-1>>>1,Te=B[ge];if(0<a(Te,Q))B[ge]=Q,B[se]=Te,se=ge;else break e}}function i(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var Q=B[0],se=B.pop();if(se!==Q){B[0]=se;e:for(var ge=0,Te=B.length,R=Te>>>1;ge<R;){var H=2*(ge+1)-1,X=B[H],Z=H+1,ce=B[Z];if(0>a(X,se))Z<Te&&0>a(ce,X)?(B[ge]=ce,B[Z]=se,ge=Z):(B[ge]=X,B[H]=se,ge=H);else if(Z<Te&&0>a(ce,se))B[ge]=ce,B[Z]=se,ge=Z;else break e}}return Q}function a(B,Q){var se=B.sortIndex-Q.sortIndex;return se!==0?se:B.id-Q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var g=[],p=[],_=1,x=null,b=3,E=!1,w=!1,N=!1,I=!1,P=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function j(B){for(var Q=i(p);Q!==null;){if(Q.callback===null)r(p);else if(Q.startTime<=B)r(p),Q.sortIndex=Q.expirationTime,e(g,Q);else break;Q=i(p)}}function D(B){if(N=!1,j(B),!w)if(i(g)!==null)w=!0,Y||(Y=!0,oe());else{var Q=i(p);Q!==null&&Ve(D,Q.startTime-B)}}var Y=!1,G=-1,W=5,K=-1;function te(){return I?!0:!(n.unstable_now()-K<W)}function ue(){if(I=!1,Y){var B=n.unstable_now();K=B;var Q=!0;try{e:{w=!1,N&&(N=!1,k(G),G=-1),E=!0;var se=b;try{t:{for(j(B),x=i(g);x!==null&&!(x.expirationTime>B&&te());){var ge=x.callback;if(typeof ge=="function"){x.callback=null,b=x.priorityLevel;var Te=ge(x.expirationTime<=B);if(B=n.unstable_now(),typeof Te=="function"){x.callback=Te,j(B),Q=!0;break t}x===i(g)&&r(g),j(B)}else r(g);x=i(g)}if(x!==null)Q=!0;else{var R=i(p);R!==null&&Ve(D,R.startTime-B),Q=!1}}break e}finally{x=null,b=se,E=!1}Q=void 0}}finally{Q?oe():Y=!1}}}var oe;if(typeof A=="function")oe=function(){A(ue)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,je=ve.port2;ve.port1.onmessage=ue,oe=function(){je.postMessage(null)}}else oe=function(){P(ue,0)};function Ve(B,Q){G=P(function(){B(n.unstable_now())},Q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(B){switch(b){case 1:case 2:case 3:var Q=3;break;default:Q=b}var se=b;b=Q;try{return B()}finally{b=se}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function(B,Q){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var se=b;b=B;try{return Q()}finally{b=se}},n.unstable_scheduleCallback=function(B,Q,se){var ge=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?ge+se:ge):se=ge,B){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=se+Te,B={id:_++,callback:Q,priorityLevel:B,startTime:se,expirationTime:Te,sortIndex:-1},se>ge?(B.sortIndex=se,e(p,B),i(g)===null&&B===i(p)&&(N?(k(G),G=-1):N=!0,Ve(D,se-ge))):(B.sortIndex=Te,e(g,B),w||E||(w=!0,Y||(Y=!0,oe()))),B},n.unstable_shouldYield=te,n.unstable_wrapCallback=function(B){var Q=b;return function(){var se=b;b=Q;try{return B.apply(this,arguments)}finally{b=se}}}})(Ec)),Ec}var Hm;function Ib(){return Hm||(Hm=1,Sc.exports=Mb()),Sc.exports}var Tc={exports:{}},bt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm;function kb(){if(zm)return bt;zm=1;var n=cd();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(g,p,_){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:g,containerInfo:p,implementation:_}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,bt.createPortal=function(g,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(g,p,null,_)},bt.flushSync=function(g){var p=c.T,_=r.p;try{if(c.T=null,r.p=2,g)return g()}finally{c.T=p,r.p=_,r.d.f()}},bt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(g,p))},bt.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},bt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var _=p.as,x=h(_,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,E=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?r.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:b,fetchPriority:E}):_==="script"&&r.d.X(g,{crossOrigin:x,integrity:b,fetchPriority:E,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},bt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=h(p.as,p.crossOrigin);r.d.M(g,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(g)},bt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,x=h(_,p.crossOrigin);r.d.L(g,_,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},bt.preloadModule=function(g,p){if(typeof g=="string")if(p){var _=h(p.as,p.crossOrigin);r.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(g)},bt.requestFormReset=function(g){r.d.r(g)},bt.unstable_batchedUpdates=function(g,p){return g(p)},bt.useFormState=function(g,p,_){return c.H.useFormState(g,p,_)},bt.useFormStatus=function(){return c.H.useHostTransitionStatus()},bt.version="19.2.0",bt}var $m;function Db(){if($m)return Tc.exports;$m=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Tc.exports=kb(),Tc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fm;function Ub(){if(Fm)return $r;Fm=1;var n=Ib(),e=cd(),i=Db();function r(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function l(t){var s=t,o=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(o=s.return),t=s.return;while(t)}return s.tag===3?o:null}function c(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function h(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function g(t){if(l(t)!==t)throw Error(r(188))}function p(t){var s=t.alternate;if(!s){if(s=l(t),s===null)throw Error(r(188));return s!==t?null:t}for(var o=t,u=s;;){var m=o.return;if(m===null)break;var v=m.alternate;if(v===null){if(u=m.return,u!==null){o=u;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===o)return g(m),t;if(v===u)return g(m),s;v=v.sibling}throw Error(r(188))}if(o.return!==u.return)o=m,u=v;else{for(var S=!1,T=m.child;T;){if(T===o){S=!0,o=m,u=v;break}if(T===u){S=!0,u=m,o=v;break}T=T.sibling}if(!S){for(T=v.child;T;){if(T===o){S=!0,o=v,u=m;break}if(T===u){S=!0,u=v,o=m;break}T=T.sibling}if(!S)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?t:s}function _(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=_(t),s!==null)return s;t=t.sibling}return null}var x=Object.assign,b=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),A=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function oe(t){return t===null||typeof t!="object"?null:(t=ue&&t[ue]||t["@@iterator"],typeof t=="function"?t:null)}var ve=Symbol.for("react.client.reference");function je(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ve?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case N:return"Fragment";case P:return"Profiler";case I:return"StrictMode";case D:return"Suspense";case Y:return"SuspenseList";case K:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case w:return"Portal";case A:return t.displayName||"Context";case k:return(t._context.displayName||"Context")+".Consumer";case j:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case G:return s=t.displayName||null,s!==null?s:je(t.type)||"Memo";case W:s=t._payload,t=t._init;try{return je(t(s))}catch{}}return null}var Ve=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},ge=[],Te=-1;function R(t){return{current:t}}function H(t){0>Te||(t.current=ge[Te],ge[Te]=null,Te--)}function X(t,s){Te++,ge[Te]=t.current,t.current=s}var Z=R(null),ce=R(null),me=R(null),Ae=R(null);function st(t,s){switch(X(me,s),X(ce,t),X(Z,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?am(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=am(s),t=lm(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}H(Z),X(Z,t)}function He(){H(Z),H(ce),H(me)}function _e(t){t.memoizedState!==null&&X(Ae,t);var s=Z.current,o=lm(s,t.type);s!==o&&(X(ce,t),X(Z,o))}function Ye(t){ce.current===t&&(H(Z),H(ce)),Ae.current===t&&(H(Ae),Br._currentValue=se)}var Xe,De;function tt(t){if(Xe===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Xe=s&&s[1]||"",De=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xe+t+De}var rt=!1;function $t(t,s){if(!t||rt)return"";rt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(V){var q=V}Reflect.construct(t,[],J)}else{try{J.call()}catch(V){q=V}t.call(J.prototype)}}else{try{throw Error()}catch(V){q=V}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(V){if(V&&q&&typeof V.stack=="string")return[V.stack,q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=u.DetermineComponentFrameRoot(),S=v[0],T=v[1];if(S&&T){var C=S.split(`
`),L=T.split(`
`);for(m=u=0;u<C.length&&!C[u].includes("DetermineComponentFrameRoot");)u++;for(;m<L.length&&!L[m].includes("DetermineComponentFrameRoot");)m++;if(u===C.length||m===L.length)for(u=C.length-1,m=L.length-1;1<=u&&0<=m&&C[u]!==L[m];)m--;for(;1<=u&&0<=m;u--,m--)if(C[u]!==L[m]){if(u!==1||m!==1)do if(u--,m--,0>m||C[u]!==L[m]){var z=`
`+C[u].replace(" at new "," at ");return t.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",t.displayName)),z}while(1<=u&&0<=m);break}}}finally{rt=!1,Error.prepareStackTrace=o}return(o=t?t.displayName||t.name:"")?tt(o):""}function dn(t,s){switch(t.tag){case 26:case 27:case 5:return tt(t.type);case 16:return tt("Lazy");case 13:return t.child!==s&&s!==null?tt("Suspense Fallback"):tt("Suspense");case 19:return tt("SuspenseList");case 0:case 15:return $t(t.type,!1);case 11:return $t(t.type.render,!1);case 1:return $t(t.type,!0);case 31:return tt("Activity");default:return""}}function Ld(t){try{var s="",o=null;do s+=dn(t,o),o=t,t=t.return;while(t);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var sl=Object.prototype.hasOwnProperty,rl=n.unstable_scheduleCallback,ol=n.unstable_cancelCallback,i_=n.unstable_shouldYield,s_=n.unstable_requestPaint,kt=n.unstable_now,r_=n.unstable_getCurrentPriorityLevel,qd=n.unstable_ImmediatePriority,Gd=n.unstable_UserBlockingPriority,so=n.unstable_NormalPriority,o_=n.unstable_LowPriority,Bd=n.unstable_IdlePriority,a_=n.log,l_=n.unstable_setDisableYieldValue,Zs=null,Dt=null;function Bn(t){if(typeof a_=="function"&&l_(t),Dt&&typeof Dt.setStrictMode=="function")try{Dt.setStrictMode(Zs,t)}catch{}}var Ut=Math.clz32?Math.clz32:d_,u_=Math.log,c_=Math.LN2;function d_(t){return t>>>=0,t===0?32:31-(u_(t)/c_|0)|0}var ro=256,oo=262144,ao=4194304;function yi(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function lo(t,s,o){var u=t.pendingLanes;if(u===0)return 0;var m=0,v=t.suspendedLanes,S=t.pingedLanes;t=t.warmLanes;var T=u&134217727;return T!==0?(u=T&~v,u!==0?m=yi(u):(S&=T,S!==0?m=yi(S):o||(o=T&~t,o!==0&&(m=yi(o))))):(T=u&~v,T!==0?m=yi(T):S!==0?m=yi(S):o||(o=u&~t,o!==0&&(m=yi(o)))),m===0?0:s!==0&&s!==m&&(s&v)===0&&(v=m&-m,o=s&-s,v>=o||v===32&&(o&4194048)!==0)?s:m}function Ws(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function f_(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jd(){var t=ao;return ao<<=1,(ao&62914560)===0&&(ao=4194304),t}function al(t){for(var s=[],o=0;31>o;o++)s.push(t);return s}function er(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function h_(t,s,o,u,m,v){var S=t.pendingLanes;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=o,t.entangledLanes&=o,t.errorRecoveryDisabledLanes&=o,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,L=t.hiddenUpdates;for(o=S&~o;0<o;){var z=31-Ut(o),J=1<<z;T[z]=0,C[z]=-1;var q=L[z];if(q!==null)for(L[z]=null,z=0;z<q.length;z++){var V=q[z];V!==null&&(V.lane&=-536870913)}o&=~J}u!==0&&Vd(t,u,0),v!==0&&m===0&&t.tag!==0&&(t.suspendedLanes|=v&~(S&~s))}function Vd(t,s,o){t.pendingLanes|=s,t.suspendedLanes&=~s;var u=31-Ut(s);t.entangledLanes|=s,t.entanglements[u]=t.entanglements[u]|1073741824|o&261930}function Hd(t,s){var o=t.entangledLanes|=s;for(t=t.entanglements;o;){var u=31-Ut(o),m=1<<u;m&s|t[u]&s&&(t[u]|=s),o&=~m}}function zd(t,s){var o=s&-s;return o=(o&42)!==0?1:ll(o),(o&(t.suspendedLanes|s))!==0?0:o}function ll(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ul(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function $d(){var t=Q.p;return t!==0?t:(t=window.event,t===void 0?32:Im(t.type))}function Fd(t,s){var o=Q.p;try{return Q.p=t,s()}finally{Q.p=o}}var jn=Math.random().toString(36).slice(2),mt="__reactFiber$"+jn,wt="__reactProps$"+jn,$i="__reactContainer$"+jn,cl="__reactEvents$"+jn,p_="__reactListeners$"+jn,m_="__reactHandles$"+jn,Jd="__reactResources$"+jn,tr="__reactMarker$"+jn;function dl(t){delete t[mt],delete t[wt],delete t[cl],delete t[p_],delete t[m_]}function Fi(t){var s=t[mt];if(s)return s;for(var o=t.parentNode;o;){if(s=o[$i]||o[mt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(t=mm(t);t!==null;){if(o=t[mt])return o;t=mm(t)}return s}t=o,o=t.parentNode}return null}function Ji(t){if(t=t[mt]||t[$i]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function nr(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(r(33))}function Yi(t){var s=t[Jd];return s||(s=t[Jd]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ht(t){t[tr]=!0}var Yd=new Set,Kd={};function vi(t,s){Ki(t,s),Ki(t+"Capture",s)}function Ki(t,s){for(Kd[t]=s,t=0;t<s.length;t++)Yd.add(s[t])}var g_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qd={},Xd={};function y_(t){return sl.call(Xd,t)?!0:sl.call(Qd,t)?!1:g_.test(t)?Xd[t]=!0:(Qd[t]=!0,!1)}function uo(t,s,o){if(y_(s))if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+o)}}function co(t,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+o)}}function gn(t,s,o,u){if(u===null)t.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttributeNS(s,o,""+u)}}function Ft(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Zd(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function v_(t,s,o){var u=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return m.call(this)},set:function(S){o=""+S,v.call(this,S)}}),Object.defineProperty(t,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(S){o=""+S},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function fl(t){if(!t._valueTracker){var s=Zd(t)?"checked":"value";t._valueTracker=v_(t,s,""+t[s])}}function Wd(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return t&&(u=Zd(t)?t.checked?"true":"false":t.value),t=u,t!==o?(s.setValue(t),!0):!1}function fo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var __=/[\n"\\]/g;function Jt(t){return t.replace(__,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function hl(t,s,o,u,m,v,S,T){t.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.type=S:t.removeAttribute("type"),s!=null?S==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Ft(s)):t.value!==""+Ft(s)&&(t.value=""+Ft(s)):S!=="submit"&&S!=="reset"||t.removeAttribute("value"),s!=null?pl(t,S,Ft(s)):o!=null?pl(t,S,Ft(o)):u!=null&&t.removeAttribute("value"),m==null&&v!=null&&(t.defaultChecked=!!v),m!=null&&(t.checked=m&&typeof m!="function"&&typeof m!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Ft(T):t.removeAttribute("name")}function ef(t,s,o,u,m,v,S,T){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.type=v),s!=null||o!=null){if(!(v!=="submit"&&v!=="reset"||s!=null)){fl(t);return}o=o!=null?""+Ft(o):"",s=s!=null?""+Ft(s):o,T||s===t.value||(t.value=s),t.defaultValue=s}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=T?t.checked:!!u,t.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(t.name=S),fl(t)}function pl(t,s,o){s==="number"&&fo(t.ownerDocument)===t||t.defaultValue===""+o||(t.defaultValue=""+o)}function Qi(t,s,o,u){if(t=t.options,s){s={};for(var m=0;m<o.length;m++)s["$"+o[m]]=!0;for(o=0;o<t.length;o++)m=s.hasOwnProperty("$"+t[o].value),t[o].selected!==m&&(t[o].selected=m),m&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Ft(o),s=null,m=0;m<t.length;m++){if(t[m].value===o){t[m].selected=!0,u&&(t[m].defaultSelected=!0);return}s!==null||t[m].disabled||(s=t[m])}s!==null&&(s.selected=!0)}}function tf(t,s,o){if(s!=null&&(s=""+Ft(s),s!==t.value&&(t.value=s),o==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=o!=null?""+Ft(o):""}function nf(t,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(Ve(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=Ft(s),t.defaultValue=o,u=t.textContent,u===o&&u!==""&&u!==null&&(t.value=u),fl(t)}function Xi(t,s){if(s){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=s;return}}t.textContent=s}var x_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sf(t,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":u?t.setProperty(s,o):typeof o!="number"||o===0||x_.has(s)?s==="float"?t.cssFloat=o:t[s]=(""+o).trim():t[s]=o+"px"}function rf(t,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(t=t.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var m in s)u=s[m],s.hasOwnProperty(m)&&o[m]!==u&&sf(t,m,u)}else for(var v in s)s.hasOwnProperty(v)&&sf(t,v,s[v])}function ml(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var b_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),S_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ho(t){return S_.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function yn(){}var gl=null;function yl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zi=null,Wi=null;function of(t){var s=Ji(t);if(s&&(t=s.stateNode)){var o=t[wt]||null;e:switch(t=s.stateNode,s.type){case"input":if(hl(t,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Jt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==t&&u.form===t.form){var m=u[wt]||null;if(!m)throw Error(r(90));hl(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===t.form&&Wd(u)}break e;case"textarea":tf(t,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Qi(t,!!o.multiple,s,!1)}}}var vl=!1;function af(t,s,o){if(vl)return t(s,o);vl=!0;try{var u=t(s);return u}finally{if(vl=!1,(Zi!==null||Wi!==null)&&(ea(),Zi&&(s=Zi,t=Wi,Wi=Zi=null,of(s),t)))for(s=0;s<t.length;s++)of(t[s])}}function ir(t,s){var o=t.stateNode;if(o===null)return null;var u=o[wt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_l=!1;if(vn)try{var sr={};Object.defineProperty(sr,"passive",{get:function(){_l=!0}}),window.addEventListener("test",sr,sr),window.removeEventListener("test",sr,sr)}catch{_l=!1}var Vn=null,xl=null,po=null;function lf(){if(po)return po;var t,s=xl,o=s.length,u,m="value"in Vn?Vn.value:Vn.textContent,v=m.length;for(t=0;t<o&&s[t]===m[t];t++);var S=o-t;for(u=1;u<=S&&s[o-u]===m[v-u];u++);return po=m.slice(t,1<u?1-u:void 0)}function mo(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function go(){return!0}function uf(){return!1}function Ct(t){function s(o,u,m,v,S){this._reactName=o,this._targetInst=m,this.type=u,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(o=t[T],this[T]=o?o(v):v[T]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?go:uf,this.isPropagationStopped=uf,this}return x(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=go)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=go)},persist:function(){},isPersistent:go}),s}var _i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yo=Ct(_i),rr=x({},_i,{view:0,detail:0}),E_=Ct(rr),bl,Sl,or,vo=x({},rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==or&&(or&&t.type==="mousemove"?(bl=t.screenX-or.screenX,Sl=t.screenY-or.screenY):Sl=bl=0,or=t),bl)},movementY:function(t){return"movementY"in t?t.movementY:Sl}}),cf=Ct(vo),T_=x({},vo,{dataTransfer:0}),w_=Ct(T_),C_=x({},rr,{relatedTarget:0}),El=Ct(C_),A_=x({},_i,{animationName:0,elapsedTime:0,pseudoElement:0}),N_=Ct(A_),R_=x({},_i,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),M_=Ct(R_),I_=x({},_i,{data:0}),df=Ct(I_),k_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},D_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function P_(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=U_[t])?!!s[t]:!1}function Tl(){return P_}var O_=x({},rr,{key:function(t){if(t.key){var s=k_[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=mo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?D_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tl,charCode:function(t){return t.type==="keypress"?mo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?mo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),L_=Ct(O_),q_=x({},vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ff=Ct(q_),G_=x({},rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tl}),B_=Ct(G_),j_=x({},_i,{propertyName:0,elapsedTime:0,pseudoElement:0}),V_=Ct(j_),H_=x({},vo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),z_=Ct(H_),$_=x({},_i,{newState:0,oldState:0}),F_=Ct($_),J_=[9,13,27,32],wl=vn&&"CompositionEvent"in window,ar=null;vn&&"documentMode"in document&&(ar=document.documentMode);var Y_=vn&&"TextEvent"in window&&!ar,hf=vn&&(!wl||ar&&8<ar&&11>=ar),pf=" ",mf=!1;function gf(t,s){switch(t){case"keyup":return J_.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var es=!1;function K_(t,s){switch(t){case"compositionend":return yf(s);case"keypress":return s.which!==32?null:(mf=!0,pf);case"textInput":return t=s.data,t===pf&&mf?null:t;default:return null}}function Q_(t,s){if(es)return t==="compositionend"||!wl&&gf(t,s)?(t=lf(),po=xl=Vn=null,es=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return hf&&s.locale!=="ko"?null:s.data;default:return null}}var X_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vf(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!X_[t.type]:s==="textarea"}function _f(t,s,o,u){Zi?Wi?Wi.push(u):Wi=[u]:Zi=u,s=aa(s,"onChange"),0<s.length&&(o=new yo("onChange","change",null,o,u),t.push({event:o,listeners:s}))}var lr=null,ur=null;function Z_(t){tm(t,0)}function _o(t){var s=nr(t);if(Wd(s))return t}function xf(t,s){if(t==="change")return s}var bf=!1;if(vn){var Cl;if(vn){var Al="oninput"in document;if(!Al){var Sf=document.createElement("div");Sf.setAttribute("oninput","return;"),Al=typeof Sf.oninput=="function"}Cl=Al}else Cl=!1;bf=Cl&&(!document.documentMode||9<document.documentMode)}function Ef(){lr&&(lr.detachEvent("onpropertychange",Tf),ur=lr=null)}function Tf(t){if(t.propertyName==="value"&&_o(ur)){var s=[];_f(s,ur,t,yl(t)),af(Z_,s)}}function W_(t,s,o){t==="focusin"?(Ef(),lr=s,ur=o,lr.attachEvent("onpropertychange",Tf)):t==="focusout"&&Ef()}function ex(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _o(ur)}function tx(t,s){if(t==="click")return _o(s)}function nx(t,s){if(t==="input"||t==="change")return _o(s)}function ix(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Pt=typeof Object.is=="function"?Object.is:ix;function cr(t,s){if(Pt(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var o=Object.keys(t),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var m=o[u];if(!sl.call(s,m)||!Pt(t[m],s[m]))return!1}return!0}function wf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Cf(t,s){var o=wf(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=s&&u>=s)return{node:o,offset:s-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=wf(o)}}function Af(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Af(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Nf(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=fo(t.document);s instanceof t.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)t=s.contentWindow;else break;s=fo(t.document)}return s}function Nl(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var sx=vn&&"documentMode"in document&&11>=document.documentMode,ts=null,Rl=null,dr=null,Ml=!1;function Rf(t,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ml||ts==null||ts!==fo(u)||(u=ts,"selectionStart"in u&&Nl(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),dr&&cr(dr,u)||(dr=u,u=aa(Rl,"onSelect"),0<u.length&&(s=new yo("onSelect","select",null,s,o),t.push({event:s,listeners:u}),s.target=ts)))}function xi(t,s){var o={};return o[t.toLowerCase()]=s.toLowerCase(),o["Webkit"+t]="webkit"+s,o["Moz"+t]="moz"+s,o}var ns={animationend:xi("Animation","AnimationEnd"),animationiteration:xi("Animation","AnimationIteration"),animationstart:xi("Animation","AnimationStart"),transitionrun:xi("Transition","TransitionRun"),transitionstart:xi("Transition","TransitionStart"),transitioncancel:xi("Transition","TransitionCancel"),transitionend:xi("Transition","TransitionEnd")},Il={},Mf={};vn&&(Mf=document.createElement("div").style,"AnimationEvent"in window||(delete ns.animationend.animation,delete ns.animationiteration.animation,delete ns.animationstart.animation),"TransitionEvent"in window||delete ns.transitionend.transition);function bi(t){if(Il[t])return Il[t];if(!ns[t])return t;var s=ns[t],o;for(o in s)if(s.hasOwnProperty(o)&&o in Mf)return Il[t]=s[o];return t}var If=bi("animationend"),kf=bi("animationiteration"),Df=bi("animationstart"),rx=bi("transitionrun"),ox=bi("transitionstart"),ax=bi("transitioncancel"),Uf=bi("transitionend"),Pf=new Map,kl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kl.push("scrollEnd");function sn(t,s){Pf.set(t,s),vi(s,[t])}var xo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Yt=[],is=0,Dl=0;function bo(){for(var t=is,s=Dl=is=0;s<t;){var o=Yt[s];Yt[s++]=null;var u=Yt[s];Yt[s++]=null;var m=Yt[s];Yt[s++]=null;var v=Yt[s];if(Yt[s++]=null,u!==null&&m!==null){var S=u.pending;S===null?m.next=m:(m.next=S.next,S.next=m),u.pending=m}v!==0&&Of(o,m,v)}}function So(t,s,o,u){Yt[is++]=t,Yt[is++]=s,Yt[is++]=o,Yt[is++]=u,Dl|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function Ul(t,s,o,u){return So(t,s,o,u),Eo(t)}function Si(t,s){return So(t,null,null,s),Eo(t)}function Of(t,s,o){t.lanes|=o;var u=t.alternate;u!==null&&(u.lanes|=o);for(var m=!1,v=t.return;v!==null;)v.childLanes|=o,u=v.alternate,u!==null&&(u.childLanes|=o),v.tag===22&&(t=v.stateNode,t===null||t._visibility&1||(m=!0)),t=v,v=v.return;return t.tag===3?(v=t.stateNode,m&&s!==null&&(m=31-Ut(o),t=v.hiddenUpdates,u=t[m],u===null?t[m]=[s]:u.push(s),s.lane=o|536870912),v):null}function Eo(t){if(50<Dr)throw Dr=0,Hu=null,Error(r(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var ss={};function lx(t,s,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(t,s,o,u){return new lx(t,s,o,u)}function Pl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _n(t,s){var o=t.alternate;return o===null?(o=Ot(t.tag,s,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=s,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&65011712,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,s=t.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o.refCleanup=t.refCleanup,o}function Lf(t,s){t.flags&=65011714;var o=t.alternate;return o===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=o.childLanes,t.lanes=o.lanes,t.child=o.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=o.memoizedProps,t.memoizedState=o.memoizedState,t.updateQueue=o.updateQueue,t.type=o.type,s=o.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function To(t,s,o,u,m,v){var S=0;if(u=t,typeof t=="function")Pl(t)&&(S=1);else if(typeof t=="string")S=hb(t,o,Z.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case K:return t=Ot(31,o,s,m),t.elementType=K,t.lanes=v,t;case N:return Ei(o.children,m,v,s);case I:S=8,m|=24;break;case P:return t=Ot(12,o,s,m|2),t.elementType=P,t.lanes=v,t;case D:return t=Ot(13,o,s,m),t.elementType=D,t.lanes=v,t;case Y:return t=Ot(19,o,s,m),t.elementType=Y,t.lanes=v,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case A:S=10;break e;case k:S=9;break e;case j:S=11;break e;case G:S=14;break e;case W:S=16,u=null;break e}S=29,o=Error(r(130,t===null?"null":typeof t,"")),u=null}return s=Ot(S,o,s,m),s.elementType=t,s.type=u,s.lanes=v,s}function Ei(t,s,o,u){return t=Ot(7,t,u,s),t.lanes=o,t}function Ol(t,s,o){return t=Ot(6,t,null,s),t.lanes=o,t}function qf(t){var s=Ot(18,null,null,0);return s.stateNode=t,s}function Ll(t,s,o){return s=Ot(4,t.children!==null?t.children:[],t.key,s),s.lanes=o,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Gf=new WeakMap;function Kt(t,s){if(typeof t=="object"&&t!==null){var o=Gf.get(t);return o!==void 0?o:(s={value:t,source:s,stack:Ld(s)},Gf.set(t,s),s)}return{value:t,source:s,stack:Ld(s)}}var rs=[],os=0,wo=null,fr=0,Qt=[],Xt=0,Hn=null,fn=1,hn="";function xn(t,s){rs[os++]=fr,rs[os++]=wo,wo=t,fr=s}function Bf(t,s,o){Qt[Xt++]=fn,Qt[Xt++]=hn,Qt[Xt++]=Hn,Hn=t;var u=fn;t=hn;var m=32-Ut(u)-1;u&=~(1<<m),o+=1;var v=32-Ut(s)+m;if(30<v){var S=m-m%5;v=(u&(1<<S)-1).toString(32),u>>=S,m-=S,fn=1<<32-Ut(s)+m|o<<m|u,hn=v+t}else fn=1<<v|o<<m|u,hn=t}function ql(t){t.return!==null&&(xn(t,1),Bf(t,1,0))}function Gl(t){for(;t===wo;)wo=rs[--os],rs[os]=null,fr=rs[--os],rs[os]=null;for(;t===Hn;)Hn=Qt[--Xt],Qt[Xt]=null,hn=Qt[--Xt],Qt[Xt]=null,fn=Qt[--Xt],Qt[Xt]=null}function jf(t,s){Qt[Xt++]=fn,Qt[Xt++]=hn,Qt[Xt++]=Hn,fn=s.id,hn=s.overflow,Hn=t}var gt=null,$e=null,Ne=!1,zn=null,Zt=!1,Bl=Error(r(519));function $n(t){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hr(Kt(s,t)),Bl}function Vf(t){var s=t.stateNode,o=t.type,u=t.memoizedProps;switch(s[mt]=t,s[wt]=u,o){case"dialog":Ee("cancel",s),Ee("close",s);break;case"iframe":case"object":case"embed":Ee("load",s);break;case"video":case"audio":for(o=0;o<Pr.length;o++)Ee(Pr[o],s);break;case"source":Ee("error",s);break;case"img":case"image":case"link":Ee("error",s),Ee("load",s);break;case"details":Ee("toggle",s);break;case"input":Ee("invalid",s),ef(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ee("invalid",s);break;case"textarea":Ee("invalid",s),nf(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||rm(s.textContent,o)?(u.popover!=null&&(Ee("beforetoggle",s),Ee("toggle",s)),u.onScroll!=null&&Ee("scroll",s),u.onScrollEnd!=null&&Ee("scrollend",s),u.onClick!=null&&(s.onclick=yn),s=!0):s=!1,s||$n(t,!0)}function Hf(t){for(gt=t.return;gt;)switch(gt.tag){case 5:case 31:case 13:Zt=!1;return;case 27:case 3:Zt=!0;return;default:gt=gt.return}}function as(t){if(t!==gt)return!1;if(!Ne)return Hf(t),Ne=!0,!1;var s=t.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=t.type,o=!(o!=="form"&&o!=="button")||sc(t.type,t.memoizedProps)),o=!o),o&&$e&&$n(t),Hf(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));$e=pm(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));$e=pm(t)}else s===27?(s=$e,ri(t.type)?(t=uc,uc=null,$e=t):$e=s):$e=gt?en(t.stateNode.nextSibling):null;return!0}function Ti(){$e=gt=null,Ne=!1}function jl(){var t=zn;return t!==null&&(Mt===null?Mt=t:Mt.push.apply(Mt,t),zn=null),t}function hr(t){zn===null?zn=[t]:zn.push(t)}var Vl=R(null),wi=null,bn=null;function Fn(t,s,o){X(Vl,s._currentValue),s._currentValue=o}function Sn(t){t._currentValue=Vl.current,H(Vl)}function Hl(t,s,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),t===o)break;t=t.return}}function zl(t,s,o,u){var m=t.child;for(m!==null&&(m.return=t);m!==null;){var v=m.dependencies;if(v!==null){var S=m.child;v=v.firstContext;e:for(;v!==null;){var T=v;v=m;for(var C=0;C<s.length;C++)if(T.context===s[C]){v.lanes|=o,T=v.alternate,T!==null&&(T.lanes|=o),Hl(v.return,o,t),u||(S=null);break e}v=T.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(r(341));S.lanes|=o,v=S.alternate,v!==null&&(v.lanes|=o),Hl(S,o,t),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===t){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function ls(t,s,o,u){t=null;for(var m=s,v=!1;m!==null;){if(!v){if((m.flags&524288)!==0)v=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var T=m.type;Pt(m.pendingProps.value,S.value)||(t!==null?t.push(T):t=[T])}}else if(m===Ae.current){if(S=m.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(t!==null?t.push(Br):t=[Br])}m=m.return}t!==null&&zl(s,t,o,u),s.flags|=262144}function Co(t){for(t=t.firstContext;t!==null;){if(!Pt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ci(t){wi=t,bn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function yt(t){return zf(wi,t)}function Ao(t,s){return wi===null&&Ci(t),zf(t,s)}function zf(t,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},bn===null){if(t===null)throw Error(r(308));bn=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else bn=bn.next=s;return o}var ux=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(o,u){t.push(u)}};this.abort=function(){s.aborted=!0,t.forEach(function(o){return o()})}},cx=n.unstable_scheduleCallback,dx=n.unstable_NormalPriority,ot={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $l(){return{controller:new ux,data:new Map,refCount:0}}function pr(t){t.refCount--,t.refCount===0&&cx(dx,function(){t.controller.abort()})}var mr=null,Fl=0,us=0,cs=null;function fx(t,s){if(mr===null){var o=mr=[];Fl=0,us=Ku(),cs={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Fl++,s.then($f,$f),s}function $f(){if(--Fl===0&&mr!==null){cs!==null&&(cs.status="fulfilled");var t=mr;mr=null,us=0,cs=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function hx(t,s){var o=[],u={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return t.then(function(){u.status="fulfilled",u.value=s;for(var m=0;m<o.length;m++)(0,o[m])(s)},function(m){for(u.status="rejected",u.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),u}var Ff=B.S;B.S=function(t,s){Rp=kt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&fx(t,s),Ff!==null&&Ff(t,s)};var Ai=R(null);function Jl(){var t=Ai.current;return t!==null?t:Ge.pooledCache}function No(t,s){s===null?X(Ai,Ai.current):X(Ai,s.pool)}function Jf(){var t=Jl();return t===null?null:{parent:ot._currentValue,pool:t}}var ds=Error(r(460)),Yl=Error(r(474)),Ro=Error(r(542)),Mo={then:function(){}};function Yf(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Kf(t,s,o){switch(o=t[o],o===void 0?t.push(s):o!==s&&(s.then(yn,yn),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Xf(t),t;default:if(typeof s.status=="string")s.then(yn,yn);else{if(t=Ge,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=s,t.status="pending",t.then(function(u){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=u}},function(u){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Xf(t),t}throw Ri=s,ds}}function Ni(t){try{var s=t._init;return s(t._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ri=o,ds):o}}var Ri=null;function Qf(){if(Ri===null)throw Error(r(459));var t=Ri;return Ri=null,t}function Xf(t){if(t===ds||t===Ro)throw Error(r(483))}var fs=null,gr=0;function Io(t){var s=gr;return gr+=1,fs===null&&(fs=[]),Kf(fs,t,s)}function yr(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function ko(t,s){throw s.$$typeof===b?Error(r(525)):(t=Object.prototype.toString.call(s),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function Zf(t){function s(U,M){if(t){var O=U.deletions;O===null?(U.deletions=[M],U.flags|=16):O.push(M)}}function o(U,M){if(!t)return null;for(;M!==null;)s(U,M),M=M.sibling;return null}function u(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function m(U,M){return U=_n(U,M),U.index=0,U.sibling=null,U}function v(U,M,O){return U.index=O,t?(O=U.alternate,O!==null?(O=O.index,O<M?(U.flags|=67108866,M):O):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function S(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,M,O,F){return M===null||M.tag!==6?(M=Ol(O,U.mode,F),M.return=U,M):(M=m(M,O),M.return=U,M)}function C(U,M,O,F){var de=O.type;return de===N?z(U,M,O.props.children,F,O.key):M!==null&&(M.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===W&&Ni(de)===M.type)?(M=m(M,O.props),yr(M,O),M.return=U,M):(M=To(O.type,O.key,O.props,null,U.mode,F),yr(M,O),M.return=U,M)}function L(U,M,O,F){return M===null||M.tag!==4||M.stateNode.containerInfo!==O.containerInfo||M.stateNode.implementation!==O.implementation?(M=Ll(O,U.mode,F),M.return=U,M):(M=m(M,O.children||[]),M.return=U,M)}function z(U,M,O,F,de){return M===null||M.tag!==7?(M=Ei(O,U.mode,F,de),M.return=U,M):(M=m(M,O),M.return=U,M)}function J(U,M,O){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Ol(""+M,U.mode,O),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case E:return O=To(M.type,M.key,M.props,null,U.mode,O),yr(O,M),O.return=U,O;case w:return M=Ll(M,U.mode,O),M.return=U,M;case W:return M=Ni(M),J(U,M,O)}if(Ve(M)||oe(M))return M=Ei(M,U.mode,O,null),M.return=U,M;if(typeof M.then=="function")return J(U,Io(M),O);if(M.$$typeof===A)return J(U,Ao(U,M),O);ko(U,M)}return null}function q(U,M,O,F){var de=M!==null?M.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return de!==null?null:T(U,M,""+O,F);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case E:return O.key===de?C(U,M,O,F):null;case w:return O.key===de?L(U,M,O,F):null;case W:return O=Ni(O),q(U,M,O,F)}if(Ve(O)||oe(O))return de!==null?null:z(U,M,O,F,null);if(typeof O.then=="function")return q(U,M,Io(O),F);if(O.$$typeof===A)return q(U,M,Ao(U,O),F);ko(U,O)}return null}function V(U,M,O,F,de){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return U=U.get(O)||null,T(M,U,""+F,de);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case E:return U=U.get(F.key===null?O:F.key)||null,C(M,U,F,de);case w:return U=U.get(F.key===null?O:F.key)||null,L(M,U,F,de);case W:return F=Ni(F),V(U,M,O,F,de)}if(Ve(F)||oe(F))return U=U.get(O)||null,z(M,U,F,de,null);if(typeof F.then=="function")return V(U,M,O,Io(F),de);if(F.$$typeof===A)return V(U,M,O,Ao(M,F),de);ko(M,F)}return null}function ne(U,M,O,F){for(var de=null,Re=null,ae=M,xe=M=0,Ce=null;ae!==null&&xe<O.length;xe++){ae.index>xe?(Ce=ae,ae=null):Ce=ae.sibling;var Me=q(U,ae,O[xe],F);if(Me===null){ae===null&&(ae=Ce);break}t&&ae&&Me.alternate===null&&s(U,ae),M=v(Me,M,xe),Re===null?de=Me:Re.sibling=Me,Re=Me,ae=Ce}if(xe===O.length)return o(U,ae),Ne&&xn(U,xe),de;if(ae===null){for(;xe<O.length;xe++)ae=J(U,O[xe],F),ae!==null&&(M=v(ae,M,xe),Re===null?de=ae:Re.sibling=ae,Re=ae);return Ne&&xn(U,xe),de}for(ae=u(ae);xe<O.length;xe++)Ce=V(ae,U,xe,O[xe],F),Ce!==null&&(t&&Ce.alternate!==null&&ae.delete(Ce.key===null?xe:Ce.key),M=v(Ce,M,xe),Re===null?de=Ce:Re.sibling=Ce,Re=Ce);return t&&ae.forEach(function(ci){return s(U,ci)}),Ne&&xn(U,xe),de}function fe(U,M,O,F){if(O==null)throw Error(r(151));for(var de=null,Re=null,ae=M,xe=M=0,Ce=null,Me=O.next();ae!==null&&!Me.done;xe++,Me=O.next()){ae.index>xe?(Ce=ae,ae=null):Ce=ae.sibling;var ci=q(U,ae,Me.value,F);if(ci===null){ae===null&&(ae=Ce);break}t&&ae&&ci.alternate===null&&s(U,ae),M=v(ci,M,xe),Re===null?de=ci:Re.sibling=ci,Re=ci,ae=Ce}if(Me.done)return o(U,ae),Ne&&xn(U,xe),de;if(ae===null){for(;!Me.done;xe++,Me=O.next())Me=J(U,Me.value,F),Me!==null&&(M=v(Me,M,xe),Re===null?de=Me:Re.sibling=Me,Re=Me);return Ne&&xn(U,xe),de}for(ae=u(ae);!Me.done;xe++,Me=O.next())Me=V(ae,U,xe,Me.value,F),Me!==null&&(t&&Me.alternate!==null&&ae.delete(Me.key===null?xe:Me.key),M=v(Me,M,xe),Re===null?de=Me:Re.sibling=Me,Re=Me);return t&&ae.forEach(function(Tb){return s(U,Tb)}),Ne&&xn(U,xe),de}function qe(U,M,O,F){if(typeof O=="object"&&O!==null&&O.type===N&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case E:e:{for(var de=O.key;M!==null;){if(M.key===de){if(de=O.type,de===N){if(M.tag===7){o(U,M.sibling),F=m(M,O.props.children),F.return=U,U=F;break e}}else if(M.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===W&&Ni(de)===M.type){o(U,M.sibling),F=m(M,O.props),yr(F,O),F.return=U,U=F;break e}o(U,M);break}else s(U,M);M=M.sibling}O.type===N?(F=Ei(O.props.children,U.mode,F,O.key),F.return=U,U=F):(F=To(O.type,O.key,O.props,null,U.mode,F),yr(F,O),F.return=U,U=F)}return S(U);case w:e:{for(de=O.key;M!==null;){if(M.key===de)if(M.tag===4&&M.stateNode.containerInfo===O.containerInfo&&M.stateNode.implementation===O.implementation){o(U,M.sibling),F=m(M,O.children||[]),F.return=U,U=F;break e}else{o(U,M);break}else s(U,M);M=M.sibling}F=Ll(O,U.mode,F),F.return=U,U=F}return S(U);case W:return O=Ni(O),qe(U,M,O,F)}if(Ve(O))return ne(U,M,O,F);if(oe(O)){if(de=oe(O),typeof de!="function")throw Error(r(150));return O=de.call(O),fe(U,M,O,F)}if(typeof O.then=="function")return qe(U,M,Io(O),F);if(O.$$typeof===A)return qe(U,M,Ao(U,O),F);ko(U,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,M!==null&&M.tag===6?(o(U,M.sibling),F=m(M,O),F.return=U,U=F):(o(U,M),F=Ol(O,U.mode,F),F.return=U,U=F),S(U)):o(U,M)}return function(U,M,O,F){try{gr=0;var de=qe(U,M,O,F);return fs=null,de}catch(ae){if(ae===ds||ae===Ro)throw ae;var Re=Ot(29,ae,null,U.mode);return Re.lanes=F,Re.return=U,Re}finally{}}}var Mi=Zf(!0),Wf=Zf(!1),Jn=!1;function Kl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ql(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Yn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Kn(t,s,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(ke&2)!==0){var m=u.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),u.pending=s,s=Eo(t),Of(t,null,o),s}return So(t,u,s,o),Eo(t)}function vr(t,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=t.pendingLanes,o|=u,s.lanes=o,Hd(t,o)}}function Xl(t,s){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var m=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};v===null?m=v=S:v=v.next=S,o=o.next}while(o!==null);v===null?m=v=s:v=v.next=s}else m=v=s;o={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:u.shared,callbacks:u.callbacks},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=s:t.next=s,o.lastBaseUpdate=s}var Zl=!1;function _r(){if(Zl){var t=cs;if(t!==null)throw t}}function xr(t,s,o,u){Zl=!1;var m=t.updateQueue;Jn=!1;var v=m.firstBaseUpdate,S=m.lastBaseUpdate,T=m.shared.pending;if(T!==null){m.shared.pending=null;var C=T,L=C.next;C.next=null,S===null?v=L:S.next=L,S=C;var z=t.alternate;z!==null&&(z=z.updateQueue,T=z.lastBaseUpdate,T!==S&&(T===null?z.firstBaseUpdate=L:T.next=L,z.lastBaseUpdate=C))}if(v!==null){var J=m.baseState;S=0,z=L=C=null,T=v;do{var q=T.lane&-536870913,V=q!==T.lane;if(V?(we&q)===q:(u&q)===q){q!==0&&q===us&&(Zl=!0),z!==null&&(z=z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ne=t,fe=T;q=s;var qe=o;switch(fe.tag){case 1:if(ne=fe.payload,typeof ne=="function"){J=ne.call(qe,J,q);break e}J=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=fe.payload,q=typeof ne=="function"?ne.call(qe,J,q):ne,q==null)break e;J=x({},J,q);break e;case 2:Jn=!0}}q=T.callback,q!==null&&(t.flags|=64,V&&(t.flags|=8192),V=m.callbacks,V===null?m.callbacks=[q]:V.push(q))}else V={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},z===null?(L=z=V,C=J):z=z.next=V,S|=q;if(T=T.next,T===null){if(T=m.shared.pending,T===null)break;V=T,T=V.next,V.next=null,m.lastBaseUpdate=V,m.shared.pending=null}}while(!0);z===null&&(C=J),m.baseState=C,m.firstBaseUpdate=L,m.lastBaseUpdate=z,v===null&&(m.shared.lanes=0),ei|=S,t.lanes=S,t.memoizedState=J}}function eh(t,s){if(typeof t!="function")throw Error(r(191,t));t.call(s)}function th(t,s){var o=t.callbacks;if(o!==null)for(t.callbacks=null,t=0;t<o.length;t++)eh(o[t],s)}var hs=R(null),Do=R(0);function nh(t,s){t=In,X(Do,t),X(hs,s),In=t|s.baseLanes}function Wl(){X(Do,In),X(hs,hs.current)}function eu(){In=Do.current,H(hs),H(Do)}var Lt=R(null),Wt=null;function Qn(t){var s=t.alternate;X(nt,nt.current&1),X(Lt,t),Wt===null&&(s===null||hs.current!==null||s.memoizedState!==null)&&(Wt=t)}function tu(t){X(nt,nt.current),X(Lt,t),Wt===null&&(Wt=t)}function ih(t){t.tag===22?(X(nt,nt.current),X(Lt,t),Wt===null&&(Wt=t)):Xn()}function Xn(){X(nt,nt.current),X(Lt,Lt.current)}function qt(t){H(Lt),Wt===t&&(Wt=null),H(nt)}var nt=R(0);function Uo(t){for(var s=t;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||ac(o)||lc(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var En=0,ye=null,Oe=null,at=null,Po=!1,ps=!1,Ii=!1,Oo=0,br=0,ms=null,px=0;function Ze(){throw Error(r(321))}function nu(t,s){if(s===null)return!1;for(var o=0;o<s.length&&o<t.length;o++)if(!Pt(t[o],s[o]))return!1;return!0}function iu(t,s,o,u,m,v){return En=v,ye=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,B.H=t===null||t.memoizedState===null?Bh:vu,Ii=!1,v=o(u,m),Ii=!1,ps&&(v=rh(s,o,u,m)),sh(t),v}function sh(t){B.H=Tr;var s=Oe!==null&&Oe.next!==null;if(En=0,at=Oe=ye=null,Po=!1,br=0,ms=null,s)throw Error(r(300));t===null||lt||(t=t.dependencies,t!==null&&Co(t)&&(lt=!0))}function rh(t,s,o,u){ye=t;var m=0;do{if(ps&&(ms=null),br=0,ps=!1,25<=m)throw Error(r(301));if(m+=1,at=Oe=null,t.updateQueue!=null){var v=t.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}B.H=jh,v=s(o,u)}while(ps);return v}function mx(){var t=B.H,s=t.useState()[0];return s=typeof s.then=="function"?Sr(s):s,t=t.useState()[0],(Oe!==null?Oe.memoizedState:null)!==t&&(ye.flags|=1024),s}function su(){var t=Oo!==0;return Oo=0,t}function ru(t,s,o){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~o}function ou(t){if(Po){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Po=!1}En=0,at=Oe=ye=null,ps=!1,br=Oo=0,ms=null}function Tt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?ye.memoizedState=at=t:at=at.next=t,at}function it(){if(Oe===null){var t=ye.alternate;t=t!==null?t.memoizedState:null}else t=Oe.next;var s=at===null?ye.memoizedState:at.next;if(s!==null)at=s,Oe=t;else{if(t===null)throw ye.alternate===null?Error(r(467)):Error(r(310));Oe=t,t={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},at===null?ye.memoizedState=at=t:at=at.next=t}return at}function Lo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sr(t){var s=br;return br+=1,ms===null&&(ms=[]),t=Kf(ms,t,s),s=ye,(at===null?s.memoizedState:at.next)===null&&(s=s.alternate,B.H=s===null||s.memoizedState===null?Bh:vu),t}function qo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Sr(t);if(t.$$typeof===A)return yt(t)}throw Error(r(438,String(t)))}function au(t){var s=null,o=ye.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=ye.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Lo(),ye.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(t),u=0;u<t;u++)o[u]=te;return s.index++,o}function Tn(t,s){return typeof s=="function"?s(t):s}function Go(t){var s=it();return lu(s,Oe,t)}function lu(t,s,o){var u=t.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var m=t.baseQueue,v=u.pending;if(v!==null){if(m!==null){var S=m.next;m.next=v.next,v.next=S}s.baseQueue=m=v,u.pending=null}if(v=t.baseState,m===null)t.memoizedState=v;else{s=m.next;var T=S=null,C=null,L=s,z=!1;do{var J=L.lane&-536870913;if(J!==L.lane?(we&J)===J:(En&J)===J){var q=L.revertLane;if(q===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),J===us&&(z=!0);else if((En&q)===q){L=L.next,q===us&&(z=!0);continue}else J={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},C===null?(T=C=J,S=v):C=C.next=J,ye.lanes|=q,ei|=q;J=L.action,Ii&&o(v,J),v=L.hasEagerState?L.eagerState:o(v,J)}else q={lane:J,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},C===null?(T=C=q,S=v):C=C.next=q,ye.lanes|=J,ei|=J;L=L.next}while(L!==null&&L!==s);if(C===null?S=v:C.next=T,!Pt(v,t.memoizedState)&&(lt=!0,z&&(o=cs,o!==null)))throw o;t.memoizedState=v,t.baseState=S,t.baseQueue=C,u.lastRenderedState=v}return m===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function uu(t){var s=it(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=t;var u=o.dispatch,m=o.pending,v=s.memoizedState;if(m!==null){o.pending=null;var S=m=m.next;do v=t(v,S.action),S=S.next;while(S!==m);Pt(v,s.memoizedState)||(lt=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),o.lastRenderedState=v}return[v,u]}function oh(t,s,o){var u=ye,m=it(),v=Ne;if(v){if(o===void 0)throw Error(r(407));o=o()}else o=s();var S=!Pt((Oe||m).memoizedState,o);if(S&&(m.memoizedState=o,lt=!0),m=m.queue,fu(uh.bind(null,u,m,t),[t]),m.getSnapshot!==s||S||at!==null&&at.memoizedState.tag&1){if(u.flags|=2048,gs(9,{destroy:void 0},lh.bind(null,u,m,o,s),null),Ge===null)throw Error(r(349));v||(En&127)!==0||ah(u,s,o)}return o}function ah(t,s,o){t.flags|=16384,t={getSnapshot:s,value:o},s=ye.updateQueue,s===null?(s=Lo(),ye.updateQueue=s,s.stores=[t]):(o=s.stores,o===null?s.stores=[t]:o.push(t))}function lh(t,s,o,u){s.value=o,s.getSnapshot=u,ch(s)&&dh(t)}function uh(t,s,o){return o(function(){ch(s)&&dh(t)})}function ch(t){var s=t.getSnapshot;t=t.value;try{var o=s();return!Pt(t,o)}catch{return!0}}function dh(t){var s=Si(t,2);s!==null&&It(s,t,2)}function cu(t){var s=Tt();if(typeof t=="function"){var o=t;if(t=o(),Ii){Bn(!0);try{o()}finally{Bn(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:t},s}function fh(t,s,o,u){return t.baseState=o,lu(t,Oe,typeof u=="function"?u:Tn)}function gx(t,s,o,u,m){if(Vo(t))throw Error(r(485));if(t=s.action,t!==null){var v={payload:m,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){v.listeners.push(S)}};B.T!==null?o(!0):v.isTransition=!1,u(v),o=s.pending,o===null?(v.next=s.pending=v,hh(s,v)):(v.next=o.next,s.pending=o.next=v)}}function hh(t,s){var o=s.action,u=s.payload,m=t.state;if(s.isTransition){var v=B.T,S={};B.T=S;try{var T=o(m,u),C=B.S;C!==null&&C(S,T),ph(t,s,T)}catch(L){du(t,s,L)}finally{v!==null&&S.types!==null&&(v.types=S.types),B.T=v}}else try{v=o(m,u),ph(t,s,v)}catch(L){du(t,s,L)}}function ph(t,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){mh(t,s,u)},function(u){return du(t,s,u)}):mh(t,s,o)}function mh(t,s,o){s.status="fulfilled",s.value=o,gh(s),t.state=o,s=t.pending,s!==null&&(o=s.next,o===s?t.pending=null:(o=o.next,s.next=o,hh(t,o)))}function du(t,s,o){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,gh(s),s=s.next;while(s!==u)}t.action=null}function gh(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function yh(t,s){return s}function vh(t,s){if(Ne){var o=Ge.formState;if(o!==null){e:{var u=ye;if(Ne){if($e){t:{for(var m=$e,v=Zt;m.nodeType!==8;){if(!v){m=null;break t}if(m=en(m.nextSibling),m===null){m=null;break t}}v=m.data,m=v==="F!"||v==="F"?m:null}if(m){$e=en(m.nextSibling),u=m.data==="F!";break e}}$n(u)}u=!1}u&&(s=o[0])}}return o=Tt(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yh,lastRenderedState:s},o.queue=u,o=Lh.bind(null,ye,u),u.dispatch=o,u=cu(!1),v=yu.bind(null,ye,!1,u.queue),u=Tt(),m={state:s,dispatch:null,action:t,pending:null},u.queue=m,o=gx.bind(null,ye,m,v,o),m.dispatch=o,u.memoizedState=t,[s,o,!1]}function _h(t){var s=it();return xh(s,Oe,t)}function xh(t,s,o){if(s=lu(t,s,yh)[0],t=Go(Tn)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Sr(s)}catch(S){throw S===ds?Ro:S}else u=s;s=it();var m=s.queue,v=m.dispatch;return o!==s.memoizedState&&(ye.flags|=2048,gs(9,{destroy:void 0},yx.bind(null,m,o),null)),[u,v,t]}function yx(t,s){t.action=s}function bh(t){var s=it(),o=Oe;if(o!==null)return xh(s,o,t);it(),s=s.memoizedState,o=it();var u=o.queue.dispatch;return o.memoizedState=t,[s,u,!1]}function gs(t,s,o,u){return t={tag:t,create:o,deps:u,inst:s,next:null},s=ye.updateQueue,s===null&&(s=Lo(),ye.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,s.lastEffect=t),t}function Sh(){return it().memoizedState}function Bo(t,s,o,u){var m=Tt();ye.flags|=t,m.memoizedState=gs(1|s,{destroy:void 0},o,u===void 0?null:u)}function jo(t,s,o,u){var m=it();u=u===void 0?null:u;var v=m.memoizedState.inst;Oe!==null&&u!==null&&nu(u,Oe.memoizedState.deps)?m.memoizedState=gs(s,v,o,u):(ye.flags|=t,m.memoizedState=gs(1|s,v,o,u))}function Eh(t,s){Bo(8390656,8,t,s)}function fu(t,s){jo(2048,8,t,s)}function vx(t){ye.flags|=4;var s=ye.updateQueue;if(s===null)s=Lo(),ye.updateQueue=s,s.events=[t];else{var o=s.events;o===null?s.events=[t]:o.push(t)}}function Th(t){var s=it().memoizedState;return vx({ref:s,nextImpl:t}),function(){if((ke&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function wh(t,s){return jo(4,2,t,s)}function Ch(t,s){return jo(4,4,t,s)}function Ah(t,s){if(typeof s=="function"){t=t();var o=s(t);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Nh(t,s,o){o=o!=null?o.concat([t]):null,jo(4,4,Ah.bind(null,s,t),o)}function hu(){}function Rh(t,s){var o=it();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&nu(s,u[1])?u[0]:(o.memoizedState=[t,s],t)}function Mh(t,s){var o=it();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&nu(s,u[1]))return u[0];if(u=t(),Ii){Bn(!0);try{t()}finally{Bn(!1)}}return o.memoizedState=[u,s],u}function pu(t,s,o){return o===void 0||(En&1073741824)!==0&&(we&261930)===0?t.memoizedState=s:(t.memoizedState=o,t=Ip(),ye.lanes|=t,ei|=t,o)}function Ih(t,s,o,u){return Pt(o,s)?o:hs.current!==null?(t=pu(t,o,u),Pt(t,s)||(lt=!0),t):(En&42)===0||(En&1073741824)!==0&&(we&261930)===0?(lt=!0,t.memoizedState=o):(t=Ip(),ye.lanes|=t,ei|=t,s)}function kh(t,s,o,u,m){var v=Q.p;Q.p=v!==0&&8>v?v:8;var S=B.T,T={};B.T=T,yu(t,!1,s,o);try{var C=m(),L=B.S;if(L!==null&&L(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var z=hx(C,u);Er(t,s,z,jt(t))}else Er(t,s,u,jt(t))}catch(J){Er(t,s,{then:function(){},status:"rejected",reason:J},jt())}finally{Q.p=v,S!==null&&T.types!==null&&(S.types=T.types),B.T=S}}function _x(){}function mu(t,s,o,u){if(t.tag!==5)throw Error(r(476));var m=Dh(t).queue;kh(t,m,s,se,o===null?_x:function(){return Uh(t),o(u)})}function Dh(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:se},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:o},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Uh(t){var s=Dh(t);s.next===null&&(s=t.alternate.memoizedState),Er(t,s.next.queue,{},jt())}function gu(){return yt(Br)}function Ph(){return it().memoizedState}function Oh(){return it().memoizedState}function xx(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var o=jt();t=Yn(o);var u=Kn(s,t,o);u!==null&&(It(u,s,o),vr(u,s,o)),s={cache:$l()},t.payload=s;return}s=s.return}}function bx(t,s,o){var u=jt();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Vo(t)?qh(s,o):(o=Ul(t,s,o,u),o!==null&&(It(o,t,u),Gh(o,s,u)))}function Lh(t,s,o){var u=jt();Er(t,s,o,u)}function Er(t,s,o,u){var m={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Vo(t))qh(s,m);else{var v=t.alternate;if(t.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var S=s.lastRenderedState,T=v(S,o);if(m.hasEagerState=!0,m.eagerState=T,Pt(T,S))return So(t,s,m,0),Ge===null&&bo(),!1}catch{}finally{}if(o=Ul(t,s,m,u),o!==null)return It(o,t,u),Gh(o,s,u),!0}return!1}function yu(t,s,o,u){if(u={lane:2,revertLane:Ku(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Vo(t)){if(s)throw Error(r(479))}else s=Ul(t,o,u,2),s!==null&&It(s,t,2)}function Vo(t){var s=t.alternate;return t===ye||s!==null&&s===ye}function qh(t,s){ps=Po=!0;var o=t.pending;o===null?s.next=s:(s.next=o.next,o.next=s),t.pending=s}function Gh(t,s,o){if((o&4194048)!==0){var u=s.lanes;u&=t.pendingLanes,o|=u,s.lanes=o,Hd(t,o)}}var Tr={readContext:yt,use:qo,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze,useHostTransitionStatus:Ze,useFormState:Ze,useActionState:Ze,useOptimistic:Ze,useMemoCache:Ze,useCacheRefresh:Ze};Tr.useEffectEvent=Ze;var Bh={readContext:yt,use:qo,useCallback:function(t,s){return Tt().memoizedState=[t,s===void 0?null:s],t},useContext:yt,useEffect:Eh,useImperativeHandle:function(t,s,o){o=o!=null?o.concat([t]):null,Bo(4194308,4,Ah.bind(null,s,t),o)},useLayoutEffect:function(t,s){return Bo(4194308,4,t,s)},useInsertionEffect:function(t,s){Bo(4,2,t,s)},useMemo:function(t,s){var o=Tt();s=s===void 0?null:s;var u=t();if(Ii){Bn(!0);try{t()}finally{Bn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(t,s,o){var u=Tt();if(o!==void 0){var m=o(s);if(Ii){Bn(!0);try{o(s)}finally{Bn(!1)}}}else m=s;return u.memoizedState=u.baseState=m,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:m},u.queue=t,t=t.dispatch=bx.bind(null,ye,t),[u.memoizedState,t]},useRef:function(t){var s=Tt();return t={current:t},s.memoizedState=t},useState:function(t){t=cu(t);var s=t.queue,o=Lh.bind(null,ye,s);return s.dispatch=o,[t.memoizedState,o]},useDebugValue:hu,useDeferredValue:function(t,s){var o=Tt();return pu(o,t,s)},useTransition:function(){var t=cu(!1);return t=kh.bind(null,ye,t.queue,!0,!1),Tt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,o){var u=ye,m=Tt();if(Ne){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),Ge===null)throw Error(r(349));(we&127)!==0||ah(u,s,o)}m.memoizedState=o;var v={value:o,getSnapshot:s};return m.queue=v,Eh(uh.bind(null,u,v,t),[t]),u.flags|=2048,gs(9,{destroy:void 0},lh.bind(null,u,v,o,s),null),o},useId:function(){var t=Tt(),s=Ge.identifierPrefix;if(Ne){var o=hn,u=fn;o=(u&~(1<<32-Ut(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=Oo++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=px++,s="_"+s+"r_"+o.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:gu,useFormState:vh,useActionState:vh,useOptimistic:function(t){var s=Tt();s.memoizedState=s.baseState=t;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=yu.bind(null,ye,!0,o),o.dispatch=s,[t,s]},useMemoCache:au,useCacheRefresh:function(){return Tt().memoizedState=xx.bind(null,ye)},useEffectEvent:function(t){var s=Tt(),o={impl:t};return s.memoizedState=o,function(){if((ke&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},vu={readContext:yt,use:qo,useCallback:Rh,useContext:yt,useEffect:fu,useImperativeHandle:Nh,useInsertionEffect:wh,useLayoutEffect:Ch,useMemo:Mh,useReducer:Go,useRef:Sh,useState:function(){return Go(Tn)},useDebugValue:hu,useDeferredValue:function(t,s){var o=it();return Ih(o,Oe.memoizedState,t,s)},useTransition:function(){var t=Go(Tn)[0],s=it().memoizedState;return[typeof t=="boolean"?t:Sr(t),s]},useSyncExternalStore:oh,useId:Ph,useHostTransitionStatus:gu,useFormState:_h,useActionState:_h,useOptimistic:function(t,s){var o=it();return fh(o,Oe,t,s)},useMemoCache:au,useCacheRefresh:Oh};vu.useEffectEvent=Th;var jh={readContext:yt,use:qo,useCallback:Rh,useContext:yt,useEffect:fu,useImperativeHandle:Nh,useInsertionEffect:wh,useLayoutEffect:Ch,useMemo:Mh,useReducer:uu,useRef:Sh,useState:function(){return uu(Tn)},useDebugValue:hu,useDeferredValue:function(t,s){var o=it();return Oe===null?pu(o,t,s):Ih(o,Oe.memoizedState,t,s)},useTransition:function(){var t=uu(Tn)[0],s=it().memoizedState;return[typeof t=="boolean"?t:Sr(t),s]},useSyncExternalStore:oh,useId:Ph,useHostTransitionStatus:gu,useFormState:bh,useActionState:bh,useOptimistic:function(t,s){var o=it();return Oe!==null?fh(o,Oe,t,s):(o.baseState=t,[t,o.queue.dispatch])},useMemoCache:au,useCacheRefresh:Oh};jh.useEffectEvent=Th;function _u(t,s,o,u){s=t.memoizedState,o=o(u,s),o=o==null?s:x({},s,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var xu={enqueueSetState:function(t,s,o){t=t._reactInternals;var u=jt(),m=Yn(u);m.payload=s,o!=null&&(m.callback=o),s=Kn(t,m,u),s!==null&&(It(s,t,u),vr(s,t,u))},enqueueReplaceState:function(t,s,o){t=t._reactInternals;var u=jt(),m=Yn(u);m.tag=1,m.payload=s,o!=null&&(m.callback=o),s=Kn(t,m,u),s!==null&&(It(s,t,u),vr(s,t,u))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var o=jt(),u=Yn(o);u.tag=2,s!=null&&(u.callback=s),s=Kn(t,u,o),s!==null&&(It(s,t,o),vr(s,t,o))}};function Vh(t,s,o,u,m,v,S){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,v,S):s.prototype&&s.prototype.isPureReactComponent?!cr(o,u)||!cr(m,v):!0}function Hh(t,s,o,u){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==t&&xu.enqueueReplaceState(s,s.state,null)}function ki(t,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(t=t.defaultProps){o===s&&(o=x({},o));for(var m in t)o[m]===void 0&&(o[m]=t[m])}return o}function zh(t){xo(t)}function $h(t){console.error(t)}function Fh(t){xo(t)}function Ho(t,s){try{var o=t.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function Jh(t,s,o){try{var u=t.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function bu(t,s,o){return o=Yn(o),o.tag=3,o.payload={element:null},o.callback=function(){Ho(t,s)},o}function Yh(t){return t=Yn(t),t.tag=3,t}function Kh(t,s,o,u){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var v=u.value;t.payload=function(){return m(v)},t.callback=function(){Jh(s,o,u)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(t.callback=function(){Jh(s,o,u),typeof m!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var T=u.stack;this.componentDidCatch(u.value,{componentStack:T!==null?T:""})})}function Sx(t,s,o,u,m){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&ls(s,o,m,!0),o=Lt.current,o!==null){switch(o.tag){case 31:case 13:return Wt===null?ta():o.alternate===null&&We===0&&(We=3),o.flags&=-257,o.flags|=65536,o.lanes=m,u===Mo?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Fu(t,u,m)),!1;case 22:return o.flags|=65536,u===Mo?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Fu(t,u,m)),!1}throw Error(r(435,o.tag))}return Fu(t,u,m),ta(),!1}if(Ne)return s=Lt.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,u!==Bl&&(t=Error(r(422),{cause:u}),hr(Kt(t,o)))):(u!==Bl&&(s=Error(r(423),{cause:u}),hr(Kt(s,o))),t=t.current.alternate,t.flags|=65536,m&=-m,t.lanes|=m,u=Kt(u,o),m=bu(t.stateNode,u,m),Xl(t,m),We!==4&&(We=2)),!1;var v=Error(r(520),{cause:u});if(v=Kt(v,o),kr===null?kr=[v]:kr.push(v),We!==4&&(We=2),s===null)return!0;u=Kt(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,t=m&-m,o.lanes|=t,t=bu(o.stateNode,u,t),Xl(o,t),!1;case 1:if(s=o.type,v=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ti===null||!ti.has(v))))return o.flags|=65536,m&=-m,o.lanes|=m,m=Yh(m),Kh(m,t,o,u),Xl(o,m),!1}o=o.return}while(o!==null);return!1}var Su=Error(r(461)),lt=!1;function vt(t,s,o,u){s.child=t===null?Wf(s,null,o,u):Mi(s,t.child,o,u)}function Qh(t,s,o,u,m){o=o.render;var v=s.ref;if("ref"in u){var S={};for(var T in u)T!=="ref"&&(S[T]=u[T])}else S=u;return Ci(s),u=iu(t,s,o,S,v,m),T=su(),t!==null&&!lt?(ru(t,s,m),wn(t,s,m)):(Ne&&T&&ql(s),s.flags|=1,vt(t,s,u,m),s.child)}function Xh(t,s,o,u,m){if(t===null){var v=o.type;return typeof v=="function"&&!Pl(v)&&v.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=v,Zh(t,s,v,u,m)):(t=To(o.type,null,u,s,s.mode,m),t.ref=s.ref,t.return=s,s.child=t)}if(v=t.child,!Mu(t,m)){var S=v.memoizedProps;if(o=o.compare,o=o!==null?o:cr,o(S,u)&&t.ref===s.ref)return wn(t,s,m)}return s.flags|=1,t=_n(v,u),t.ref=s.ref,t.return=s,s.child=t}function Zh(t,s,o,u,m){if(t!==null){var v=t.memoizedProps;if(cr(v,u)&&t.ref===s.ref)if(lt=!1,s.pendingProps=u=v,Mu(t,m))(t.flags&131072)!==0&&(lt=!0);else return s.lanes=t.lanes,wn(t,s,m)}return Eu(t,s,o,u,m)}function Wh(t,s,o,u){var m=u.children,v=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(v=v!==null?v.baseLanes|o:o,t!==null){for(u=s.child=t.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~v}else u=0,s.child=null;return ep(t,s,v,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&No(s,v!==null?v.cachePool:null),v!==null?nh(s,v):Wl(),ih(s);else return u=s.lanes=536870912,ep(t,s,v!==null?v.baseLanes|o:o,o,u)}else v!==null?(No(s,v.cachePool),nh(s,v),Xn(),s.memoizedState=null):(t!==null&&No(s,null),Wl(),Xn());return vt(t,s,m,o),s.child}function wr(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function ep(t,s,o,u,m){var v=Jl();return v=v===null?null:{parent:ot._currentValue,pool:v},s.memoizedState={baseLanes:o,cachePool:v},t!==null&&No(s,null),Wl(),ih(s),t!==null&&ls(t,s,u,!0),s.childLanes=m,null}function zo(t,s){return s=Fo({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function tp(t,s,o){return Mi(s,t.child,null,o),t=zo(s,s.pendingProps),t.flags|=2,qt(s),s.memoizedState=null,t}function Ex(t,s,o){var u=s.pendingProps,m=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(Ne){if(u.mode==="hidden")return t=zo(s,u),s.lanes=536870912,wr(null,t);if(tu(s),(t=$e)?(t=hm(t,Zt),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Hn!==null?{id:fn,overflow:hn}:null,retryLane:536870912,hydrationErrors:null},o=qf(t),o.return=s,s.child=o,gt=s,$e=null)):t=null,t===null)throw $n(s);return s.lanes=536870912,null}return zo(s,u)}var v=t.memoizedState;if(v!==null){var S=v.dehydrated;if(tu(s),m)if(s.flags&256)s.flags&=-257,s=tp(t,s,o);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(r(558));else if(lt||ls(t,s,o,!1),m=(o&t.childLanes)!==0,lt||m){if(u=Ge,u!==null&&(S=zd(u,o),S!==0&&S!==v.retryLane))throw v.retryLane=S,Si(t,S),It(u,t,S),Su;ta(),s=tp(t,s,o)}else t=v.treeContext,$e=en(S.nextSibling),gt=s,Ne=!0,zn=null,Zt=!1,t!==null&&jf(s,t),s=zo(s,u),s.flags|=4096;return s}return t=_n(t.child,{mode:u.mode,children:u.children}),t.ref=s.ref,s.child=t,t.return=s,t}function $o(t,s){var o=s.ref;if(o===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(t===null||t.ref!==o)&&(s.flags|=4194816)}}function Eu(t,s,o,u,m){return Ci(s),o=iu(t,s,o,u,void 0,m),u=su(),t!==null&&!lt?(ru(t,s,m),wn(t,s,m)):(Ne&&u&&ql(s),s.flags|=1,vt(t,s,o,m),s.child)}function np(t,s,o,u,m,v){return Ci(s),s.updateQueue=null,o=rh(s,u,o,m),sh(t),u=su(),t!==null&&!lt?(ru(t,s,v),wn(t,s,v)):(Ne&&u&&ql(s),s.flags|=1,vt(t,s,o,v),s.child)}function ip(t,s,o,u,m){if(Ci(s),s.stateNode===null){var v=ss,S=o.contextType;typeof S=="object"&&S!==null&&(v=yt(S)),v=new o(u,v),s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=xu,s.stateNode=v,v._reactInternals=s,v=s.stateNode,v.props=u,v.state=s.memoizedState,v.refs={},Kl(s),S=o.contextType,v.context=typeof S=="object"&&S!==null?yt(S):ss,v.state=s.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(_u(s,o,S,u),v.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(S=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),S!==v.state&&xu.enqueueReplaceState(v,v.state,null),xr(s,u,v,m),_r(),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(t===null){v=s.stateNode;var T=s.memoizedProps,C=ki(o,T);v.props=C;var L=v.context,z=o.contextType;S=ss,typeof z=="object"&&z!==null&&(S=yt(z));var J=o.getDerivedStateFromProps;z=typeof J=="function"||typeof v.getSnapshotBeforeUpdate=="function",T=s.pendingProps!==T,z||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(T||L!==S)&&Hh(s,v,u,S),Jn=!1;var q=s.memoizedState;v.state=q,xr(s,u,v,m),_r(),L=s.memoizedState,T||q!==L||Jn?(typeof J=="function"&&(_u(s,o,J,u),L=s.memoizedState),(C=Jn||Vh(s,o,C,u,q,L,S))?(z||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=L),v.props=u,v.state=L,v.context=S,u=C):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{v=s.stateNode,Ql(t,s),S=s.memoizedProps,z=ki(o,S),v.props=z,J=s.pendingProps,q=v.context,L=o.contextType,C=ss,typeof L=="object"&&L!==null&&(C=yt(L)),T=o.getDerivedStateFromProps,(L=typeof T=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==J||q!==C)&&Hh(s,v,u,C),Jn=!1,q=s.memoizedState,v.state=q,xr(s,u,v,m),_r();var V=s.memoizedState;S!==J||q!==V||Jn||t!==null&&t.dependencies!==null&&Co(t.dependencies)?(typeof T=="function"&&(_u(s,o,T,u),V=s.memoizedState),(z=Jn||Vh(s,o,z,u,q,V,C)||t!==null&&t.dependencies!==null&&Co(t.dependencies))?(L||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,V,C),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,V,C)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||S===t.memoizedProps&&q===t.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&q===t.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=V),v.props=u,v.state=V,v.context=C,u=z):(typeof v.componentDidUpdate!="function"||S===t.memoizedProps&&q===t.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&q===t.memoizedState||(s.flags|=1024),u=!1)}return v=u,$o(t,s),u=(s.flags&128)!==0,v||u?(v=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:v.render(),s.flags|=1,t!==null&&u?(s.child=Mi(s,t.child,null,m),s.child=Mi(s,null,o,m)):vt(t,s,o,m),s.memoizedState=v.state,t=s.child):t=wn(t,s,m),t}function sp(t,s,o,u){return Ti(),s.flags|=256,vt(t,s,o,u),s.child}var Tu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wu(t){return{baseLanes:t,cachePool:Jf()}}function Cu(t,s,o){return t=t!==null?t.childLanes&~o:0,s&&(t|=Bt),t}function rp(t,s,o){var u=s.pendingProps,m=!1,v=(s.flags&128)!==0,S;if((S=v)||(S=t!==null&&t.memoizedState===null?!1:(nt.current&2)!==0),S&&(m=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,t===null){if(Ne){if(m?Qn(s):Xn(),(t=$e)?(t=hm(t,Zt),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Hn!==null?{id:fn,overflow:hn}:null,retryLane:536870912,hydrationErrors:null},o=qf(t),o.return=s,s.child=o,gt=s,$e=null)):t=null,t===null)throw $n(s);return lc(t)?s.lanes=32:s.lanes=536870912,null}var T=u.children;return u=u.fallback,m?(Xn(),m=s.mode,T=Fo({mode:"hidden",children:T},m),u=Ei(u,m,o,null),T.return=s,u.return=s,T.sibling=u,s.child=T,u=s.child,u.memoizedState=wu(o),u.childLanes=Cu(t,S,o),s.memoizedState=Tu,wr(null,u)):(Qn(s),Au(s,T))}var C=t.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(v)s.flags&256?(Qn(s),s.flags&=-257,s=Nu(t,s,o)):s.memoizedState!==null?(Xn(),s.child=t.child,s.flags|=128,s=null):(Xn(),T=u.fallback,m=s.mode,u=Fo({mode:"visible",children:u.children},m),T=Ei(T,m,o,null),T.flags|=2,u.return=s,T.return=s,u.sibling=T,s.child=u,Mi(s,t.child,null,o),u=s.child,u.memoizedState=wu(o),u.childLanes=Cu(t,S,o),s.memoizedState=Tu,s=wr(null,u));else if(Qn(s),lc(T)){if(S=T.nextSibling&&T.nextSibling.dataset,S)var L=S.dgst;S=L,u=Error(r(419)),u.stack="",u.digest=S,hr({value:u,source:null,stack:null}),s=Nu(t,s,o)}else if(lt||ls(t,s,o,!1),S=(o&t.childLanes)!==0,lt||S){if(S=Ge,S!==null&&(u=zd(S,o),u!==0&&u!==C.retryLane))throw C.retryLane=u,Si(t,u),It(S,t,u),Su;ac(T)||ta(),s=Nu(t,s,o)}else ac(T)?(s.flags|=192,s.child=t.child,s=null):(t=C.treeContext,$e=en(T.nextSibling),gt=s,Ne=!0,zn=null,Zt=!1,t!==null&&jf(s,t),s=Au(s,u.children),s.flags|=4096);return s}return m?(Xn(),T=u.fallback,m=s.mode,C=t.child,L=C.sibling,u=_n(C,{mode:"hidden",children:u.children}),u.subtreeFlags=C.subtreeFlags&65011712,L!==null?T=_n(L,T):(T=Ei(T,m,o,null),T.flags|=2),T.return=s,u.return=s,u.sibling=T,s.child=u,wr(null,u),u=s.child,T=t.child.memoizedState,T===null?T=wu(o):(m=T.cachePool,m!==null?(C=ot._currentValue,m=m.parent!==C?{parent:C,pool:C}:m):m=Jf(),T={baseLanes:T.baseLanes|o,cachePool:m}),u.memoizedState=T,u.childLanes=Cu(t,S,o),s.memoizedState=Tu,wr(t.child,u)):(Qn(s),o=t.child,t=o.sibling,o=_n(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,t!==null&&(S=s.deletions,S===null?(s.deletions=[t],s.flags|=16):S.push(t)),s.child=o,s.memoizedState=null,o)}function Au(t,s){return s=Fo({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Fo(t,s){return t=Ot(22,t,null,s),t.lanes=0,t}function Nu(t,s,o){return Mi(s,t.child,null,o),t=Au(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function op(t,s,o){t.lanes|=s;var u=t.alternate;u!==null&&(u.lanes|=s),Hl(t.return,s,o)}function Ru(t,s,o,u,m,v){var S=t.memoizedState;S===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:m,treeForkCount:v}:(S.isBackwards=s,S.rendering=null,S.renderingStartTime=0,S.last=u,S.tail=o,S.tailMode=m,S.treeForkCount=v)}function ap(t,s,o){var u=s.pendingProps,m=u.revealOrder,v=u.tail;u=u.children;var S=nt.current,T=(S&2)!==0;if(T?(S=S&1|2,s.flags|=128):S&=1,X(nt,S),vt(t,s,u,o),u=Ne?fr:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&op(t,o,s);else if(t.tag===19)op(t,o,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(m){case"forwards":for(o=s.child,m=null;o!==null;)t=o.alternate,t!==null&&Uo(t)===null&&(m=o),o=o.sibling;o=m,o===null?(m=s.child,s.child=null):(m=o.sibling,o.sibling=null),Ru(s,!1,m,o,v,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=s.child,s.child=null;m!==null;){if(t=m.alternate,t!==null&&Uo(t)===null){s.child=m;break}t=m.sibling,m.sibling=o,o=m,m=t}Ru(s,!0,o,null,v,u);break;case"together":Ru(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function wn(t,s,o){if(t!==null&&(s.dependencies=t.dependencies),ei|=s.lanes,(o&s.childLanes)===0)if(t!==null){if(ls(t,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(r(153));if(s.child!==null){for(t=s.child,o=_n(t,t.pendingProps),s.child=o,o.return=s;t.sibling!==null;)t=t.sibling,o=o.sibling=_n(t,t.pendingProps),o.return=s;o.sibling=null}return s.child}function Mu(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Co(t)))}function Tx(t,s,o){switch(s.tag){case 3:st(s,s.stateNode.containerInfo),Fn(s,ot,t.memoizedState.cache),Ti();break;case 27:case 5:_e(s);break;case 4:st(s,s.stateNode.containerInfo);break;case 10:Fn(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,tu(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Qn(s),s.flags|=128,null):(o&s.child.childLanes)!==0?rp(t,s,o):(Qn(s),t=wn(t,s,o),t!==null?t.sibling:null);Qn(s);break;case 19:var m=(t.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(ls(t,s,o,!1),u=(o&s.childLanes)!==0),m){if(u)return ap(t,s,o);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),X(nt,nt.current),u)break;return null;case 22:return s.lanes=0,Wh(t,s,o,s.pendingProps);case 24:Fn(s,ot,t.memoizedState.cache)}return wn(t,s,o)}function lp(t,s,o){if(t!==null)if(t.memoizedProps!==s.pendingProps)lt=!0;else{if(!Mu(t,o)&&(s.flags&128)===0)return lt=!1,Tx(t,s,o);lt=(t.flags&131072)!==0}else lt=!1,Ne&&(s.flags&1048576)!==0&&Bf(s,fr,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(t=Ni(s.elementType),s.type=t,typeof t=="function")Pl(t)?(u=ki(t,u),s.tag=1,s=ip(null,s,t,u,o)):(s.tag=0,s=Eu(null,s,t,u,o));else{if(t!=null){var m=t.$$typeof;if(m===j){s.tag=11,s=Qh(null,s,t,u,o);break e}else if(m===G){s.tag=14,s=Xh(null,s,t,u,o);break e}}throw s=je(t)||t,Error(r(306,s,""))}}return s;case 0:return Eu(t,s,s.type,s.pendingProps,o);case 1:return u=s.type,m=ki(u,s.pendingProps),ip(t,s,u,m,o);case 3:e:{if(st(s,s.stateNode.containerInfo),t===null)throw Error(r(387));u=s.pendingProps;var v=s.memoizedState;m=v.element,Ql(t,s),xr(s,u,null,o);var S=s.memoizedState;if(u=S.cache,Fn(s,ot,u),u!==v.cache&&zl(s,[ot],o,!0),_r(),u=S.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){s=sp(t,s,u,o);break e}else if(u!==m){m=Kt(Error(r(424)),s),hr(m),s=sp(t,s,u,o);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for($e=en(t.firstChild),gt=s,Ne=!0,zn=null,Zt=!0,o=Wf(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ti(),u===m){s=wn(t,s,o);break e}vt(t,s,u,o)}s=s.child}return s;case 26:return $o(t,s),t===null?(o=_m(s.type,null,s.pendingProps,null))?s.memoizedState=o:Ne||(o=s.type,t=s.pendingProps,u=la(me.current).createElement(o),u[mt]=s,u[wt]=t,_t(u,o,t),ht(u),s.stateNode=u):s.memoizedState=_m(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return _e(s),t===null&&Ne&&(u=s.stateNode=gm(s.type,s.pendingProps,me.current),gt=s,Zt=!0,m=$e,ri(s.type)?(uc=m,$e=en(u.firstChild)):$e=m),vt(t,s,s.pendingProps.children,o),$o(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Ne&&((m=u=$e)&&(u=eb(u,s.type,s.pendingProps,Zt),u!==null?(s.stateNode=u,gt=s,$e=en(u.firstChild),Zt=!1,m=!0):m=!1),m||$n(s)),_e(s),m=s.type,v=s.pendingProps,S=t!==null?t.memoizedProps:null,u=v.children,sc(m,v)?u=null:S!==null&&sc(m,S)&&(s.flags|=32),s.memoizedState!==null&&(m=iu(t,s,mx,null,null,o),Br._currentValue=m),$o(t,s),vt(t,s,u,o),s.child;case 6:return t===null&&Ne&&((t=o=$e)&&(o=tb(o,s.pendingProps,Zt),o!==null?(s.stateNode=o,gt=s,$e=null,t=!0):t=!1),t||$n(s)),null;case 13:return rp(t,s,o);case 4:return st(s,s.stateNode.containerInfo),u=s.pendingProps,t===null?s.child=Mi(s,null,u,o):vt(t,s,u,o),s.child;case 11:return Qh(t,s,s.type,s.pendingProps,o);case 7:return vt(t,s,s.pendingProps,o),s.child;case 8:return vt(t,s,s.pendingProps.children,o),s.child;case 12:return vt(t,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Fn(s,s.type,u.value),vt(t,s,u.children,o),s.child;case 9:return m=s.type._context,u=s.pendingProps.children,Ci(s),m=yt(m),u=u(m),s.flags|=1,vt(t,s,u,o),s.child;case 14:return Xh(t,s,s.type,s.pendingProps,o);case 15:return Zh(t,s,s.type,s.pendingProps,o);case 19:return ap(t,s,o);case 31:return Ex(t,s,o);case 22:return Wh(t,s,o,s.pendingProps);case 24:return Ci(s),u=yt(ot),t===null?(m=Jl(),m===null&&(m=Ge,v=$l(),m.pooledCache=v,v.refCount++,v!==null&&(m.pooledCacheLanes|=o),m=v),s.memoizedState={parent:u,cache:m},Kl(s),Fn(s,ot,m)):((t.lanes&o)!==0&&(Ql(t,s),xr(s,null,null,o),_r()),m=t.memoizedState,v=s.memoizedState,m.parent!==u?(m={parent:u,cache:u},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),Fn(s,ot,u)):(u=v.cache,Fn(s,ot,u),u!==m.cache&&zl(s,[ot],o,!0))),vt(t,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Cn(t){t.flags|=4}function Iu(t,s,o,u,m){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(m&335544128)===m)if(t.stateNode.complete)t.flags|=8192;else if(Pp())t.flags|=8192;else throw Ri=Mo,Yl}else t.flags&=-16777217}function up(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Tm(s))if(Pp())t.flags|=8192;else throw Ri=Mo,Yl}function Jo(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?jd():536870912,t.lanes|=s,xs|=s)}function Cr(t,s){if(!Ne)switch(t.tailMode){case"hidden":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Fe(t){var s=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(s)for(var m=t.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=t,m=m.sibling;else for(m=t.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=t,m=m.sibling;return t.subtreeFlags|=u,t.childLanes=o,s}function wx(t,s,o){var u=s.pendingProps;switch(Gl(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(s),null;case 1:return Fe(s),null;case 3:return o=s.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Sn(ot),He(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(as(s)?Cn(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,jl())),Fe(s),null;case 26:var m=s.type,v=s.memoizedState;return t===null?(Cn(s),v!==null?(Fe(s),up(s,v)):(Fe(s),Iu(s,m,null,u,o))):v?v!==t.memoizedState?(Cn(s),Fe(s),up(s,v)):(Fe(s),s.flags&=-16777217):(t=t.memoizedProps,t!==u&&Cn(s),Fe(s),Iu(s,m,t,u,o)),null;case 27:if(Ye(s),o=me.current,m=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==u&&Cn(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return Fe(s),null}t=Z.current,as(s)?Vf(s):(t=gm(m,u,o),s.stateNode=t,Cn(s))}return Fe(s),null;case 5:if(Ye(s),m=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==u&&Cn(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return Fe(s),null}if(v=Z.current,as(s))Vf(s);else{var S=la(me.current);switch(v){case 1:v=S.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:v=S.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":v=S.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":v=S.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":v=S.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof u.is=="string"?S.createElement("select",{is:u.is}):S.createElement("select"),u.multiple?v.multiple=!0:u.size&&(v.size=u.size);break;default:v=typeof u.is=="string"?S.createElement(m,{is:u.is}):S.createElement(m)}}v[mt]=s,v[wt]=u;e:for(S=s.child;S!==null;){if(S.tag===5||S.tag===6)v.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===s)break e;for(;S.sibling===null;){if(S.return===null||S.return===s)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}s.stateNode=v;e:switch(_t(v,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Cn(s)}}return Fe(s),Iu(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,o),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==u&&Cn(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(t=me.current,as(s)){if(t=s.stateNode,o=s.memoizedProps,u=null,m=gt,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}t[mt]=s,t=!!(t.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||rm(t.nodeValue,o)),t||$n(s,!0)}else t=la(t).createTextNode(u),t[mt]=s,s.stateNode=t}return Fe(s),null;case 31:if(o=s.memoizedState,t===null||t.memoizedState!==null){if(u=as(s),o!==null){if(t===null){if(!u)throw Error(r(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[mt]=s}else Ti(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Fe(s),t=!1}else o=jl(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=o),t=!0;if(!t)return s.flags&256?(qt(s),s):(qt(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Fe(s),null;case 13:if(u=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(m=as(s),u!==null&&u.dehydrated!==null){if(t===null){if(!m)throw Error(r(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[mt]=s}else Ti(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Fe(s),m=!1}else m=jl(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(qt(s),s):(qt(s),null)}return qt(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,t=t!==null&&t.memoizedState!==null,o&&(u=s.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==m&&(u.flags|=2048)),o!==t&&o&&(s.child.flags|=8192),Jo(s,s.updateQueue),Fe(s),null);case 4:return He(),t===null&&Wu(s.stateNode.containerInfo),Fe(s),null;case 10:return Sn(s.type),Fe(s),null;case 19:if(H(nt),u=s.memoizedState,u===null)return Fe(s),null;if(m=(s.flags&128)!==0,v=u.rendering,v===null)if(m)Cr(u,!1);else{if(We!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(v=Uo(t),v!==null){for(s.flags|=128,Cr(u,!1),t=v.updateQueue,s.updateQueue=t,Jo(s,t),s.subtreeFlags=0,t=o,o=s.child;o!==null;)Lf(o,t),o=o.sibling;return X(nt,nt.current&1|2),Ne&&xn(s,u.treeForkCount),s.child}t=t.sibling}u.tail!==null&&kt()>Zo&&(s.flags|=128,m=!0,Cr(u,!1),s.lanes=4194304)}else{if(!m)if(t=Uo(v),t!==null){if(s.flags|=128,m=!0,t=t.updateQueue,s.updateQueue=t,Jo(s,t),Cr(u,!0),u.tail===null&&u.tailMode==="hidden"&&!v.alternate&&!Ne)return Fe(s),null}else 2*kt()-u.renderingStartTime>Zo&&o!==536870912&&(s.flags|=128,m=!0,Cr(u,!1),s.lanes=4194304);u.isBackwards?(v.sibling=s.child,s.child=v):(t=u.last,t!==null?t.sibling=v:s.child=v,u.last=v)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=kt(),t.sibling=null,o=nt.current,X(nt,m?o&1|2:o&1),Ne&&xn(s,u.treeForkCount),t):(Fe(s),null);case 22:case 23:return qt(s),eu(),u=s.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(Fe(s),s.subtreeFlags&6&&(s.flags|=8192)):Fe(s),o=s.updateQueue,o!==null&&Jo(s,o.retryQueue),o=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),t!==null&&H(Ai),null;case 24:return o=null,t!==null&&(o=t.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Sn(ot),Fe(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function Cx(t,s){switch(Gl(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Sn(ot),He(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Ye(s),null;case 31:if(s.memoizedState!==null){if(qt(s),s.alternate===null)throw Error(r(340));Ti()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(qt(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ti()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return H(nt),null;case 4:return He(),null;case 10:return Sn(s.type),null;case 22:case 23:return qt(s),eu(),t!==null&&H(Ai),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return Sn(ot),null;case 25:return null;default:return null}}function cp(t,s){switch(Gl(s),s.tag){case 3:Sn(ot),He();break;case 26:case 27:case 5:Ye(s);break;case 4:He();break;case 31:s.memoizedState!==null&&qt(s);break;case 13:qt(s);break;case 19:H(nt);break;case 10:Sn(s.type);break;case 22:case 23:qt(s),eu(),t!==null&&H(Ai);break;case 24:Sn(ot)}}function Ar(t,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var m=u.next;o=m;do{if((o.tag&t)===t){u=void 0;var v=o.create,S=o.inst;u=v(),S.destroy=u}o=o.next}while(o!==m)}}catch(T){Pe(s,s.return,T)}}function Zn(t,s,o){try{var u=s.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var v=m.next;u=v;do{if((u.tag&t)===t){var S=u.inst,T=S.destroy;if(T!==void 0){S.destroy=void 0,m=s;var C=o,L=T;try{L()}catch(z){Pe(m,C,z)}}}u=u.next}while(u!==v)}}catch(z){Pe(s,s.return,z)}}function dp(t){var s=t.updateQueue;if(s!==null){var o=t.stateNode;try{th(s,o)}catch(u){Pe(t,t.return,u)}}}function fp(t,s,o){o.props=ki(t.type,t.memoizedProps),o.state=t.memoizedState;try{o.componentWillUnmount()}catch(u){Pe(t,s,u)}}function Nr(t,s){try{var o=t.ref;if(o!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof o=="function"?t.refCleanup=o(u):o.current=u}}catch(m){Pe(t,s,m)}}function pn(t,s){var o=t.ref,u=t.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(m){Pe(t,s,m)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Pe(t,s,m)}else o.current=null}function hp(t){var s=t.type,o=t.memoizedProps,u=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(m){Pe(t,t.return,m)}}function ku(t,s,o){try{var u=t.stateNode;Yx(u,t.type,o,s),u[wt]=s}catch(m){Pe(t,t.return,m)}}function pp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ri(t.type)||t.tag===4}function Du(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ri(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Uu(t,s,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(t,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(t),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=yn));else if(u!==4&&(u===27&&ri(t.type)&&(o=t.stateNode,s=null),t=t.child,t!==null))for(Uu(t,s,o),t=t.sibling;t!==null;)Uu(t,s,o),t=t.sibling}function Yo(t,s,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,s?o.insertBefore(t,s):o.appendChild(t);else if(u!==4&&(u===27&&ri(t.type)&&(o=t.stateNode),t=t.child,t!==null))for(Yo(t,s,o),t=t.sibling;t!==null;)Yo(t,s,o),t=t.sibling}function mp(t){var s=t.stateNode,o=t.memoizedProps;try{for(var u=t.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);_t(s,u,o),s[mt]=t,s[wt]=o}catch(v){Pe(t,t.return,v)}}var An=!1,ut=!1,Pu=!1,gp=typeof WeakSet=="function"?WeakSet:Set,pt=null;function Ax(t,s){if(t=t.containerInfo,nc=ma,t=Nf(t),Nl(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var m=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break e}var S=0,T=-1,C=-1,L=0,z=0,J=t,q=null;t:for(;;){for(var V;J!==o||m!==0&&J.nodeType!==3||(T=S+m),J!==v||u!==0&&J.nodeType!==3||(C=S+u),J.nodeType===3&&(S+=J.nodeValue.length),(V=J.firstChild)!==null;)q=J,J=V;for(;;){if(J===t)break t;if(q===o&&++L===m&&(T=S),q===v&&++z===u&&(C=S),(V=J.nextSibling)!==null)break;J=q,q=J.parentNode}J=V}o=T===-1||C===-1?null:{start:T,end:C}}else o=null}o=o||{start:0,end:0}}else o=null;for(ic={focusedElem:t,selectionRange:o},ma=!1,pt=s;pt!==null;)if(s=pt,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,pt=t;else for(;pt!==null;){switch(s=pt,v=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(o=0;o<t.length;o++)m=t[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&v!==null){t=void 0,o=s,m=v.memoizedProps,v=v.memoizedState,u=o.stateNode;try{var ne=ki(o.type,m);t=u.getSnapshotBeforeUpdate(ne,v),u.__reactInternalSnapshotBeforeUpdate=t}catch(fe){Pe(o,o.return,fe)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,o=t.nodeType,o===9)oc(t);else if(o===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":oc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=s.sibling,t!==null){t.return=s.return,pt=t;break}pt=s.return}}function yp(t,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Rn(t,o),u&4&&Ar(5,o);break;case 1:if(Rn(t,o),u&4)if(t=o.stateNode,s===null)try{t.componentDidMount()}catch(S){Pe(o,o.return,S)}else{var m=ki(o.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(m,s,t.__reactInternalSnapshotBeforeUpdate)}catch(S){Pe(o,o.return,S)}}u&64&&dp(o),u&512&&Nr(o,o.return);break;case 3:if(Rn(t,o),u&64&&(t=o.updateQueue,t!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{th(t,s)}catch(S){Pe(o,o.return,S)}}break;case 27:s===null&&u&4&&mp(o);case 26:case 5:Rn(t,o),s===null&&u&4&&hp(o),u&512&&Nr(o,o.return);break;case 12:Rn(t,o);break;case 31:Rn(t,o),u&4&&xp(t,o);break;case 13:Rn(t,o),u&4&&bp(t,o),u&64&&(t=o.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(o=Ox.bind(null,o),nb(t,o))));break;case 22:if(u=o.memoizedState!==null||An,!u){s=s!==null&&s.memoizedState!==null||ut,m=An;var v=ut;An=u,(ut=s)&&!v?Mn(t,o,(o.subtreeFlags&8772)!==0):Rn(t,o),An=m,ut=v}break;case 30:break;default:Rn(t,o)}}function vp(t){var s=t.alternate;s!==null&&(t.alternate=null,vp(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&dl(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ke=null,At=!1;function Nn(t,s,o){for(o=o.child;o!==null;)_p(t,s,o),o=o.sibling}function _p(t,s,o){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(Zs,o)}catch{}switch(o.tag){case 26:ut||pn(o,s),Nn(t,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ut||pn(o,s);var u=Ke,m=At;ri(o.type)&&(Ke=o.stateNode,At=!1),Nn(t,s,o),Lr(o.stateNode),Ke=u,At=m;break;case 5:ut||pn(o,s);case 6:if(u=Ke,m=At,Ke=null,Nn(t,s,o),Ke=u,At=m,Ke!==null)if(At)try{(Ke.nodeType===9?Ke.body:Ke.nodeName==="HTML"?Ke.ownerDocument.body:Ke).removeChild(o.stateNode)}catch(v){Pe(o,s,v)}else try{Ke.removeChild(o.stateNode)}catch(v){Pe(o,s,v)}break;case 18:Ke!==null&&(At?(t=Ke,dm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,o.stateNode),Ns(t)):dm(Ke,o.stateNode));break;case 4:u=Ke,m=At,Ke=o.stateNode.containerInfo,At=!0,Nn(t,s,o),Ke=u,At=m;break;case 0:case 11:case 14:case 15:Zn(2,o,s),ut||Zn(4,o,s),Nn(t,s,o);break;case 1:ut||(pn(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&fp(o,s,u)),Nn(t,s,o);break;case 21:Nn(t,s,o);break;case 22:ut=(u=ut)||o.memoizedState!==null,Nn(t,s,o),ut=u;break;default:Nn(t,s,o)}}function xp(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ns(t)}catch(o){Pe(s,s.return,o)}}}function bp(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ns(t)}catch(o){Pe(s,s.return,o)}}function Nx(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new gp),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new gp),s;default:throw Error(r(435,t.tag))}}function Ko(t,s){var o=Nx(t);s.forEach(function(u){if(!o.has(u)){o.add(u);var m=Lx.bind(null,t,u);u.then(m,m)}})}function Nt(t,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var m=o[u],v=t,S=s,T=S;e:for(;T!==null;){switch(T.tag){case 27:if(ri(T.type)){Ke=T.stateNode,At=!1;break e}break;case 5:Ke=T.stateNode,At=!1;break e;case 3:case 4:Ke=T.stateNode.containerInfo,At=!0;break e}T=T.return}if(Ke===null)throw Error(r(160));_p(v,S,m),Ke=null,At=!1,v=m.alternate,v!==null&&(v.return=null),m.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Sp(s,t),s=s.sibling}var rn=null;function Sp(t,s){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Nt(s,t),Rt(t),u&4&&(Zn(3,t,t.return),Ar(3,t),Zn(5,t,t.return));break;case 1:Nt(s,t),Rt(t),u&512&&(ut||o===null||pn(o,o.return)),u&64&&An&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(o=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var m=rn;if(Nt(s,t),Rt(t),u&512&&(ut||o===null||pn(o,o.return)),u&4){var v=o!==null?o.memoizedState:null;if(u=t.memoizedState,o===null)if(u===null)if(t.stateNode===null){e:{u=t.type,o=t.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":v=m.getElementsByTagName("title")[0],(!v||v[tr]||v[mt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=m.createElement(u),m.head.insertBefore(v,m.querySelector("head > title"))),_t(v,u,o),v[mt]=t,ht(v),u=v;break e;case"link":var S=Sm("link","href",m).get(u+(o.href||""));if(S){for(var T=0;T<S.length;T++)if(v=S[T],v.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&v.getAttribute("rel")===(o.rel==null?null:o.rel)&&v.getAttribute("title")===(o.title==null?null:o.title)&&v.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(T,1);break t}}v=m.createElement(u),_t(v,u,o),m.head.appendChild(v);break;case"meta":if(S=Sm("meta","content",m).get(u+(o.content||""))){for(T=0;T<S.length;T++)if(v=S[T],v.getAttribute("content")===(o.content==null?null:""+o.content)&&v.getAttribute("name")===(o.name==null?null:o.name)&&v.getAttribute("property")===(o.property==null?null:o.property)&&v.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&v.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(T,1);break t}}v=m.createElement(u),_t(v,u,o),m.head.appendChild(v);break;default:throw Error(r(468,u))}v[mt]=t,ht(v),u=v}t.stateNode=u}else Em(m,t.type,t.stateNode);else t.stateNode=bm(m,u,t.memoizedProps);else v!==u?(v===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):v.count--,u===null?Em(m,t.type,t.stateNode):bm(m,u,t.memoizedProps)):u===null&&t.stateNode!==null&&ku(t,t.memoizedProps,o.memoizedProps)}break;case 27:Nt(s,t),Rt(t),u&512&&(ut||o===null||pn(o,o.return)),o!==null&&u&4&&ku(t,t.memoizedProps,o.memoizedProps);break;case 5:if(Nt(s,t),Rt(t),u&512&&(ut||o===null||pn(o,o.return)),t.flags&32){m=t.stateNode;try{Xi(m,"")}catch(ne){Pe(t,t.return,ne)}}u&4&&t.stateNode!=null&&(m=t.memoizedProps,ku(t,m,o!==null?o.memoizedProps:m)),u&1024&&(Pu=!0);break;case 6:if(Nt(s,t),Rt(t),u&4){if(t.stateNode===null)throw Error(r(162));u=t.memoizedProps,o=t.stateNode;try{o.nodeValue=u}catch(ne){Pe(t,t.return,ne)}}break;case 3:if(da=null,m=rn,rn=ua(s.containerInfo),Nt(s,t),rn=m,Rt(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Ns(s.containerInfo)}catch(ne){Pe(t,t.return,ne)}Pu&&(Pu=!1,Ep(t));break;case 4:u=rn,rn=ua(t.stateNode.containerInfo),Nt(s,t),Rt(t),rn=u;break;case 12:Nt(s,t),Rt(t);break;case 31:Nt(s,t),Rt(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Ko(t,u)));break;case 13:Nt(s,t),Rt(t),t.child.flags&8192&&t.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Xo=kt()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Ko(t,u)));break;case 22:m=t.memoizedState!==null;var C=o!==null&&o.memoizedState!==null,L=An,z=ut;if(An=L||m,ut=z||C,Nt(s,t),ut=z,An=L,Rt(t),u&8192)e:for(s=t.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(o===null||C||An||ut||Di(t)),o=null,s=t;;){if(s.tag===5||s.tag===26){if(o===null){C=o=s;try{if(v=C.stateNode,m)S=v.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{T=C.stateNode;var J=C.memoizedProps.style,q=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ne){Pe(C,C.return,ne)}}}else if(s.tag===6){if(o===null){C=s;try{C.stateNode.nodeValue=m?"":C.memoizedProps}catch(ne){Pe(C,C.return,ne)}}}else if(s.tag===18){if(o===null){C=s;try{var V=C.stateNode;m?fm(V,!0):fm(C.stateNode,!1)}catch(ne){Pe(C,C.return,ne)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=t.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Ko(t,o))));break;case 19:Nt(s,t),Rt(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Ko(t,u)));break;case 30:break;case 21:break;default:Nt(s,t),Rt(t)}}function Rt(t){var s=t.flags;if(s&2){try{for(var o,u=t.return;u!==null;){if(pp(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var m=o.stateNode,v=Du(t);Yo(t,v,m);break;case 5:var S=o.stateNode;o.flags&32&&(Xi(S,""),o.flags&=-33);var T=Du(t);Yo(t,T,S);break;case 3:case 4:var C=o.stateNode.containerInfo,L=Du(t);Uu(t,L,C);break;default:throw Error(r(161))}}catch(z){Pe(t,t.return,z)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Ep(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;Ep(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function Rn(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)yp(t,s.alternate,s),s=s.sibling}function Di(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Zn(4,s,s.return),Di(s);break;case 1:pn(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&fp(s,s.return,o),Di(s);break;case 27:Lr(s.stateNode);case 26:case 5:pn(s,s.return),Di(s);break;case 22:s.memoizedState===null&&Di(s);break;case 30:Di(s);break;default:Di(s)}t=t.sibling}}function Mn(t,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,m=t,v=s,S=v.flags;switch(v.tag){case 0:case 11:case 15:Mn(m,v,o),Ar(4,v);break;case 1:if(Mn(m,v,o),u=v,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(L){Pe(u,u.return,L)}if(u=v,m=u.updateQueue,m!==null){var T=u.stateNode;try{var C=m.shared.hiddenCallbacks;if(C!==null)for(m.shared.hiddenCallbacks=null,m=0;m<C.length;m++)eh(C[m],T)}catch(L){Pe(u,u.return,L)}}o&&S&64&&dp(v),Nr(v,v.return);break;case 27:mp(v);case 26:case 5:Mn(m,v,o),o&&u===null&&S&4&&hp(v),Nr(v,v.return);break;case 12:Mn(m,v,o);break;case 31:Mn(m,v,o),o&&S&4&&xp(m,v);break;case 13:Mn(m,v,o),o&&S&4&&bp(m,v);break;case 22:v.memoizedState===null&&Mn(m,v,o),Nr(v,v.return);break;case 30:break;default:Mn(m,v,o)}s=s.sibling}}function Ou(t,s){var o=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==o&&(t!=null&&t.refCount++,o!=null&&pr(o))}function Lu(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&pr(t))}function on(t,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Tp(t,s,o,u),s=s.sibling}function Tp(t,s,o,u){var m=s.flags;switch(s.tag){case 0:case 11:case 15:on(t,s,o,u),m&2048&&Ar(9,s);break;case 1:on(t,s,o,u);break;case 3:on(t,s,o,u),m&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&pr(t)));break;case 12:if(m&2048){on(t,s,o,u),t=s.stateNode;try{var v=s.memoizedProps,S=v.id,T=v.onPostCommit;typeof T=="function"&&T(S,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Pe(s,s.return,C)}}else on(t,s,o,u);break;case 31:on(t,s,o,u);break;case 13:on(t,s,o,u);break;case 23:break;case 22:v=s.stateNode,S=s.alternate,s.memoizedState!==null?v._visibility&2?on(t,s,o,u):Rr(t,s):v._visibility&2?on(t,s,o,u):(v._visibility|=2,ys(t,s,o,u,(s.subtreeFlags&10256)!==0||!1)),m&2048&&Ou(S,s);break;case 24:on(t,s,o,u),m&2048&&Lu(s.alternate,s);break;default:on(t,s,o,u)}}function ys(t,s,o,u,m){for(m=m&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var v=t,S=s,T=o,C=u,L=S.flags;switch(S.tag){case 0:case 11:case 15:ys(v,S,T,C,m),Ar(8,S);break;case 23:break;case 22:var z=S.stateNode;S.memoizedState!==null?z._visibility&2?ys(v,S,T,C,m):Rr(v,S):(z._visibility|=2,ys(v,S,T,C,m)),m&&L&2048&&Ou(S.alternate,S);break;case 24:ys(v,S,T,C,m),m&&L&2048&&Lu(S.alternate,S);break;default:ys(v,S,T,C,m)}s=s.sibling}}function Rr(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=t,u=s,m=u.flags;switch(u.tag){case 22:Rr(o,u),m&2048&&Ou(u.alternate,u);break;case 24:Rr(o,u),m&2048&&Lu(u.alternate,u);break;default:Rr(o,u)}s=s.sibling}}var Mr=8192;function vs(t,s,o){if(t.subtreeFlags&Mr)for(t=t.child;t!==null;)wp(t,s,o),t=t.sibling}function wp(t,s,o){switch(t.tag){case 26:vs(t,s,o),t.flags&Mr&&t.memoizedState!==null&&pb(o,rn,t.memoizedState,t.memoizedProps);break;case 5:vs(t,s,o);break;case 3:case 4:var u=rn;rn=ua(t.stateNode.containerInfo),vs(t,s,o),rn=u;break;case 22:t.memoizedState===null&&(u=t.alternate,u!==null&&u.memoizedState!==null?(u=Mr,Mr=16777216,vs(t,s,o),Mr=u):vs(t,s,o));break;default:vs(t,s,o)}}function Cp(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function Ir(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];pt=u,Np(u,t)}Cp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ap(t),t=t.sibling}function Ap(t){switch(t.tag){case 0:case 11:case 15:Ir(t),t.flags&2048&&Zn(9,t,t.return);break;case 3:Ir(t);break;case 12:Ir(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Qo(t)):Ir(t);break;default:Ir(t)}}function Qo(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];pt=u,Np(u,t)}Cp(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Zn(8,s,s.return),Qo(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Qo(s));break;default:Qo(s)}t=t.sibling}}function Np(t,s){for(;pt!==null;){var o=pt;switch(o.tag){case 0:case 11:case 15:Zn(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:pr(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,pt=u;else e:for(o=t;pt!==null;){u=pt;var m=u.sibling,v=u.return;if(vp(u),u===o){pt=null;break e}if(m!==null){m.return=v,pt=m;break e}pt=v}}}var Rx={getCacheForType:function(t){var s=yt(ot),o=s.data.get(t);return o===void 0&&(o=t(),s.data.set(t,o)),o},cacheSignal:function(){return yt(ot).controller.signal}},Mx=typeof WeakMap=="function"?WeakMap:Map,ke=0,Ge=null,Se=null,we=0,Ue=0,Gt=null,Wn=!1,_s=!1,qu=!1,In=0,We=0,ei=0,Ui=0,Gu=0,Bt=0,xs=0,kr=null,Mt=null,Bu=!1,Xo=0,Rp=0,Zo=1/0,Wo=null,ti=null,dt=0,ni=null,bs=null,kn=0,ju=0,Vu=null,Mp=null,Dr=0,Hu=null;function jt(){return(ke&2)!==0&&we!==0?we&-we:B.T!==null?Ku():$d()}function Ip(){if(Bt===0)if((we&536870912)===0||Ne){var t=oo;oo<<=1,(oo&3932160)===0&&(oo=262144),Bt=t}else Bt=536870912;return t=Lt.current,t!==null&&(t.flags|=32),Bt}function It(t,s,o){(t===Ge&&(Ue===2||Ue===9)||t.cancelPendingCommit!==null)&&(Ss(t,0),ii(t,we,Bt,!1)),er(t,o),((ke&2)===0||t!==Ge)&&(t===Ge&&((ke&2)===0&&(Ui|=o),We===4&&ii(t,we,Bt,!1)),mn(t))}function kp(t,s,o){if((ke&6)!==0)throw Error(r(327));var u=!o&&(s&127)===0&&(s&t.expiredLanes)===0||Ws(t,s),m=u?Dx(t,s):$u(t,s,!0),v=u;do{if(m===0){_s&&!u&&ii(t,s,0,!1);break}else{if(o=t.current.alternate,v&&!Ix(o)){m=$u(t,s,!1),v=!1;continue}if(m===2){if(v=s,t.errorRecoveryDisabledLanes&v)var S=0;else S=t.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;e:{var T=t;m=kr;var C=T.current.memoizedState.isDehydrated;if(C&&(Ss(T,S).flags|=256),S=$u(T,S,!1),S!==2){if(qu&&!C){T.errorRecoveryDisabledLanes|=v,Ui|=v,m=4;break e}v=Mt,Mt=m,v!==null&&(Mt===null?Mt=v:Mt.push.apply(Mt,v))}m=S}if(v=!1,m!==2)continue}}if(m===1){Ss(t,0),ii(t,s,0,!0);break}e:{switch(u=t,v=m,v){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:ii(u,s,Bt,!Wn);break e;case 2:Mt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(m=Xo+300-kt(),10<m)){if(ii(u,s,Bt,!Wn),lo(u,0,!0)!==0)break e;kn=s,u.timeoutHandle=um(Dp.bind(null,u,o,Mt,Wo,Bu,s,Bt,Ui,xs,Wn,v,"Throttled",-0,0),m);break e}Dp(u,o,Mt,Wo,Bu,s,Bt,Ui,xs,Wn,v,null,-0,0)}}break}while(!0);mn(t)}function Dp(t,s,o,u,m,v,S,T,C,L,z,J,q,V){if(t.timeoutHandle=-1,J=s.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:yn},wp(s,v,J);var ne=(v&62914560)===v?Xo-kt():(v&4194048)===v?Rp-kt():0;if(ne=mb(J,ne),ne!==null){kn=v,t.cancelPendingCommit=ne(jp.bind(null,t,s,v,o,u,m,S,T,C,z,J,null,q,V)),ii(t,v,S,!L);return}}jp(t,s,v,o,u,m,S,T,C)}function Ix(t){for(var s=t;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var m=o[u],v=m.getSnapshot;m=m.value;try{if(!Pt(v(),m))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ii(t,s,o,u){s&=~Gu,s&=~Ui,t.suspendedLanes|=s,t.pingedLanes&=~s,u&&(t.warmLanes|=s),u=t.expirationTimes;for(var m=s;0<m;){var v=31-Ut(m),S=1<<v;u[v]=-1,m&=~S}o!==0&&Vd(t,o,s)}function ea(){return(ke&6)===0?(Ur(0),!1):!0}function zu(){if(Se!==null){if(Ue===0)var t=Se.return;else t=Se,bn=wi=null,ou(t),fs=null,gr=0,t=Se;for(;t!==null;)cp(t.alternate,t),t=t.return;Se=null}}function Ss(t,s){var o=t.timeoutHandle;o!==-1&&(t.timeoutHandle=-1,Xx(o)),o=t.cancelPendingCommit,o!==null&&(t.cancelPendingCommit=null,o()),kn=0,zu(),Ge=t,Se=o=_n(t.current,null),we=s,Ue=0,Gt=null,Wn=!1,_s=Ws(t,s),qu=!1,xs=Bt=Gu=Ui=ei=We=0,Mt=kr=null,Bu=!1,(s&8)!==0&&(s|=s&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=s;0<u;){var m=31-Ut(u),v=1<<m;s|=t[m],u&=~v}return In=s,bo(),o}function Up(t,s){ye=null,B.H=Tr,s===ds||s===Ro?(s=Qf(),Ue=3):s===Yl?(s=Qf(),Ue=4):Ue=s===Su?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Gt=s,Se===null&&(We=1,Ho(t,Kt(s,t.current)))}function Pp(){var t=Lt.current;return t===null?!0:(we&4194048)===we?Wt===null:(we&62914560)===we||(we&536870912)!==0?t===Wt:!1}function Op(){var t=B.H;return B.H=Tr,t===null?Tr:t}function Lp(){var t=B.A;return B.A=Rx,t}function ta(){We=4,Wn||(we&4194048)!==we&&Lt.current!==null||(_s=!0),(ei&134217727)===0&&(Ui&134217727)===0||Ge===null||ii(Ge,we,Bt,!1)}function $u(t,s,o){var u=ke;ke|=2;var m=Op(),v=Lp();(Ge!==t||we!==s)&&(Wo=null,Ss(t,s)),s=!1;var S=We;e:do try{if(Ue!==0&&Se!==null){var T=Se,C=Gt;switch(Ue){case 8:zu(),S=6;break e;case 3:case 2:case 9:case 6:Lt.current===null&&(s=!0);var L=Ue;if(Ue=0,Gt=null,Es(t,T,C,L),o&&_s){S=0;break e}break;default:L=Ue,Ue=0,Gt=null,Es(t,T,C,L)}}kx(),S=We;break}catch(z){Up(t,z)}while(!0);return s&&t.shellSuspendCounter++,bn=wi=null,ke=u,B.H=m,B.A=v,Se===null&&(Ge=null,we=0,bo()),S}function kx(){for(;Se!==null;)qp(Se)}function Dx(t,s){var o=ke;ke|=2;var u=Op(),m=Lp();Ge!==t||we!==s?(Wo=null,Zo=kt()+500,Ss(t,s)):_s=Ws(t,s);e:do try{if(Ue!==0&&Se!==null){s=Se;var v=Gt;t:switch(Ue){case 1:Ue=0,Gt=null,Es(t,s,v,1);break;case 2:case 9:if(Yf(v)){Ue=0,Gt=null,Gp(s);break}s=function(){Ue!==2&&Ue!==9||Ge!==t||(Ue=7),mn(t)},v.then(s,s);break e;case 3:Ue=7;break e;case 4:Ue=5;break e;case 7:Yf(v)?(Ue=0,Gt=null,Gp(s)):(Ue=0,Gt=null,Es(t,s,v,7));break;case 5:var S=null;switch(Se.tag){case 26:S=Se.memoizedState;case 5:case 27:var T=Se;if(S?Tm(S):T.stateNode.complete){Ue=0,Gt=null;var C=T.sibling;if(C!==null)Se=C;else{var L=T.return;L!==null?(Se=L,na(L)):Se=null}break t}}Ue=0,Gt=null,Es(t,s,v,5);break;case 6:Ue=0,Gt=null,Es(t,s,v,6);break;case 8:zu(),We=6;break e;default:throw Error(r(462))}}Ux();break}catch(z){Up(t,z)}while(!0);return bn=wi=null,B.H=u,B.A=m,ke=o,Se!==null?0:(Ge=null,we=0,bo(),We)}function Ux(){for(;Se!==null&&!i_();)qp(Se)}function qp(t){var s=lp(t.alternate,t,In);t.memoizedProps=t.pendingProps,s===null?na(t):Se=s}function Gp(t){var s=t,o=s.alternate;switch(s.tag){case 15:case 0:s=np(o,s,s.pendingProps,s.type,void 0,we);break;case 11:s=np(o,s,s.pendingProps,s.type.render,s.ref,we);break;case 5:ou(s);default:cp(o,s),s=Se=Lf(s,In),s=lp(o,s,In)}t.memoizedProps=t.pendingProps,s===null?na(t):Se=s}function Es(t,s,o,u){bn=wi=null,ou(s),fs=null,gr=0;var m=s.return;try{if(Sx(t,m,s,o,we)){We=1,Ho(t,Kt(o,t.current)),Se=null;return}}catch(v){if(m!==null)throw Se=m,v;We=1,Ho(t,Kt(o,t.current)),Se=null;return}s.flags&32768?(Ne||u===1?t=!0:_s||(we&536870912)!==0?t=!1:(Wn=t=!0,(u===2||u===9||u===3||u===6)&&(u=Lt.current,u!==null&&u.tag===13&&(u.flags|=16384))),Bp(s,t)):na(s)}function na(t){var s=t;do{if((s.flags&32768)!==0){Bp(s,Wn);return}t=s.return;var o=wx(s.alternate,s,In);if(o!==null){Se=o;return}if(s=s.sibling,s!==null){Se=s;return}Se=s=t}while(s!==null);We===0&&(We=5)}function Bp(t,s){do{var o=Cx(t.alternate,t);if(o!==null){o.flags&=32767,Se=o;return}if(o=t.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(t=t.sibling,t!==null)){Se=t;return}Se=t=o}while(t!==null);We=6,Se=null}function jp(t,s,o,u,m,v,S,T,C){t.cancelPendingCommit=null;do ia();while(dt!==0);if((ke&6)!==0)throw Error(r(327));if(s!==null){if(s===t.current)throw Error(r(177));if(v=s.lanes|s.childLanes,v|=Dl,h_(t,o,v,S,T,C),t===Ge&&(Se=Ge=null,we=0),bs=s,ni=t,kn=o,ju=v,Vu=m,Mp=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,qx(so,function(){return Fp(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=B.T,B.T=null,m=Q.p,Q.p=2,S=ke,ke|=4;try{Ax(t,s,o)}finally{ke=S,Q.p=m,B.T=u}}dt=1,Vp(),Hp(),zp()}}function Vp(){if(dt===1){dt=0;var t=ni,s=bs,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=B.T,B.T=null;var u=Q.p;Q.p=2;var m=ke;ke|=4;try{Sp(s,t);var v=ic,S=Nf(t.containerInfo),T=v.focusedElem,C=v.selectionRange;if(S!==T&&T&&T.ownerDocument&&Af(T.ownerDocument.documentElement,T)){if(C!==null&&Nl(T)){var L=C.start,z=C.end;if(z===void 0&&(z=L),"selectionStart"in T)T.selectionStart=L,T.selectionEnd=Math.min(z,T.value.length);else{var J=T.ownerDocument||document,q=J&&J.defaultView||window;if(q.getSelection){var V=q.getSelection(),ne=T.textContent.length,fe=Math.min(C.start,ne),qe=C.end===void 0?fe:Math.min(C.end,ne);!V.extend&&fe>qe&&(S=qe,qe=fe,fe=S);var U=Cf(T,fe),M=Cf(T,qe);if(U&&M&&(V.rangeCount!==1||V.anchorNode!==U.node||V.anchorOffset!==U.offset||V.focusNode!==M.node||V.focusOffset!==M.offset)){var O=J.createRange();O.setStart(U.node,U.offset),V.removeAllRanges(),fe>qe?(V.addRange(O),V.extend(M.node,M.offset)):(O.setEnd(M.node,M.offset),V.addRange(O))}}}}for(J=[],V=T;V=V.parentNode;)V.nodeType===1&&J.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var F=J[T];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}ma=!!nc,ic=nc=null}finally{ke=m,Q.p=u,B.T=o}}t.current=s,dt=2}}function Hp(){if(dt===2){dt=0;var t=ni,s=bs,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=B.T,B.T=null;var u=Q.p;Q.p=2;var m=ke;ke|=4;try{yp(t,s.alternate,s)}finally{ke=m,Q.p=u,B.T=o}}dt=3}}function zp(){if(dt===4||dt===3){dt=0,s_();var t=ni,s=bs,o=kn,u=Mp;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?dt=5:(dt=0,bs=ni=null,$p(t,t.pendingLanes));var m=t.pendingLanes;if(m===0&&(ti=null),ul(o),s=s.stateNode,Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(Zs,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=B.T,m=Q.p,Q.p=2,B.T=null;try{for(var v=t.onRecoverableError,S=0;S<u.length;S++){var T=u[S];v(T.value,{componentStack:T.stack})}}finally{B.T=s,Q.p=m}}(kn&3)!==0&&ia(),mn(t),m=t.pendingLanes,(o&261930)!==0&&(m&42)!==0?t===Hu?Dr++:(Dr=0,Hu=t):Dr=0,Ur(0)}}function $p(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,pr(s)))}function ia(){return Vp(),Hp(),zp(),Fp()}function Fp(){if(dt!==5)return!1;var t=ni,s=ju;ju=0;var o=ul(kn),u=B.T,m=Q.p;try{Q.p=32>o?32:o,B.T=null,o=Vu,Vu=null;var v=ni,S=kn;if(dt=0,bs=ni=null,kn=0,(ke&6)!==0)throw Error(r(331));var T=ke;if(ke|=4,Ap(v.current),Tp(v,v.current,S,o),ke=T,Ur(0,!1),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(Zs,v)}catch{}return!0}finally{Q.p=m,B.T=u,$p(t,s)}}function Jp(t,s,o){s=Kt(o,s),s=bu(t.stateNode,s,2),t=Kn(t,s,2),t!==null&&(er(t,2),mn(t))}function Pe(t,s,o){if(t.tag===3)Jp(t,t,o);else for(;s!==null;){if(s.tag===3){Jp(s,t,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ti===null||!ti.has(u))){t=Kt(o,t),o=Yh(2),u=Kn(s,o,2),u!==null&&(Kh(o,u,s,t),er(u,2),mn(u));break}}s=s.return}}function Fu(t,s,o){var u=t.pingCache;if(u===null){u=t.pingCache=new Mx;var m=new Set;u.set(s,m)}else m=u.get(s),m===void 0&&(m=new Set,u.set(s,m));m.has(o)||(qu=!0,m.add(o),t=Px.bind(null,t,s,o),s.then(t,t))}function Px(t,s,o){var u=t.pingCache;u!==null&&u.delete(s),t.pingedLanes|=t.suspendedLanes&o,t.warmLanes&=~o,Ge===t&&(we&o)===o&&(We===4||We===3&&(we&62914560)===we&&300>kt()-Xo?(ke&2)===0&&Ss(t,0):Gu|=o,xs===we&&(xs=0)),mn(t)}function Yp(t,s){s===0&&(s=jd()),t=Si(t,s),t!==null&&(er(t,s),mn(t))}function Ox(t){var s=t.memoizedState,o=0;s!==null&&(o=s.retryLane),Yp(t,o)}function Lx(t,s){var o=0;switch(t.tag){case 31:case 13:var u=t.stateNode,m=t.memoizedState;m!==null&&(o=m.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),Yp(t,o)}function qx(t,s){return rl(t,s)}var sa=null,Ts=null,Ju=!1,ra=!1,Yu=!1,si=0;function mn(t){t!==Ts&&t.next===null&&(Ts===null?sa=Ts=t:Ts=Ts.next=t),ra=!0,Ju||(Ju=!0,Bx())}function Ur(t,s){if(!Yu&&ra){Yu=!0;do for(var o=!1,u=sa;u!==null;){if(t!==0){var m=u.pendingLanes;if(m===0)var v=0;else{var S=u.suspendedLanes,T=u.pingedLanes;v=(1<<31-Ut(42|t)+1)-1,v&=m&~(S&~T),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(o=!0,Zp(u,v))}else v=we,v=lo(u,u===Ge?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(v&3)===0||Ws(u,v)||(o=!0,Zp(u,v));u=u.next}while(o);Yu=!1}}function Gx(){Kp()}function Kp(){ra=Ju=!1;var t=0;si!==0&&Qx()&&(t=si);for(var s=kt(),o=null,u=sa;u!==null;){var m=u.next,v=Qp(u,s);v===0?(u.next=null,o===null?sa=m:o.next=m,m===null&&(Ts=o)):(o=u,(t!==0||(v&3)!==0)&&(ra=!0)),u=m}dt!==0&&dt!==5||Ur(t),si!==0&&(si=0)}function Qp(t,s){for(var o=t.suspendedLanes,u=t.pingedLanes,m=t.expirationTimes,v=t.pendingLanes&-62914561;0<v;){var S=31-Ut(v),T=1<<S,C=m[S];C===-1?((T&o)===0||(T&u)!==0)&&(m[S]=f_(T,s)):C<=s&&(t.expiredLanes|=T),v&=~T}if(s=Ge,o=we,o=lo(t,t===s?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,o===0||t===s&&(Ue===2||Ue===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&ol(u),t.callbackNode=null,t.callbackPriority=0;if((o&3)===0||Ws(t,o)){if(s=o&-o,s===t.callbackPriority)return s;switch(u!==null&&ol(u),ul(o)){case 2:case 8:o=Gd;break;case 32:o=so;break;case 268435456:o=Bd;break;default:o=so}return u=Xp.bind(null,t),o=rl(o,u),t.callbackPriority=s,t.callbackNode=o,s}return u!==null&&u!==null&&ol(u),t.callbackPriority=2,t.callbackNode=null,2}function Xp(t,s){if(dt!==0&&dt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var o=t.callbackNode;if(ia()&&t.callbackNode!==o)return null;var u=we;return u=lo(t,t===Ge?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(kp(t,u,s),Qp(t,kt()),t.callbackNode!=null&&t.callbackNode===o?Xp.bind(null,t):null)}function Zp(t,s){if(ia())return null;kp(t,s,!0)}function Bx(){Zx(function(){(ke&6)!==0?rl(qd,Gx):Kp()})}function Ku(){if(si===0){var t=us;t===0&&(t=ro,ro<<=1,(ro&261888)===0&&(ro=256)),si=t}return si}function Wp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ho(""+t)}function em(t,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,t.id&&o.setAttribute("form",t.id),s.parentNode.insertBefore(o,s),t=new FormData(t),o.parentNode.removeChild(o),t}function jx(t,s,o,u,m){if(s==="submit"&&o&&o.stateNode===m){var v=Wp((m[wt]||null).action),S=u.submitter;S&&(s=(s=S[wt]||null)?Wp(s.formAction):S.getAttribute("formAction"),s!==null&&(v=s,S=null));var T=new yo("action","action",null,u,m);t.push({event:T,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(si!==0){var C=S?em(m,S):new FormData(m);mu(o,{pending:!0,data:C,method:m.method,action:v},null,C)}}else typeof v=="function"&&(T.preventDefault(),C=S?em(m,S):new FormData(m),mu(o,{pending:!0,data:C,method:m.method,action:v},v,C))},currentTarget:m}]})}}for(var Qu=0;Qu<kl.length;Qu++){var Xu=kl[Qu],Vx=Xu.toLowerCase(),Hx=Xu[0].toUpperCase()+Xu.slice(1);sn(Vx,"on"+Hx)}sn(If,"onAnimationEnd"),sn(kf,"onAnimationIteration"),sn(Df,"onAnimationStart"),sn("dblclick","onDoubleClick"),sn("focusin","onFocus"),sn("focusout","onBlur"),sn(rx,"onTransitionRun"),sn(ox,"onTransitionStart"),sn(ax,"onTransitionCancel"),sn(Uf,"onTransitionEnd"),Ki("onMouseEnter",["mouseout","mouseover"]),Ki("onMouseLeave",["mouseout","mouseover"]),Ki("onPointerEnter",["pointerout","pointerover"]),Ki("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pr));function tm(t,s){s=(s&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],m=u.event;u=u.listeners;e:{var v=void 0;if(s)for(var S=u.length-1;0<=S;S--){var T=u[S],C=T.instance,L=T.currentTarget;if(T=T.listener,C!==v&&m.isPropagationStopped())break e;v=T,m.currentTarget=L;try{v(m)}catch(z){xo(z)}m.currentTarget=null,v=C}else for(S=0;S<u.length;S++){if(T=u[S],C=T.instance,L=T.currentTarget,T=T.listener,C!==v&&m.isPropagationStopped())break e;v=T,m.currentTarget=L;try{v(m)}catch(z){xo(z)}m.currentTarget=null,v=C}}}}function Ee(t,s){var o=s[cl];o===void 0&&(o=s[cl]=new Set);var u=t+"__bubble";o.has(u)||(nm(s,t,2,!1),o.add(u))}function Zu(t,s,o){var u=0;s&&(u|=4),nm(o,t,u,s)}var oa="_reactListening"+Math.random().toString(36).slice(2);function Wu(t){if(!t[oa]){t[oa]=!0,Yd.forEach(function(o){o!=="selectionchange"&&(zx.has(o)||Zu(o,!1,t),Zu(o,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[oa]||(s[oa]=!0,Zu("selectionchange",!1,s))}}function nm(t,s,o,u){switch(Im(s)){case 2:var m=vb;break;case 8:m=_b;break;default:m=pc}o=m.bind(null,s,o,t),m=void 0,!_l||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),u?m!==void 0?t.addEventListener(s,o,{capture:!0,passive:m}):t.addEventListener(s,o,!0):m!==void 0?t.addEventListener(s,o,{passive:m}):t.addEventListener(s,o,!1)}function ec(t,s,o,u,m){var v=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var T=u.stateNode.containerInfo;if(T===m)break;if(S===4)for(S=u.return;S!==null;){var C=S.tag;if((C===3||C===4)&&S.stateNode.containerInfo===m)return;S=S.return}for(;T!==null;){if(S=Fi(T),S===null)return;if(C=S.tag,C===5||C===6||C===26||C===27){u=v=S;continue e}T=T.parentNode}}u=u.return}af(function(){var L=v,z=yl(o),J=[];e:{var q=Pf.get(t);if(q!==void 0){var V=yo,ne=t;switch(t){case"keypress":if(mo(o)===0)break e;case"keydown":case"keyup":V=L_;break;case"focusin":ne="focus",V=El;break;case"focusout":ne="blur",V=El;break;case"beforeblur":case"afterblur":V=El;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=cf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=w_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=B_;break;case If:case kf:case Df:V=N_;break;case Uf:V=V_;break;case"scroll":case"scrollend":V=E_;break;case"wheel":V=z_;break;case"copy":case"cut":case"paste":V=M_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=ff;break;case"toggle":case"beforetoggle":V=F_}var fe=(s&4)!==0,qe=!fe&&(t==="scroll"||t==="scrollend"),U=fe?q!==null?q+"Capture":null:q;fe=[];for(var M=L,O;M!==null;){var F=M;if(O=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||O===null||U===null||(F=ir(M,U),F!=null&&fe.push(Or(M,F,O))),qe)break;M=M.return}0<fe.length&&(q=new V(q,ne,null,o,z),J.push({event:q,listeners:fe}))}}if((s&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",V=t==="mouseout"||t==="pointerout",q&&o!==gl&&(ne=o.relatedTarget||o.fromElement)&&(Fi(ne)||ne[$i]))break e;if((V||q)&&(q=z.window===z?z:(q=z.ownerDocument)?q.defaultView||q.parentWindow:window,V?(ne=o.relatedTarget||o.toElement,V=L,ne=ne?Fi(ne):null,ne!==null&&(qe=l(ne),fe=ne.tag,ne!==qe||fe!==5&&fe!==27&&fe!==6)&&(ne=null)):(V=null,ne=L),V!==ne)){if(fe=cf,F="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(fe=ff,F="onPointerLeave",U="onPointerEnter",M="pointer"),qe=V==null?q:nr(V),O=ne==null?q:nr(ne),q=new fe(F,M+"leave",V,o,z),q.target=qe,q.relatedTarget=O,F=null,Fi(z)===L&&(fe=new fe(U,M+"enter",ne,o,z),fe.target=O,fe.relatedTarget=qe,F=fe),qe=F,V&&ne)t:{for(fe=$x,U=V,M=ne,O=0,F=U;F;F=fe(F))O++;F=0;for(var de=M;de;de=fe(de))F++;for(;0<O-F;)U=fe(U),O--;for(;0<F-O;)M=fe(M),F--;for(;O--;){if(U===M||M!==null&&U===M.alternate){fe=U;break t}U=fe(U),M=fe(M)}fe=null}else fe=null;V!==null&&im(J,q,V,fe,!1),ne!==null&&qe!==null&&im(J,qe,ne,fe,!0)}}e:{if(q=L?nr(L):window,V=q.nodeName&&q.nodeName.toLowerCase(),V==="select"||V==="input"&&q.type==="file")var Re=xf;else if(vf(q))if(bf)Re=nx;else{Re=ex;var ae=W_}else V=q.nodeName,!V||V.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?L&&ml(L.elementType)&&(Re=xf):Re=tx;if(Re&&(Re=Re(t,L))){_f(J,Re,o,z);break e}ae&&ae(t,q,L),t==="focusout"&&L&&q.type==="number"&&L.memoizedProps.value!=null&&pl(q,"number",q.value)}switch(ae=L?nr(L):window,t){case"focusin":(vf(ae)||ae.contentEditable==="true")&&(ts=ae,Rl=L,dr=null);break;case"focusout":dr=Rl=ts=null;break;case"mousedown":Ml=!0;break;case"contextmenu":case"mouseup":case"dragend":Ml=!1,Rf(J,o,z);break;case"selectionchange":if(sx)break;case"keydown":case"keyup":Rf(J,o,z)}var xe;if(wl)e:{switch(t){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else es?gf(t,o)&&(Ce="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(Ce="onCompositionStart");Ce&&(hf&&o.locale!=="ko"&&(es||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&es&&(xe=lf()):(Vn=z,xl="value"in Vn?Vn.value:Vn.textContent,es=!0)),ae=aa(L,Ce),0<ae.length&&(Ce=new df(Ce,t,null,o,z),J.push({event:Ce,listeners:ae}),xe?Ce.data=xe:(xe=yf(o),xe!==null&&(Ce.data=xe)))),(xe=Y_?K_(t,o):Q_(t,o))&&(Ce=aa(L,"onBeforeInput"),0<Ce.length&&(ae=new df("onBeforeInput","beforeinput",null,o,z),J.push({event:ae,listeners:Ce}),ae.data=xe)),jx(J,t,L,o,z)}tm(J,s)})}function Or(t,s,o){return{instance:t,listener:s,currentTarget:o}}function aa(t,s){for(var o=s+"Capture",u=[];t!==null;){var m=t,v=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||v===null||(m=ir(t,o),m!=null&&u.unshift(Or(t,m,v)),m=ir(t,s),m!=null&&u.push(Or(t,m,v))),t.tag===3)return u;t=t.return}return[]}function $x(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function im(t,s,o,u,m){for(var v=s._reactName,S=[];o!==null&&o!==u;){var T=o,C=T.alternate,L=T.stateNode;if(T=T.tag,C!==null&&C===u)break;T!==5&&T!==26&&T!==27||L===null||(C=L,m?(L=ir(o,v),L!=null&&S.unshift(Or(o,L,C))):m||(L=ir(o,v),L!=null&&S.push(Or(o,L,C)))),o=o.return}S.length!==0&&t.push({event:s,listeners:S})}var Fx=/\r\n?/g,Jx=/\u0000|\uFFFD/g;function sm(t){return(typeof t=="string"?t:""+t).replace(Fx,`
`).replace(Jx,"")}function rm(t,s){return s=sm(s),sm(t)===s}function Le(t,s,o,u,m,v){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Xi(t,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Xi(t,""+u);break;case"className":co(t,"class",u);break;case"tabIndex":co(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":co(t,o,u);break;case"style":rf(t,u,v);break;case"data":if(s!=="object"){co(t,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){t.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(o);break}u=ho(""+u),t.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(o==="formAction"?(s!=="input"&&Le(t,s,"name",m.name,m,null),Le(t,s,"formEncType",m.formEncType,m,null),Le(t,s,"formMethod",m.formMethod,m,null),Le(t,s,"formTarget",m.formTarget,m,null)):(Le(t,s,"encType",m.encType,m,null),Le(t,s,"method",m.method,m,null),Le(t,s,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(o);break}u=ho(""+u),t.setAttribute(o,u);break;case"onClick":u!=null&&(t.onclick=yn);break;case"onScroll":u!=null&&Ee("scroll",t);break;case"onScrollEnd":u!=null&&Ee("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(r(60));t.innerHTML=o}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}o=ho(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,""+u):t.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,""):t.removeAttribute(o);break;case"capture":case"download":u===!0?t.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,u):t.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(o,u):t.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(o):t.setAttribute(o,u);break;case"popover":Ee("beforetoggle",t),Ee("toggle",t),uo(t,"popover",u);break;case"xlinkActuate":gn(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":gn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":gn(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":gn(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":gn(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":gn(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":gn(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":gn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":gn(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":uo(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=b_.get(o)||o,uo(t,o,u))}}function tc(t,s,o,u,m,v){switch(o){case"style":rf(t,u,v);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(r(60));t.innerHTML=o}}break;case"children":typeof u=="string"?Xi(t,u):(typeof u=="number"||typeof u=="bigint")&&Xi(t,""+u);break;case"onScroll":u!=null&&Ee("scroll",t);break;case"onScrollEnd":u!=null&&Ee("scrollend",t);break;case"onClick":u!=null&&(t.onclick=yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kd.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),s=o.slice(2,m?o.length-7:void 0),v=t[wt]||null,v=v!=null?v[o]:null,typeof v=="function"&&t.removeEventListener(s,v,m),typeof u=="function")){typeof v!="function"&&v!==null&&(o in t?t[o]=null:t.hasAttribute(o)&&t.removeAttribute(o)),t.addEventListener(s,u,m);break e}o in t?t[o]=u:u===!0?t.setAttribute(o,""):uo(t,o,u)}}}function _t(t,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",t),Ee("load",t);var u=!1,m=!1,v;for(v in o)if(o.hasOwnProperty(v)){var S=o[v];if(S!=null)switch(v){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Le(t,s,v,S,o,null)}}m&&Le(t,s,"srcSet",o.srcSet,o,null),u&&Le(t,s,"src",o.src,o,null);return;case"input":Ee("invalid",t);var T=v=S=m=null,C=null,L=null;for(u in o)if(o.hasOwnProperty(u)){var z=o[u];if(z!=null)switch(u){case"name":m=z;break;case"type":S=z;break;case"checked":C=z;break;case"defaultChecked":L=z;break;case"value":v=z;break;case"defaultValue":T=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,s));break;default:Le(t,s,u,z,o,null)}}ef(t,v,T,C,L,S,m,!1);return;case"select":Ee("invalid",t),u=S=v=null;for(m in o)if(o.hasOwnProperty(m)&&(T=o[m],T!=null))switch(m){case"value":v=T;break;case"defaultValue":S=T;break;case"multiple":u=T;default:Le(t,s,m,T,o,null)}s=v,o=S,t.multiple=!!u,s!=null?Qi(t,!!u,s,!1):o!=null&&Qi(t,!!u,o,!0);return;case"textarea":Ee("invalid",t),v=m=u=null;for(S in o)if(o.hasOwnProperty(S)&&(T=o[S],T!=null))switch(S){case"value":u=T;break;case"defaultValue":m=T;break;case"children":v=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:Le(t,s,S,T,o,null)}nf(t,u,m,v);return;case"option":for(C in o)if(o.hasOwnProperty(C)&&(u=o[C],u!=null))switch(C){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Le(t,s,C,u,o,null)}return;case"dialog":Ee("beforetoggle",t),Ee("toggle",t),Ee("cancel",t),Ee("close",t);break;case"iframe":case"object":Ee("load",t);break;case"video":case"audio":for(u=0;u<Pr.length;u++)Ee(Pr[u],t);break;case"image":Ee("error",t),Ee("load",t);break;case"details":Ee("toggle",t);break;case"embed":case"source":case"link":Ee("error",t),Ee("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in o)if(o.hasOwnProperty(L)&&(u=o[L],u!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Le(t,s,L,u,o,null)}return;default:if(ml(s)){for(z in o)o.hasOwnProperty(z)&&(u=o[z],u!==void 0&&tc(t,s,z,u,o,void 0));return}}for(T in o)o.hasOwnProperty(T)&&(u=o[T],u!=null&&Le(t,s,T,u,o,null))}function Yx(t,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,v=null,S=null,T=null,C=null,L=null,z=null;for(V in o){var J=o[V];if(o.hasOwnProperty(V)&&J!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":C=J;default:u.hasOwnProperty(V)||Le(t,s,V,null,u,J)}}for(var q in u){var V=u[q];if(J=o[q],u.hasOwnProperty(q)&&(V!=null||J!=null))switch(q){case"type":v=V;break;case"name":m=V;break;case"checked":L=V;break;case"defaultChecked":z=V;break;case"value":S=V;break;case"defaultValue":T=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(137,s));break;default:V!==J&&Le(t,s,q,V,u,J)}}hl(t,S,T,C,L,z,v,m);return;case"select":V=S=T=q=null;for(v in o)if(C=o[v],o.hasOwnProperty(v)&&C!=null)switch(v){case"value":break;case"multiple":V=C;default:u.hasOwnProperty(v)||Le(t,s,v,null,u,C)}for(m in u)if(v=u[m],C=o[m],u.hasOwnProperty(m)&&(v!=null||C!=null))switch(m){case"value":q=v;break;case"defaultValue":T=v;break;case"multiple":S=v;default:v!==C&&Le(t,s,m,v,u,C)}s=T,o=S,u=V,q!=null?Qi(t,!!o,q,!1):!!u!=!!o&&(s!=null?Qi(t,!!o,s,!0):Qi(t,!!o,o?[]:"",!1));return;case"textarea":V=q=null;for(T in o)if(m=o[T],o.hasOwnProperty(T)&&m!=null&&!u.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Le(t,s,T,null,u,m)}for(S in u)if(m=u[S],v=o[S],u.hasOwnProperty(S)&&(m!=null||v!=null))switch(S){case"value":q=m;break;case"defaultValue":V=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==v&&Le(t,s,S,m,u,v)}tf(t,q,V);return;case"option":for(var ne in o)if(q=o[ne],o.hasOwnProperty(ne)&&q!=null&&!u.hasOwnProperty(ne))switch(ne){case"selected":t.selected=!1;break;default:Le(t,s,ne,null,u,q)}for(C in u)if(q=u[C],V=o[C],u.hasOwnProperty(C)&&q!==V&&(q!=null||V!=null))switch(C){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Le(t,s,C,q,u,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in o)q=o[fe],o.hasOwnProperty(fe)&&q!=null&&!u.hasOwnProperty(fe)&&Le(t,s,fe,null,u,q);for(L in u)if(q=u[L],V=o[L],u.hasOwnProperty(L)&&q!==V&&(q!=null||V!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,s));break;default:Le(t,s,L,q,u,V)}return;default:if(ml(s)){for(var qe in o)q=o[qe],o.hasOwnProperty(qe)&&q!==void 0&&!u.hasOwnProperty(qe)&&tc(t,s,qe,void 0,u,q);for(z in u)q=u[z],V=o[z],!u.hasOwnProperty(z)||q===V||q===void 0&&V===void 0||tc(t,s,z,q,u,V);return}}for(var U in o)q=o[U],o.hasOwnProperty(U)&&q!=null&&!u.hasOwnProperty(U)&&Le(t,s,U,null,u,q);for(J in u)q=u[J],V=o[J],!u.hasOwnProperty(J)||q===V||q==null&&V==null||Le(t,s,J,q,u,V)}function om(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Kx(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var m=o[u],v=m.transferSize,S=m.initiatorType,T=m.duration;if(v&&T&&om(S)){for(S=0,T=m.responseEnd,u+=1;u<o.length;u++){var C=o[u],L=C.startTime;if(L>T)break;var z=C.transferSize,J=C.initiatorType;z&&om(J)&&(C=C.responseEnd,S+=z*(C<T?1:(T-L)/(C-L)))}if(--u,s+=8*(v+S)/(m.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var nc=null,ic=null;function la(t){return t.nodeType===9?t:t.ownerDocument}function am(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lm(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function sc(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var rc=null;function Qx(){var t=window.event;return t&&t.type==="popstate"?t===rc?!1:(rc=t,!0):(rc=null,!1)}var um=typeof setTimeout=="function"?setTimeout:void 0,Xx=typeof clearTimeout=="function"?clearTimeout:void 0,cm=typeof Promise=="function"?Promise:void 0,Zx=typeof queueMicrotask=="function"?queueMicrotask:typeof cm<"u"?function(t){return cm.resolve(null).then(t).catch(Wx)}:um;function Wx(t){setTimeout(function(){throw t})}function ri(t){return t==="head"}function dm(t,s){var o=s,u=0;do{var m=o.nextSibling;if(t.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(u===0){t.removeChild(m),Ns(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Lr(t.ownerDocument.documentElement);else if(o==="head"){o=t.ownerDocument.head,Lr(o);for(var v=o.firstChild;v;){var S=v.nextSibling,T=v.nodeName;v[tr]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&v.rel.toLowerCase()==="stylesheet"||o.removeChild(v),v=S}}else o==="body"&&Lr(t.ownerDocument.body);o=m}while(o);Ns(s)}function fm(t,s){var o=t;t=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(t===0)break;t--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||t++;o=u}while(o)}function oc(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":oc(o),dl(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}t.removeChild(o)}}function eb(t,s,o,u){for(;t.nodeType===1;){var m=o;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[tr])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(v=t.getAttribute("rel"),v==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(v!==m.rel||t.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||t.getAttribute("title")!==(m.title==null?null:m.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(v=t.getAttribute("src"),(v!==(m.src==null?null:m.src)||t.getAttribute("type")!==(m.type==null?null:m.type)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&v&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var v=m.name==null?null:""+m.name;if(m.type==="hidden"&&t.getAttribute("name")===v)return t}else return t;if(t=en(t.nextSibling),t===null)break}return null}function tb(t,s,o){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!o||(t=en(t.nextSibling),t===null))return null;return t}function hm(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=en(t.nextSibling),t===null))return null;return t}function ac(t){return t.data==="$?"||t.data==="$~"}function lc(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function nb(t,s){var o=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function en(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var uc=null;function pm(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"||o==="/&"){if(s===0)return en(t.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}t=t.nextSibling}return null}function mm(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return t;s--}else o!=="/$"&&o!=="/&"||s++}t=t.previousSibling}return null}function gm(t,s,o){switch(s=la(o),t){case"html":if(t=s.documentElement,!t)throw Error(r(452));return t;case"head":if(t=s.head,!t)throw Error(r(453));return t;case"body":if(t=s.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Lr(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);dl(t)}var tn=new Map,ym=new Set;function ua(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Dn=Q.d;Q.d={f:ib,r:sb,D:rb,C:ob,L:ab,m:lb,X:cb,S:ub,M:db};function ib(){var t=Dn.f(),s=ea();return t||s}function sb(t){var s=Ji(t);s!==null&&s.tag===5&&s.type==="form"?Uh(s):Dn.r(t)}var ws=typeof document>"u"?null:document;function vm(t,s,o){var u=ws;if(u&&typeof s=="string"&&s){var m=Jt(s);m='link[rel="'+t+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),ym.has(m)||(ym.add(m),t={rel:t,crossOrigin:o,href:s},u.querySelector(m)===null&&(s=u.createElement("link"),_t(s,"link",t),ht(s),u.head.appendChild(s)))}}function rb(t){Dn.D(t),vm("dns-prefetch",t,null)}function ob(t,s){Dn.C(t,s),vm("preconnect",t,s)}function ab(t,s,o){Dn.L(t,s,o);var u=ws;if(u&&t&&s){var m='link[rel="preload"][as="'+Jt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Jt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Jt(o.imageSizes)+'"]')):m+='[href="'+Jt(t)+'"]';var v=m;switch(s){case"style":v=Cs(t);break;case"script":v=As(t)}tn.has(v)||(t=x({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:t,as:s},o),tn.set(v,t),u.querySelector(m)!==null||s==="style"&&u.querySelector(qr(v))||s==="script"&&u.querySelector(Gr(v))||(s=u.createElement("link"),_t(s,"link",t),ht(s),u.head.appendChild(s)))}}function lb(t,s){Dn.m(t,s);var o=ws;if(o&&t){var u=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+Jt(u)+'"][href="'+Jt(t)+'"]',v=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=As(t)}if(!tn.has(v)&&(t=x({rel:"modulepreload",href:t},s),tn.set(v,t),o.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Gr(v)))return}u=o.createElement("link"),_t(u,"link",t),ht(u),o.head.appendChild(u)}}}function ub(t,s,o){Dn.S(t,s,o);var u=ws;if(u&&t){var m=Yi(u).hoistableStyles,v=Cs(t);s=s||"default";var S=m.get(v);if(!S){var T={loading:0,preload:null};if(S=u.querySelector(qr(v)))T.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":s},o),(o=tn.get(v))&&cc(t,o);var C=S=u.createElement("link");ht(C),_t(C,"link",t),C._p=new Promise(function(L,z){C.onload=L,C.onerror=z}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,ca(S,s,u)}S={type:"stylesheet",instance:S,count:1,state:T},m.set(v,S)}}}function cb(t,s){Dn.X(t,s);var o=ws;if(o&&t){var u=Yi(o).hoistableScripts,m=As(t),v=u.get(m);v||(v=o.querySelector(Gr(m)),v||(t=x({src:t,async:!0},s),(s=tn.get(m))&&dc(t,s),v=o.createElement("script"),ht(v),_t(v,"link",t),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(m,v))}}function db(t,s){Dn.M(t,s);var o=ws;if(o&&t){var u=Yi(o).hoistableScripts,m=As(t),v=u.get(m);v||(v=o.querySelector(Gr(m)),v||(t=x({src:t,async:!0,type:"module"},s),(s=tn.get(m))&&dc(t,s),v=o.createElement("script"),ht(v),_t(v,"link",t),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(m,v))}}function _m(t,s,o,u){var m=(m=me.current)?ua(m):null;if(!m)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Cs(o.href),o=Yi(m).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){t=Cs(o.href);var v=Yi(m).hoistableStyles,S=v.get(t);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(t,S),(v=m.querySelector(qr(t)))&&!v._p&&(S.instance=v,S.state.loading=5),tn.has(t)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},tn.set(t,o),v||fb(m,t,o,S.state))),s&&u===null)throw Error(r(528,""));return S}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=As(o),o=Yi(m).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Cs(t){return'href="'+Jt(t)+'"'}function qr(t){return'link[rel="stylesheet"]['+t+"]"}function xm(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function fb(t,s,o,u){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=t.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),_t(s,"link",o),ht(s),t.head.appendChild(s))}function As(t){return'[src="'+Jt(t)+'"]'}function Gr(t){return"script[async]"+t}function bm(t,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=t.querySelector('style[data-href~="'+Jt(o.href)+'"]');if(u)return s.instance=u,ht(u),u;var m=x({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),ht(u),_t(u,"style",m),ca(u,o.precedence,t),s.instance=u;case"stylesheet":m=Cs(o.href);var v=t.querySelector(qr(m));if(v)return s.state.loading|=4,s.instance=v,ht(v),v;u=xm(o),(m=tn.get(m))&&cc(u,m),v=(t.ownerDocument||t).createElement("link"),ht(v);var S=v;return S._p=new Promise(function(T,C){S.onload=T,S.onerror=C}),_t(v,"link",u),s.state.loading|=4,ca(v,o.precedence,t),s.instance=v;case"script":return v=As(o.src),(m=t.querySelector(Gr(v)))?(s.instance=m,ht(m),m):(u=o,(m=tn.get(v))&&(u=x({},o),dc(u,m)),t=t.ownerDocument||t,m=t.createElement("script"),ht(m),_t(m,"link",u),t.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,ca(u,o.precedence,t));return s.instance}function ca(t,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,v=m,S=0;S<u.length;S++){var T=u[S];if(T.dataset.precedence===s)v=T;else if(v!==m)break}v?v.parentNode.insertBefore(t,v.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(t,s.firstChild))}function cc(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function dc(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var da=null;function Sm(t,s,o){if(da===null){var u=new Map,m=da=new Map;m.set(o,u)}else m=da,u=m.get(o),u||(u=new Map,m.set(o,u));if(u.has(t))return u;for(u.set(t,null),o=o.getElementsByTagName(t),m=0;m<o.length;m++){var v=o[m];if(!(v[tr]||v[mt]||t==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var S=v.getAttribute(s)||"";S=t+S;var T=u.get(S);T?T.push(v):u.set(S,[v])}}return u}function Em(t,s,o){t=t.ownerDocument||t,t.head.insertBefore(o,s==="title"?t.querySelector("head > title"):null)}function hb(t,s,o){if(o===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Tm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function pb(t,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Cs(u.href),v=s.querySelector(qr(m));if(v){s=v._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=fa.bind(t),s.then(t,t)),o.state.loading|=4,o.instance=v,ht(v);return}v=s.ownerDocument||s,u=xm(u),(m=tn.get(m))&&cc(u,m),v=v.createElement("link"),ht(v);var S=v;S._p=new Promise(function(T,C){S.onload=T,S.onerror=C}),_t(v,"link",u),o.instance=v}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(t.count++,o=fa.bind(t),s.addEventListener("load",o),s.addEventListener("error",o))}}var fc=0;function mb(t,s){return t.stylesheets&&t.count===0&&pa(t,t.stylesheets),0<t.count||0<t.imgCount?function(o){var u=setTimeout(function(){if(t.stylesheets&&pa(t,t.stylesheets),t.unsuspend){var v=t.unsuspend;t.unsuspend=null,v()}},6e4+s);0<t.imgBytes&&fc===0&&(fc=62500*Kx());var m=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&pa(t,t.stylesheets),t.unsuspend)){var v=t.unsuspend;t.unsuspend=null,v()}},(t.imgBytes>fc?50:800)+s);return t.unsuspend=o,function(){t.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function fa(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pa(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ha=null;function pa(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ha=new Map,s.forEach(gb,t),ha=null,fa.call(t))}function gb(t,s){if(!(s.state.loading&4)){var o=ha.get(t);if(o)var u=o.get(null);else{o=new Map,ha.set(t,o);for(var m=t.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<m.length;v++){var S=m[v];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),u=S)}u&&o.set(null,u)}m=s.instance,S=m.getAttribute("data-precedence"),v=o.get(S)||u,v===u&&o.set(null,m),o.set(S,m),this.count++,u=fa.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),v?v.parentNode.insertBefore(m,v.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(m,t.firstChild)),s.state.loading|=4}}var Br={$$typeof:A,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function yb(t,s,o,u,m,v,S,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=al(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=al(0),this.hiddenUpdates=al(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=v,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function wm(t,s,o,u,m,v,S,T,C,L,z,J){return t=new yb(t,s,o,S,C,L,z,J,T),s=1,v===!0&&(s|=24),v=Ot(3,null,null,s),t.current=v,v.stateNode=t,s=$l(),s.refCount++,t.pooledCache=s,s.refCount++,v.memoizedState={element:u,isDehydrated:o,cache:s},Kl(v),t}function Cm(t){return t?(t=ss,t):ss}function Am(t,s,o,u,m,v){m=Cm(m),u.context===null?u.context=m:u.pendingContext=m,u=Yn(s),u.payload={element:o},v=v===void 0?null:v,v!==null&&(u.callback=v),o=Kn(t,u,s),o!==null&&(It(o,t,s),vr(o,t,s))}function Nm(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<s?o:s}}function hc(t,s){Nm(t,s),(t=t.alternate)&&Nm(t,s)}function Rm(t){if(t.tag===13||t.tag===31){var s=Si(t,67108864);s!==null&&It(s,t,67108864),hc(t,67108864)}}function Mm(t){if(t.tag===13||t.tag===31){var s=jt();s=ll(s);var o=Si(t,s);o!==null&&It(o,t,s),hc(t,s)}}var ma=!0;function vb(t,s,o,u){var m=B.T;B.T=null;var v=Q.p;try{Q.p=2,pc(t,s,o,u)}finally{Q.p=v,B.T=m}}function _b(t,s,o,u){var m=B.T;B.T=null;var v=Q.p;try{Q.p=8,pc(t,s,o,u)}finally{Q.p=v,B.T=m}}function pc(t,s,o,u){if(ma){var m=mc(u);if(m===null)ec(t,s,u,ga,o),km(t,u);else if(bb(m,t,s,o,u))u.stopPropagation();else if(km(t,u),s&4&&-1<xb.indexOf(t)){for(;m!==null;){var v=Ji(m);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var S=yi(v.pendingLanes);if(S!==0){var T=v;for(T.pendingLanes|=2,T.entangledLanes|=2;S;){var C=1<<31-Ut(S);T.entanglements[1]|=C,S&=~C}mn(v),(ke&6)===0&&(Zo=kt()+500,Ur(0))}}break;case 31:case 13:T=Si(v,2),T!==null&&It(T,v,2),ea(),hc(v,2)}if(v=mc(u),v===null&&ec(t,s,u,ga,o),v===m)break;m=v}m!==null&&u.stopPropagation()}else ec(t,s,u,null,o)}}function mc(t){return t=yl(t),gc(t)}var ga=null;function gc(t){if(ga=null,t=Fi(t),t!==null){var s=l(t);if(s===null)t=null;else{var o=s.tag;if(o===13){if(t=c(s),t!==null)return t;t=null}else if(o===31){if(t=h(s),t!==null)return t;t=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return ga=t,null}function Im(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(r_()){case qd:return 2;case Gd:return 8;case so:case o_:return 32;case Bd:return 268435456;default:return 32}default:return 32}}var yc=!1,oi=null,ai=null,li=null,jr=new Map,Vr=new Map,ui=[],xb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function km(t,s){switch(t){case"focusin":case"focusout":oi=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":li=null;break;case"pointerover":case"pointerout":jr.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vr.delete(s.pointerId)}}function Hr(t,s,o,u,m,v){return t===null||t.nativeEvent!==v?(t={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:v,targetContainers:[m]},s!==null&&(s=Ji(s),s!==null&&Rm(s)),t):(t.eventSystemFlags|=u,s=t.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),t)}function bb(t,s,o,u,m){switch(s){case"focusin":return oi=Hr(oi,t,s,o,u,m),!0;case"dragenter":return ai=Hr(ai,t,s,o,u,m),!0;case"mouseover":return li=Hr(li,t,s,o,u,m),!0;case"pointerover":var v=m.pointerId;return jr.set(v,Hr(jr.get(v)||null,t,s,o,u,m)),!0;case"gotpointercapture":return v=m.pointerId,Vr.set(v,Hr(Vr.get(v)||null,t,s,o,u,m)),!0}return!1}function Dm(t){var s=Fi(t.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){t.blockedOn=s,Fd(t.priority,function(){Mm(o)});return}}else if(s===31){if(s=h(o),s!==null){t.blockedOn=s,Fd(t.priority,function(){Mm(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ya(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var o=mc(t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);gl=u,o.target.dispatchEvent(u),gl=null}else return s=Ji(o),s!==null&&Rm(s),t.blockedOn=o,!1;s.shift()}return!0}function Um(t,s,o){ya(t)&&o.delete(s)}function Sb(){yc=!1,oi!==null&&ya(oi)&&(oi=null),ai!==null&&ya(ai)&&(ai=null),li!==null&&ya(li)&&(li=null),jr.forEach(Um),Vr.forEach(Um)}function va(t,s){t.blockedOn===s&&(t.blockedOn=null,yc||(yc=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Sb)))}var _a=null;function Pm(t){_a!==t&&(_a=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){_a===t&&(_a=null);for(var s=0;s<t.length;s+=3){var o=t[s],u=t[s+1],m=t[s+2];if(typeof u!="function"){if(gc(u||o)===null)continue;break}var v=Ji(o);v!==null&&(t.splice(s,3),s-=3,mu(v,{pending:!0,data:m,method:o.method,action:u},u,m))}}))}function Ns(t){function s(C){return va(C,t)}oi!==null&&va(oi,t),ai!==null&&va(ai,t),li!==null&&va(li,t),jr.forEach(s),Vr.forEach(s);for(var o=0;o<ui.length;o++){var u=ui[o];u.blockedOn===t&&(u.blockedOn=null)}for(;0<ui.length&&(o=ui[0],o.blockedOn===null);)Dm(o),o.blockedOn===null&&ui.shift();if(o=(t.ownerDocument||t).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var m=o[u],v=o[u+1],S=m[wt]||null;if(typeof v=="function")S||Pm(o);else if(S){var T=null;if(v&&v.hasAttribute("formAction")){if(m=v,S=v[wt]||null)T=S.formAction;else if(gc(m)!==null)continue}else T=S.action;typeof T=="function"?o[u+1]=T:(o.splice(u,3),u-=3),Pm(o)}}}function Om(){function t(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(S){return m=S})},focusReset:"manual",scroll:"manual"})}function s(){m!==null&&(m(),m=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),m!==null&&(m(),m=null)}}}function vc(t){this._internalRoot=t}xa.prototype.render=vc.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=jt();Am(o,u,t,s,null,null)},xa.prototype.unmount=vc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Am(t.current,2,null,t,null,null),ea(),s[$i]=null}};function xa(t){this._internalRoot=t}xa.prototype.unstable_scheduleHydration=function(t){if(t){var s=$d();t={blockedOn:null,target:t,priority:s};for(var o=0;o<ui.length&&s!==0&&s<ui[o].priority;o++);ui.splice(o,0,t),o===0&&Dm(t)}};var Lm=e.version;if(Lm!=="19.2.0")throw Error(r(527,Lm,"19.2.0"));Q.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=p(s),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var Eb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ba=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ba.isDisabled&&ba.supportsFiber)try{Zs=ba.inject(Eb),Dt=ba}catch{}}return $r.createRoot=function(t,s){if(!a(t))throw Error(r(299));var o=!1,u="",m=zh,v=$h,S=Fh;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError)),s=wm(t,1,!1,null,null,o,u,null,m,v,S,Om),t[$i]=s.current,Wu(t),new vc(s)},$r.hydrateRoot=function(t,s,o){if(!a(t))throw Error(r(299));var u=!1,m="",v=zh,S=$h,T=Fh,C=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError),o.formState!==void 0&&(C=o.formState)),s=wm(t,1,!0,s,o??null,u,m,C,v,S,T,Om),s.context=Cm(null),o=s.current,u=jt(),u=ll(u),m=Yn(u),m.callback=null,Kn(o,m,u),o=u,s.current.lanes=o,er(s,o),mn(s),t[$i]=s.current,Wu(t),new xa(s)},$r.version="19.2.0",$r}var Jm;function Pb(){if(Jm)return bc.exports;Jm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),bc.exports=Ub(),bc.exports}var Ob=Pb();const Lb=ud(Ob);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let qb,Gb;function Bb(){return{geminiUrl:qb,vertexUrl:Gb}}function jb(n,e,i,r){var a,l;if(!(n!=null&&n.baseUrl)){const c=Bb();return e?(a=c.vertexUrl)!==null&&a!==void 0?a:i:(l=c.geminiUrl)!==null&&l!==void 0?l:r}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ln{}function ee(n,e){const i=/\{([^}]+)\}/g;return n.replace(i,(r,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const l=e[a];return l!=null?String(l):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function f(n,e,i){for(let l=0;l<e.length-1;l++){const c=e[l];if(c.endsWith("[]")){const h=c.slice(0,-2);if(!(h in n))if(Array.isArray(i))n[h]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(n[h])){const g=n[h];if(Array.isArray(i))for(let p=0;p<g.length;p++){const _=g[p];f(_,e.slice(l+1),i[p])}else for(const p of g)f(p,e.slice(l+1),i)}return}else if(c.endsWith("[0]")){const h=c.slice(0,-3);h in n||(n[h]=[{}]);const g=n[h];f(g[0],e.slice(l+1),i);return}(!n[c]||typeof n[c]!="object")&&(n[c]={}),n=n[c]}const r=e[e.length-1],a=n[r];if(a!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===a)return;if(typeof a=="object"&&typeof i=="object"&&a!==null&&i!==null)Object.assign(a,i);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(n,i):n[r]=i}function d(n,e,i=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let r=0;r<e.length;r++){if(typeof n!="object"||n===null)return i;const a=e[r];if(a.endsWith("[]")){const l=a.slice(0,-2);if(l in n){const c=n[l];return Array.isArray(c)?c.map(h=>d(h,e.slice(r+1),i)):i}else return i}else n=n[a]}return n}catch(r){if(r instanceof TypeError)return i;throw r}}function Vb(n,e){for(const[i,r]of Object.entries(e)){const a=i.split("."),l=r.split("."),c=new Set;let h=-1;for(let g=0;g<a.length;g++)if(a[g]==="*"){h=g;break}if(h!==-1&&l.length>h)for(let g=h;g<l.length;g++){const p=l[g];p!=="*"&&!p.endsWith("[]")&&!p.endsWith("[0]")&&c.add(p)}qc(n,a,l,0,c)}}function qc(n,e,i,r,a){if(r>=e.length||typeof n!="object"||n===null)return;const l=e[r];if(l.endsWith("[]")){const c=l.slice(0,-2),h=n;if(c in h&&Array.isArray(h[c]))for(const g of h[c])qc(g,e,i,r+1,a)}else if(l==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const c=n,h=Object.keys(c).filter(p=>!p.startsWith("_")&&!a.has(p)),g={};for(const p of h)g[p]=c[p];for(const[p,_]of Object.entries(g)){const x=[];for(const b of i.slice(r))b==="*"?x.push(p):x.push(b);f(c,x,_)}for(const p of h)delete c[p]}}else{const c=n;l in c&&qc(c[l],e,i,r+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dd(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hb(n){const e={},i=d(n,["operationName"]);i!=null&&f(e,["operationName"],i);const r=d(n,["resourceName"]);return r!=null&&f(e,["_url","resourceName"],r),e}function zb(n){const e={},i=d(n,["name"]);i!=null&&f(e,["name"],i);const r=d(n,["metadata"]);r!=null&&f(e,["metadata"],r);const a=d(n,["done"]);a!=null&&f(e,["done"],a);const l=d(n,["error"]);l!=null&&f(e,["error"],l);const c=d(n,["response","generateVideoResponse"]);return c!=null&&f(e,["response"],Fb(c)),e}function $b(n){const e={},i=d(n,["name"]);i!=null&&f(e,["name"],i);const r=d(n,["metadata"]);r!=null&&f(e,["metadata"],r);const a=d(n,["done"]);a!=null&&f(e,["done"],a);const l=d(n,["error"]);l!=null&&f(e,["error"],l);const c=d(n,["response"]);return c!=null&&f(e,["response"],Jb(c)),e}function Fb(n){const e={},i=d(n,["generatedSamples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>Yb(c))),f(e,["generatedVideos"],l)}const r=d(n,["raiMediaFilteredCount"]);r!=null&&f(e,["raiMediaFilteredCount"],r);const a=d(n,["raiMediaFilteredReasons"]);return a!=null&&f(e,["raiMediaFilteredReasons"],a),e}function Jb(n){const e={},i=d(n,["videos"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>Kb(c))),f(e,["generatedVideos"],l)}const r=d(n,["raiMediaFilteredCount"]);r!=null&&f(e,["raiMediaFilteredCount"],r);const a=d(n,["raiMediaFilteredReasons"]);return a!=null&&f(e,["raiMediaFilteredReasons"],a),e}function Yb(n){const e={},i=d(n,["video"]);return i!=null&&f(e,["video"],tS(i)),e}function Kb(n){const e={},i=d(n,["_self"]);return i!=null&&f(e,["video"],nS(i)),e}function Qb(n){const e={},i=d(n,["operationName"]);return i!=null&&f(e,["_url","operationName"],i),e}function Xb(n){const e={},i=d(n,["operationName"]);return i!=null&&f(e,["_url","operationName"],i),e}function Zb(n){const e={},i=d(n,["name"]);i!=null&&f(e,["name"],i);const r=d(n,["metadata"]);r!=null&&f(e,["metadata"],r);const a=d(n,["done"]);a!=null&&f(e,["done"],a);const l=d(n,["error"]);l!=null&&f(e,["error"],l);const c=d(n,["response"]);return c!=null&&f(e,["response"],Wb(c)),e}function Wb(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["parent"]);r!=null&&f(e,["parent"],r);const a=d(n,["documentName"]);return a!=null&&f(e,["documentName"],a),e}function iy(n){const e={},i=d(n,["name"]);i!=null&&f(e,["name"],i);const r=d(n,["metadata"]);r!=null&&f(e,["metadata"],r);const a=d(n,["done"]);a!=null&&f(e,["done"],a);const l=d(n,["error"]);l!=null&&f(e,["error"],l);const c=d(n,["response"]);return c!=null&&f(e,["response"],eS(c)),e}function eS(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["parent"]);r!=null&&f(e,["parent"],r);const a=d(n,["documentName"]);return a!=null&&f(e,["documentName"],a),e}function tS(n){const e={},i=d(n,["uri"]);i!=null&&f(e,["uri"],i);const r=d(n,["encodedVideo"]);r!=null&&f(e,["videoBytes"],dd(r));const a=d(n,["encoding"]);return a!=null&&f(e,["mimeType"],a),e}function nS(n){const e={},i=d(n,["gcsUri"]);i!=null&&f(e,["uri"],i);const r=d(n,["bytesBase64Encoded"]);r!=null&&f(e,["videoBytes"],dd(r));const a=d(n,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ym;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Ym||(Ym={}));var Km;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Km||(Km={}));var Qm;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Qm||(Qm={}));var hi;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(hi||(hi={}));var Xm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Xm||(Xm={}));var Zm;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Zm||(Zm={}));var Wm;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Wm||(Wm={}));var eg;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(eg||(eg={}));var tg;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(tg||(tg={}));var ng;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.HIGH="HIGH"})(ng||(ng={}));var ig;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(ig||(ig={}));var sg;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(sg||(sg={}));var rg;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(rg||(rg={}));var og;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE"})(og||(og={}));var ag;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(ag||(ag={}));var lg;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(lg||(lg={}));var ug;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(ug||(ug={}));var cg;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(cg||(cg={}));var dg;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(dg||(dg={}));var Zr;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Zr||(Zr={}));var fg;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(fg||(fg={}));var hg;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(hg||(hg={}));var pg;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(pg||(pg={}));var Gc;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Gc||(Gc={}));var mg;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(mg||(mg={}));var gg;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(gg||(gg={}));var yg;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(yg||(yg={}));var vg;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(vg||(vg={}));var _g;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(_g||(_g={}));var xg;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(xg||(xg={}));var bg;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(bg||(bg={}));var Sg;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Sg||(Sg={}));var Eg;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Eg||(Eg={}));var Tg;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(Tg||(Tg={}));var wg;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(wg||(wg={}));var Cg;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Cg||(Cg={}));var Ag;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Ag||(Ag={}));var Ng;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Ng||(Ng={}));var Rg;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(Rg||(Rg={}));var Mg;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(Mg||(Mg={}));var Ig;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(Ig||(Ig={}));var kg;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(kg||(kg={}));var Dg;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Dg||(Dg={}));var Ug;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(Ug||(Ug={}));var Pg;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Pg||(Pg={}));var Og;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(Og||(Og={}));var Lg;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Lg||(Lg={}));var qg;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(qg||(qg={}));var Gg;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Gg||(Gg={}));var Bg;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Bg||(Bg={}));var jg;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(jg||(jg={}));var Vg;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Vg||(Vg={}));var Hg;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Hg||(Hg={}));var zg;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(zg||(zg={}));var Ls;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Ls||(Ls={}));class Bc{constructor(e){const i={};for(const r of e.headers.entries())i[r[0]]=r[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class Fr{get text(){var e,i,r,a,l,c,h,g;if(((a=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",_=!1;const x=[];for(const b of(g=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&g!==void 0?g:[]){for(const[E,w]of Object.entries(b))E!=="text"&&E!=="thought"&&E!=="thoughtSignature"&&(w!==null||w!==void 0)&&x.push(E);if(typeof b.text=="string"){if(typeof b.thought=="boolean"&&b.thought)continue;_=!0,p+=b.text}}return x.length>0&&console.warn(`there are non-text parts ${x} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),_?p:void 0}get data(){var e,i,r,a,l,c,h,g;if(((a=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const _=[];for(const x of(g=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&g!==void 0?g:[]){for(const[b,E]of Object.entries(x))b!=="inlineData"&&(E!==null||E!==void 0)&&_.push(b);x.inlineData&&typeof x.inlineData.data=="string"&&(p+=atob(x.inlineData.data))}return _.length>0&&console.warn(`there are non-data parts ${_} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,i,r,a,l,c,h,g;if(((a=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(g=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(_=>_.functionCall).map(_=>_.functionCall).filter(_=>_!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,i,r,a,l,c,h,g,p;if(((a=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const _=(g=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(x=>x.executableCode).map(x=>x.executableCode).filter(x=>x!==void 0);if((_==null?void 0:_.length)!==0)return(p=_==null?void 0:_[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,i,r,a,l,c,h,g,p;if(((a=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const _=(g=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(x=>x.codeExecutionResult).map(x=>x.codeExecutionResult).filter(x=>x!==void 0);if((_==null?void 0:_.length)!==0)return(p=_==null?void 0:_[0])===null||p===void 0?void 0:p.output}}class $g{}class Fg{}class iS{}class sS{}class rS{}class oS{}class Jg{}class Yg{}class Kg{}class aS{}class Ua{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const r=new Ua;let a;const l=e;return i?a=$b(l):a=zb(l),Object.assign(r,a),r}}class Qg{}class Xg{}class Zg{}class lS{}class uS{}class cS{}class fd{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const r=new fd,l=Zb(e);return Object.assign(r,l),r}}class dS{}class fS{}class hS{}class Wg{}class pS{get text(){var e,i,r;let a="",l=!1;const c=[];for(const h of(r=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&r!==void 0?r:[]){for(const[g,p]of Object.entries(h))g!=="text"&&g!=="thought"&&p!==null&&c.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;l=!0,a+=h.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?a:void 0}get data(){var e,i,r;let a="";const l=[];for(const c of(r=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&r!==void 0?r:[]){for(const[h,g]of Object.entries(c))h!=="inlineData"&&g!==null&&l.push(h);c.inlineData&&typeof c.inlineData.data=="string"&&(a+=atob(c.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class mS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class hd{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const r=new hd,l=iy(e);return Object.assign(r,l),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ie(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function sy(n,e){const i=Ie(n,e);return i?i.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${i}`:i.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${i}`:i:""}function ry(n){return Array.isArray(n)?n.map(e=>Pa(e)):[Pa(n)]}function Pa(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function oy(n){const e=Pa(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function ay(n){const e=Pa(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function e0(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function ly(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>e0(e)):[e0(n)]}function jc(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function t0(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function n0(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Et(n){if(n==null)throw new Error("ContentUnion is required");return jc(n)?n:{role:"user",parts:ly(n)}}function pd(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const r=Et(i);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(n.isVertexAI()){const i=Et(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>Et(i)):[Et(e)]}function nn(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(t0(n)||n0(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Et(n)]}const e=[],i=[],r=jc(n[0]);for(const a of n){const l=jc(a);if(l!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(a);else{if(t0(a)||n0(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(a)}}return r||e.push({role:"user",parts:ly(i)}),e}function gS(n,e){n.includes("null")&&(e.nullable=!0);const i=n.filter(r=>r!=="null");if(i.length===1)e.type=Object.values(hi).includes(i[0].toUpperCase())?i[0].toUpperCase():hi.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of i)e.anyOf.push({type:Object.values(hi).includes(r.toUpperCase())?r.toUpperCase():hi.TYPE_UNSPECIFIED})}}function qs(n){const e={},i=["items"],r=["anyOf"],a=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=n.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,n=l[1]):l[1].type==="null"&&(e.nullable=!0,n=l[0])),n.type instanceof Array&&gS(n.type,e);for(const[c,h]of Object.entries(n))if(h!=null)if(c=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(hi).includes(h.toUpperCase())?h.toUpperCase():hi.TYPE_UNSPECIFIED}else if(i.includes(c))e[c]=qs(h);else if(r.includes(c)){const g=[];for(const p of h){if(p.type=="null"){e.nullable=!0;continue}g.push(qs(p))}e[c]=g}else if(a.includes(c)){const g={};for(const[p,_]of Object.entries(h))g[p]=qs(_);e[c]=g}else{if(c==="additionalProperties")continue;e[c]=h}return e}function md(n){return qs(n)}function gd(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function yd(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function $s(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=qs(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=qs(e.response));return n}function Fs(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of n)e.push(i);return e}function yS(n,e,i,r=1){const a=!e.startsWith(`${i}/`)&&e.split("/").length===r;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:a?`projects/${n.getProject()}/locations/${n.getLocation()}/${i}/${e}`:e:a?`${i}/${e}`:e}function qn(n,e){if(typeof e!="string")throw new Error("name must be a string");return yS(n,e,"cachedContents")}function uy(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function mi(n){return dd(n)}function vS(n){return n!=null&&typeof n=="object"&&"name"in n}function _S(n){return n!=null&&typeof n=="object"&&"video"in n}function xS(n){return n!=null&&typeof n=="object"&&"uri"in n}function cy(n){var e;let i;if(vS(n)&&(i=n.name),!(xS(n)&&(i=n.uri,i===void 0))&&!(_S(n)&&(i=(e=n.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof n=="string"&&(i=n),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const a=i.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${i}`);i=a[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function dy(n,e){let i;return n.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function fy(n){for(const e of["models","tunedModels","publisherModels"])if(bS(n,e))return n[e];return[]}function bS(n,e){return n!==null&&typeof n=="object"&&e in n}function SS(n,e={}){const i=n,r={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(r.responseJsonSchema=i.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function ES(n,e={}){const i=[],r=new Set;for(const a of n){const l=a.name;if(r.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);r.add(l);const c=SS(a,e);c.functionDeclarations&&i.push(...c.functionDeclarations)}return{functionDeclarations:i}}function hy(n,e){let i;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))i={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))i={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))i={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:e}}else i=e;const r=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,a=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(n.isVertexAI()){if(a>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function TS(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function py(n){if(typeof n!="object"||n===null)return{};const e=n,i=e.inlinedResponses;if(typeof i!="object"||i===null)return n;const a=i.inlinedResponses;if(!Array.isArray(a)||a.length===0)return n;let l=!1;for(const c of a){if(typeof c!="object"||c===null)continue;const g=c.response;if(typeof g!="object"||g===null)continue;if(g.embedding!==void 0){l=!0;break}}return l&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Js(n,e){const i=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function my(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wS(n){const e={},i=d(n,["responsesFile"]);i!=null&&f(e,["fileName"],i);const r=d(n,["inlinedResponses","inlinedResponses"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>rE(c))),f(e,["inlinedResponses"],l)}const a=d(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["inlinedEmbedContentResponses"],l)}return e}function CS(n){const e={},i=d(n,["predictionsFormat"]);i!=null&&f(e,["format"],i);const r=d(n,["gcsDestination","outputUriPrefix"]);r!=null&&f(e,["gcsUri"],r);const a=d(n,["bigqueryDestination","outputUri"]);return a!=null&&f(e,["bigqueryUri"],a),e}function AS(n){const e={},i=d(n,["format"]);i!=null&&f(e,["predictionsFormat"],i);const r=d(n,["gcsUri"]);r!=null&&f(e,["gcsDestination","outputUriPrefix"],r);const a=d(n,["bigqueryUri"]);if(a!=null&&f(e,["bigqueryDestination","outputUri"],a),d(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function ka(n){const e={},i=d(n,["name"]);i!=null&&f(e,["name"],i);const r=d(n,["metadata","displayName"]);r!=null&&f(e,["displayName"],r);const a=d(n,["metadata","state"]);a!=null&&f(e,["state"],my(a));const l=d(n,["metadata","createTime"]);l!=null&&f(e,["createTime"],l);const c=d(n,["metadata","endTime"]);c!=null&&f(e,["endTime"],c);const h=d(n,["metadata","updateTime"]);h!=null&&f(e,["updateTime"],h);const g=d(n,["metadata","model"]);g!=null&&f(e,["model"],g);const p=d(n,["metadata","output"]);return p!=null&&f(e,["dest"],wS(py(p))),e}function Vc(n){const e={},i=d(n,["name"]);i!=null&&f(e,["name"],i);const r=d(n,["displayName"]);r!=null&&f(e,["displayName"],r);const a=d(n,["state"]);a!=null&&f(e,["state"],my(a));const l=d(n,["error"]);l!=null&&f(e,["error"],l);const c=d(n,["createTime"]);c!=null&&f(e,["createTime"],c);const h=d(n,["startTime"]);h!=null&&f(e,["startTime"],h);const g=d(n,["endTime"]);g!=null&&f(e,["endTime"],g);const p=d(n,["updateTime"]);p!=null&&f(e,["updateTime"],p);const _=d(n,["model"]);_!=null&&f(e,["model"],_);const x=d(n,["inputConfig"]);x!=null&&f(e,["src"],NS(x));const b=d(n,["outputConfig"]);b!=null&&f(e,["dest"],CS(py(b)));const E=d(n,["completionStats"]);return E!=null&&f(e,["completionStats"],E),e}function NS(n){const e={},i=d(n,["instancesFormat"]);i!=null&&f(e,["format"],i);const r=d(n,["gcsSource","uris"]);r!=null&&f(e,["gcsUri"],r);const a=d(n,["bigquerySource","inputUri"]);return a!=null&&f(e,["bigqueryUri"],a),e}function RS(n,e){const i={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=d(e,["fileName"]);r!=null&&f(i,["fileName"],r);const a=d(e,["inlinedRequests"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>sE(n,c))),f(i,["requests","requests"],l)}return i}function MS(n){const e={},i=d(n,["format"]);i!=null&&f(e,["instancesFormat"],i);const r=d(n,["gcsUri"]);r!=null&&f(e,["gcsSource","uris"],r);const a=d(n,["bigqueryUri"]);if(a!=null&&f(e,["bigquerySource","inputUri"],a),d(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function IS(n){const e={},i=d(n,["data"]);if(i!=null&&f(e,["data"],i),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(n,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function kS(n,e){const i={},r=d(e,["name"]);return r!=null&&f(i,["_url","name"],Js(n,r)),i}function DS(n,e){const i={},r=d(e,["name"]);return r!=null&&f(i,["_url","name"],Js(n,r)),i}function US(n){const e={},i=d(n,["content"]);i!=null&&f(e,["content"],i);const r=d(n,["citationMetadata"]);r!=null&&f(e,["citationMetadata"],PS(r));const a=d(n,["tokenCount"]);a!=null&&f(e,["tokenCount"],a);const l=d(n,["finishReason"]);l!=null&&f(e,["finishReason"],l);const c=d(n,["avgLogprobs"]);c!=null&&f(e,["avgLogprobs"],c);const h=d(n,["groundingMetadata"]);h!=null&&f(e,["groundingMetadata"],h);const g=d(n,["index"]);g!=null&&f(e,["index"],g);const p=d(n,["logprobsResult"]);p!=null&&f(e,["logprobsResult"],p);const _=d(n,["safetyRatings"]);if(_!=null){let b=_;Array.isArray(b)&&(b=b.map(E=>E)),f(e,["safetyRatings"],b)}const x=d(n,["urlContextMetadata"]);return x!=null&&f(e,["urlContextMetadata"],x),e}function PS(n){const e={},i=d(n,["citationSources"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),f(e,["citations"],r)}return e}function gy(n){const e={},i=d(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>fE(l))),f(e,["parts"],a)}const r=d(n,["role"]);return r!=null&&f(e,["role"],r),e}function OS(n,e){const i={},r=d(n,["displayName"]);if(e!==void 0&&r!=null&&f(e,["batch","displayName"],r),d(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function LS(n,e){const i={},r=d(n,["displayName"]);e!==void 0&&r!=null&&f(e,["displayName"],r);const a=d(n,["dest"]);return e!==void 0&&a!=null&&f(e,["outputConfig"],AS(TS(a))),i}function i0(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Ie(n,r));const a=d(e,["src"]);a!=null&&f(i,["batch","inputConfig"],RS(n,hy(n,a)));const l=d(e,["config"]);return l!=null&&OS(l,i),i}function qS(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["model"],Ie(n,r));const a=d(e,["src"]);a!=null&&f(i,["inputConfig"],MS(hy(n,a)));const l=d(e,["config"]);return l!=null&&LS(l,i),i}function GS(n,e){const i={},r=d(n,["displayName"]);return e!==void 0&&r!=null&&f(e,["batch","displayName"],r),i}function BS(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Ie(n,r));const a=d(e,["src"]);a!=null&&f(i,["batch","inputConfig"],JS(n,a));const l=d(e,["config"]);return l!=null&&GS(l,i),i}function jS(n,e){const i={},r=d(e,["name"]);return r!=null&&f(i,["_url","name"],Js(n,r)),i}function VS(n,e){const i={},r=d(e,["name"]);return r!=null&&f(i,["_url","name"],Js(n,r)),i}function HS(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["name"]);r!=null&&f(e,["name"],r);const a=d(n,["done"]);a!=null&&f(e,["done"],a);const l=d(n,["error"]);return l!=null&&f(e,["error"],l),e}function zS(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["name"]);r!=null&&f(e,["name"],r);const a=d(n,["done"]);a!=null&&f(e,["done"],a);const l=d(n,["error"]);return l!=null&&f(e,["error"],l),e}function $S(n,e){const i={},r=d(e,["contents"]);if(r!=null){let l=pd(n,r);Array.isArray(l)&&(l=l.map(c=>c)),f(i,["requests[]","request","content"],l)}const a=d(e,["config"]);return a!=null&&(f(i,["_self"],FS(a,i)),Vb(i,{"requests[].*":"requests[].request.*"})),i}function FS(n,e){const i={},r=d(n,["taskType"]);e!==void 0&&r!=null&&f(e,["requests[]","taskType"],r);const a=d(n,["title"]);e!==void 0&&a!=null&&f(e,["requests[]","title"],a);const l=d(n,["outputDimensionality"]);if(e!==void 0&&l!=null&&f(e,["requests[]","outputDimensionality"],l),d(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function JS(n,e){const i={},r=d(e,["fileName"]);r!=null&&f(i,["file_name"],r);const a=d(e,["inlinedRequests"]);return a!=null&&f(i,["requests"],$S(n,a)),i}function YS(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["fileUri"]);i!=null&&f(e,["fileUri"],i);const r=d(n,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function KS(n){const e={},i=d(n,["id"]);i!=null&&f(e,["id"],i);const r=d(n,["args"]);r!=null&&f(e,["args"],r);const a=d(n,["name"]);if(a!=null&&f(e,["name"],a),d(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function QS(n){const e={},i=d(n,["mode"]);i!=null&&f(e,["mode"],i);const r=d(n,["allowedFunctionNames"]);if(r!=null&&f(e,["allowedFunctionNames"],r),d(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function XS(n,e,i){const r={},a=d(e,["systemInstruction"]);i!==void 0&&a!=null&&f(i,["systemInstruction"],gy(Et(a)));const l=d(e,["temperature"]);l!=null&&f(r,["temperature"],l);const c=d(e,["topP"]);c!=null&&f(r,["topP"],c);const h=d(e,["topK"]);h!=null&&f(r,["topK"],h);const g=d(e,["candidateCount"]);g!=null&&f(r,["candidateCount"],g);const p=d(e,["maxOutputTokens"]);p!=null&&f(r,["maxOutputTokens"],p);const _=d(e,["stopSequences"]);_!=null&&f(r,["stopSequences"],_);const x=d(e,["responseLogprobs"]);x!=null&&f(r,["responseLogprobs"],x);const b=d(e,["logprobs"]);b!=null&&f(r,["logprobs"],b);const E=d(e,["presencePenalty"]);E!=null&&f(r,["presencePenalty"],E);const w=d(e,["frequencyPenalty"]);w!=null&&f(r,["frequencyPenalty"],w);const N=d(e,["seed"]);N!=null&&f(r,["seed"],N);const I=d(e,["responseMimeType"]);I!=null&&f(r,["responseMimeType"],I);const P=d(e,["responseSchema"]);P!=null&&f(r,["responseSchema"],md(P));const k=d(e,["responseJsonSchema"]);if(k!=null&&f(r,["responseJsonSchema"],k),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const A=d(e,["safetySettings"]);if(i!==void 0&&A!=null){let oe=A;Array.isArray(oe)&&(oe=oe.map(ve=>hE(ve))),f(i,["safetySettings"],oe)}const j=d(e,["tools"]);if(i!==void 0&&j!=null){let oe=Fs(j);Array.isArray(oe)&&(oe=oe.map(ve=>mE($s(ve)))),f(i,["tools"],oe)}const D=d(e,["toolConfig"]);if(i!==void 0&&D!=null&&f(i,["toolConfig"],pE(D)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Y=d(e,["cachedContent"]);i!==void 0&&Y!=null&&f(i,["cachedContent"],qn(n,Y));const G=d(e,["responseModalities"]);G!=null&&f(r,["responseModalities"],G);const W=d(e,["mediaResolution"]);W!=null&&f(r,["mediaResolution"],W);const K=d(e,["speechConfig"]);if(K!=null&&f(r,["speechConfig"],gd(K)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const te=d(e,["thinkingConfig"]);te!=null&&f(r,["thinkingConfig"],te);const ue=d(e,["imageConfig"]);return ue!=null&&f(r,["imageConfig"],iE(ue)),r}function ZS(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["candidates"]);if(r!=null){let g=r;Array.isArray(g)&&(g=g.map(p=>US(p))),f(e,["candidates"],g)}const a=d(n,["modelVersion"]);a!=null&&f(e,["modelVersion"],a);const l=d(n,["promptFeedback"]);l!=null&&f(e,["promptFeedback"],l);const c=d(n,["responseId"]);c!=null&&f(e,["responseId"],c);const h=d(n,["usageMetadata"]);return h!=null&&f(e,["usageMetadata"],h),e}function WS(n,e){const i={},r=d(e,["name"]);return r!=null&&f(i,["_url","name"],Js(n,r)),i}function eE(n,e){const i={},r=d(e,["name"]);return r!=null&&f(i,["_url","name"],Js(n,r)),i}function tE(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(n,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function nE(n){const e={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(n,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function iE(n){const e={},i=d(n,["aspectRatio"]);i!=null&&f(e,["aspectRatio"],i);const r=d(n,["imageSize"]);if(r!=null&&f(e,["imageSize"],r),d(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function sE(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["request","model"],Ie(n,r));const a=d(e,["contents"]);if(a!=null){let h=nn(a);Array.isArray(h)&&(h=h.map(g=>gy(g))),f(i,["request","contents"],h)}const l=d(e,["metadata"]);l!=null&&f(i,["metadata"],l);const c=d(e,["config"]);return c!=null&&f(i,["request","generationConfig"],XS(n,c,d(i,["request"],{}))),i}function rE(n){const e={},i=d(n,["response"]);i!=null&&f(e,["response"],ZS(i));const r=d(n,["error"]);return r!=null&&f(e,["error"],r),e}function oE(n,e){const i={},r=d(n,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);const a=d(n,["pageToken"]);if(e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),d(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function aE(n,e){const i={},r=d(n,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);const a=d(n,["pageToken"]);e!==void 0&&a!=null&&f(e,["_query","pageToken"],a);const l=d(n,["filter"]);return e!==void 0&&l!=null&&f(e,["_query","filter"],l),i}function lE(n){const e={},i=d(n,["config"]);return i!=null&&oE(i,e),e}function uE(n){const e={},i=d(n,["config"]);return i!=null&&aE(i,e),e}function cE(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const a=d(n,["operations"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>ka(c))),f(e,["batchJobs"],l)}return e}function dE(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const a=d(n,["batchPredictionJobs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>Vc(c))),f(e,["batchJobs"],l)}return e}function fE(n){const e={},i=d(n,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const r=d(n,["codeExecutionResult"]);r!=null&&f(e,["codeExecutionResult"],r);const a=d(n,["executableCode"]);a!=null&&f(e,["executableCode"],a);const l=d(n,["fileData"]);l!=null&&f(e,["fileData"],YS(l));const c=d(n,["functionCall"]);c!=null&&f(e,["functionCall"],KS(c));const h=d(n,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const g=d(n,["inlineData"]);g!=null&&f(e,["inlineData"],IS(g));const p=d(n,["text"]);p!=null&&f(e,["text"],p);const _=d(n,["thought"]);_!=null&&f(e,["thought"],_);const x=d(n,["thoughtSignature"]);x!=null&&f(e,["thoughtSignature"],x);const b=d(n,["videoMetadata"]);return b!=null&&f(e,["videoMetadata"],b),e}function hE(n){const e={},i=d(n,["category"]);if(i!=null&&f(e,["category"],i),d(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=d(n,["threshold"]);return r!=null&&f(e,["threshold"],r),e}function pE(n){const e={},i=d(n,["functionCallingConfig"]);i!=null&&f(e,["functionCallingConfig"],QS(i));const r=d(n,["retrievalConfig"]);return r!=null&&f(e,["retrievalConfig"],r),e}function mE(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let _=i;Array.isArray(_)&&(_=_.map(x=>x)),f(e,["functionDeclarations"],_)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(n,["googleSearchRetrieval"]);r!=null&&f(e,["googleSearchRetrieval"],r);const a=d(n,["computerUse"]);a!=null&&f(e,["computerUse"],a);const l=d(n,["fileSearch"]);l!=null&&f(e,["fileSearch"],l);const c=d(n,["codeExecution"]);if(c!=null&&f(e,["codeExecution"],c),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=d(n,["googleMaps"]);h!=null&&f(e,["googleMaps"],tE(h));const g=d(n,["googleSearch"]);g!=null&&f(e,["googleSearch"],nE(g));const p=d(n,["urlContext"]);return p!=null&&f(e,["urlContext"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Pn;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(Pn||(Pn={}));class zi{constructor(e,i,r,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,r,a)}init(e,i,r){var a,l;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!r||Object.keys(r).length===0?c={config:{}}:typeof r=="object"?c=Object.assign({},r):c=r,c.config&&(c.config.pageToken=i.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(l=(a=c.config)===null||a===void 0?void 0:a.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gE extends Ln{constructor(e){super(),this.apiClient=e,this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)},this.list=async(i={})=>new zi(Pn.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(i),i)}createInlinedGenerateContentRequest(e){const i=i0(this.apiClient,e),r=i._url,a=ee("{model}:batchGenerateContent",r),h=i.batch.inputConfig.requests,g=h.requests,p=[];for(const _ of g){const x=Object.assign({},_);if(x.systemInstruction){const b=x.systemInstruction;delete x.systemInstruction;const E=x.request;E.systemInstruction=b,x.request=E}p.push(x)}return h.requests=p,delete i.config,delete i._url,delete i._query,{path:a,body:i}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,i){const r=i?Object.assign({},i):{},a=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${a}`),r.dest===void 0){const l=this.getGcsUri(e),c=this.getBigqueryUri(e);if(l)l.endsWith(".jsonl")?r.dest=`${l.slice(0,-6)}/dest`:r.dest=`${l}_dest_${a}`;else if(c)r.dest=`${c}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=qS(this.apiClient,e);return h=ee("batchPredictionJobs",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>Vc(_))}else{const p=i0(this.apiClient,e);return h=ee("{model}:batchGenerateContent",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>ka(_))}}async createEmbeddingsInternal(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=BS(this.apiClient,e);return l=ee("{model}:asyncBatchEmbedContent",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>ka(g))}}async get(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=eE(this.apiClient,e);return h=ee("batchPredictionJobs/{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>Vc(_))}else{const p=WS(this.apiClient,e);return h=ee("batches/{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>ka(_))}}async cancel(e){var i,r,a,l;let c="",h={};if(this.apiClient.isVertexAI()){const g=DS(this.apiClient,e);c=ee("batchPredictionJobs/{name}:cancel",g._url),h=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const g=kS(this.apiClient,e);c=ee("batches/{name}:cancel",g._url),h=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=uE(e);return h=ee("batchPredictionJobs",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>{const x=dE(_),b=new Wg;return Object.assign(b,x),b})}else{const p=lE(e);return h=ee("batches",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>{const x=cE(_),b=new Wg;return Object.assign(b,x),b})}}async delete(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=VS(this.apiClient,e);return h=ee("batchPredictionJobs/{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>zS(_))}else{const p=jS(this.apiClient,e);return h=ee("batches/{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>HS(_))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yE(n){const e={},i=d(n,["data"]);if(i!=null&&f(e,["data"],i),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(n,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function s0(n){const e={},i=d(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>BE(l))),f(e,["parts"],a)}const r=d(n,["role"]);return r!=null&&f(e,["role"],r),e}function vE(n,e){const i={},r=d(n,["ttl"]);e!==void 0&&r!=null&&f(e,["ttl"],r);const a=d(n,["expireTime"]);e!==void 0&&a!=null&&f(e,["expireTime"],a);const l=d(n,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const c=d(n,["contents"]);if(e!==void 0&&c!=null){let _=nn(c);Array.isArray(_)&&(_=_.map(x=>s0(x))),f(e,["contents"],_)}const h=d(n,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],s0(Et(h)));const g=d(n,["tools"]);if(e!==void 0&&g!=null){let _=g;Array.isArray(_)&&(_=_.map(x=>VE(x))),f(e,["tools"],_)}const p=d(n,["toolConfig"]);if(e!==void 0&&p!=null&&f(e,["toolConfig"],jE(p)),d(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function _E(n,e){const i={},r=d(n,["ttl"]);e!==void 0&&r!=null&&f(e,["ttl"],r);const a=d(n,["expireTime"]);e!==void 0&&a!=null&&f(e,["expireTime"],a);const l=d(n,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const c=d(n,["contents"]);if(e!==void 0&&c!=null){let x=nn(c);Array.isArray(x)&&(x=x.map(b=>b)),f(e,["contents"],x)}const h=d(n,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],Et(h));const g=d(n,["tools"]);if(e!==void 0&&g!=null){let x=g;Array.isArray(x)&&(x=x.map(b=>HE(b))),f(e,["tools"],x)}const p=d(n,["toolConfig"]);e!==void 0&&p!=null&&f(e,["toolConfig"],p);const _=d(n,["kmsKeyName"]);return e!==void 0&&_!=null&&f(e,["encryption_spec","kmsKeyName"],_),i}function xE(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["model"],sy(n,r));const a=d(e,["config"]);return a!=null&&vE(a,i),i}function bE(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["model"],sy(n,r));const a=d(e,["config"]);return a!=null&&_E(a,i),i}function SE(n,e){const i={},r=d(e,["name"]);return r!=null&&f(i,["_url","name"],qn(n,r)),i}function EE(n,e){const i={},r=d(e,["name"]);return r!=null&&f(i,["_url","name"],qn(n,r)),i}function TE(n){const e={},i=d(n,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function wE(n){const e={},i=d(n,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function CE(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["fileUri"]);i!=null&&f(e,["fileUri"],i);const r=d(n,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function AE(n){const e={},i=d(n,["id"]);i!=null&&f(e,["id"],i);const r=d(n,["args"]);r!=null&&f(e,["args"],r);const a=d(n,["name"]);if(a!=null&&f(e,["name"],a),d(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function NE(n){const e={},i=d(n,["mode"]);i!=null&&f(e,["mode"],i);const r=d(n,["allowedFunctionNames"]);if(r!=null&&f(e,["allowedFunctionNames"],r),d(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function RE(n){const e={};if(d(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(n,["description"]);i!=null&&f(e,["description"],i);const r=d(n,["name"]);r!=null&&f(e,["name"],r);const a=d(n,["parameters"]);a!=null&&f(e,["parameters"],a);const l=d(n,["parametersJsonSchema"]);l!=null&&f(e,["parametersJsonSchema"],l);const c=d(n,["response"]);c!=null&&f(e,["response"],c);const h=d(n,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function ME(n,e){const i={},r=d(e,["name"]);return r!=null&&f(i,["_url","name"],qn(n,r)),i}function IE(n,e){const i={},r=d(e,["name"]);return r!=null&&f(i,["_url","name"],qn(n,r)),i}function kE(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(n,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function DE(n){const e={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(n,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function UE(n,e){const i={},r=d(n,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);const a=d(n,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),i}function PE(n,e){const i={},r=d(n,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);const a=d(n,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),i}function OE(n){const e={},i=d(n,["config"]);return i!=null&&UE(i,e),e}function LE(n){const e={},i=d(n,["config"]);return i!=null&&PE(i,e),e}function qE(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const a=d(n,["cachedContents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["cachedContents"],l)}return e}function GE(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const a=d(n,["cachedContents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["cachedContents"],l)}return e}function BE(n){const e={},i=d(n,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const r=d(n,["codeExecutionResult"]);r!=null&&f(e,["codeExecutionResult"],r);const a=d(n,["executableCode"]);a!=null&&f(e,["executableCode"],a);const l=d(n,["fileData"]);l!=null&&f(e,["fileData"],CE(l));const c=d(n,["functionCall"]);c!=null&&f(e,["functionCall"],AE(c));const h=d(n,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const g=d(n,["inlineData"]);g!=null&&f(e,["inlineData"],yE(g));const p=d(n,["text"]);p!=null&&f(e,["text"],p);const _=d(n,["thought"]);_!=null&&f(e,["thought"],_);const x=d(n,["thoughtSignature"]);x!=null&&f(e,["thoughtSignature"],x);const b=d(n,["videoMetadata"]);return b!=null&&f(e,["videoMetadata"],b),e}function jE(n){const e={},i=d(n,["functionCallingConfig"]);i!=null&&f(e,["functionCallingConfig"],NE(i));const r=d(n,["retrievalConfig"]);return r!=null&&f(e,["retrievalConfig"],r),e}function VE(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let _=i;Array.isArray(_)&&(_=_.map(x=>x)),f(e,["functionDeclarations"],_)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(n,["googleSearchRetrieval"]);r!=null&&f(e,["googleSearchRetrieval"],r);const a=d(n,["computerUse"]);a!=null&&f(e,["computerUse"],a);const l=d(n,["fileSearch"]);l!=null&&f(e,["fileSearch"],l);const c=d(n,["codeExecution"]);if(c!=null&&f(e,["codeExecution"],c),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=d(n,["googleMaps"]);h!=null&&f(e,["googleMaps"],kE(h));const g=d(n,["googleSearch"]);g!=null&&f(e,["googleSearch"],DE(g));const p=d(n,["urlContext"]);return p!=null&&f(e,["urlContext"],p),e}function HE(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(b=>RE(b))),f(e,["functionDeclarations"],x)}const r=d(n,["retrieval"]);r!=null&&f(e,["retrieval"],r);const a=d(n,["googleSearchRetrieval"]);a!=null&&f(e,["googleSearchRetrieval"],a);const l=d(n,["computerUse"]);if(l!=null&&f(e,["computerUse"],l),d(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(n,["codeExecution"]);c!=null&&f(e,["codeExecution"],c);const h=d(n,["enterpriseWebSearch"]);h!=null&&f(e,["enterpriseWebSearch"],h);const g=d(n,["googleMaps"]);g!=null&&f(e,["googleMaps"],g);const p=d(n,["googleSearch"]);p!=null&&f(e,["googleSearch"],p);const _=d(n,["urlContext"]);return _!=null&&f(e,["urlContext"],_),e}function zE(n,e){const i={},r=d(n,["ttl"]);e!==void 0&&r!=null&&f(e,["ttl"],r);const a=d(n,["expireTime"]);return e!==void 0&&a!=null&&f(e,["expireTime"],a),i}function $E(n,e){const i={},r=d(n,["ttl"]);e!==void 0&&r!=null&&f(e,["ttl"],r);const a=d(n,["expireTime"]);return e!==void 0&&a!=null&&f(e,["expireTime"],a),i}function FE(n,e){const i={},r=d(e,["name"]);r!=null&&f(i,["_url","name"],qn(n,r));const a=d(e,["config"]);return a!=null&&zE(a,i),i}function JE(n,e){const i={},r=d(e,["name"]);r!=null&&f(i,["_url","name"],qn(n,r));const a=d(e,["config"]);return a!=null&&$E(a,i),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YE extends Ln{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new zi(Pn.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(i),i)}async create(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=bE(this.apiClient,e);return h=ee("cachedContents",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>_)}else{const p=xE(this.apiClient,e);return h=ee("cachedContents",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>_)}}async get(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=IE(this.apiClient,e);return h=ee("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>_)}else{const p=ME(this.apiClient,e);return h=ee("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>_)}}async delete(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=EE(this.apiClient,e);return h=ee("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>{const x=wE(_),b=new Xg;return Object.assign(b,x),b})}else{const p=SE(this.apiClient,e);return h=ee("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>{const x=TE(_),b=new Xg;return Object.assign(b,x),b})}}async update(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=JE(this.apiClient,e);return h=ee("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>_)}else{const p=FE(this.apiClient,e);return h=ee("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>_)}}async listInternal(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=LE(e);return h=ee("cachedContents",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>{const x=GE(_),b=new Zg;return Object.assign(b,x),b})}else{const p=OE(e);return h=ee("cachedContents",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>{const x=qE(_),b=new Zg;return Object.assign(b,x),b})}}}function r0(n){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&n[e],r=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Je(n){return this instanceof Je?(this.v=n,this):new Je(n)}function Gs(n,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i.apply(n,e||[]),a,l=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(E){return function(w){return Promise.resolve(w).then(E,x)}}function h(E,w){r[E]&&(a[E]=function(N){return new Promise(function(I,P){l.push([E,N,I,P])>1||g(E,N)})},w&&(a[E]=w(a[E])))}function g(E,w){try{p(r[E](w))}catch(N){b(l[0][3],N)}}function p(E){E.value instanceof Je?Promise.resolve(E.value.v).then(_,x):b(l[0][2],E)}function _(E){g("next",E)}function x(E){g("throw",E)}function b(E,w){E(w),l.shift(),l.length&&g(l[0][0],l[0][1])}}function Yr(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],i;return e?e.call(n):(n=typeof r0=="function"?r0(n):n[Symbol.iterator](),i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i);function r(l){i[l]=n[l]&&function(c){return new Promise(function(h,g){c=n[l](c),a(h,g,c.done,c.value)})}}function a(l,c,h,g){Promise.resolve(g).then(function(p){l({value:p,done:h})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KE(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const i=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:yy(i)}function yy(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function QE(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function o0(n){if(n===void 0||n.length===0)return[];const e=[],i=n.length;let r=0;for(;r<i;)if(n[r].role==="user")e.push(n[r]),r++;else{const a=[];let l=!0;for(;r<i&&n[r].role==="model";)a.push(n[r]),l&&!yy(n[r])&&(l=!1),r++;l?e.push(...a):e.pop()}return e}class XE{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new ZE(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class ZE{constructor(e,i,r,a={},l=[]){this.apiClient=e,this.modelsModule=i,this.model=r,this.config=a,this.history=l,this.sendPromise=Promise.resolve(),QE(l)}async sendMessage(e){var i;await this.sendPromise;const r=Et(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var l,c,h;const g=await a,p=(c=(l=g.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content,_=g.automaticFunctionCallingHistory,x=this.getHistory(!0).length;let b=[];_!=null&&(b=(h=_.slice(x))!==null&&h!==void 0?h:[]);const E=p?[p]:[];this.recordHistory(r,E,b)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var i;await this.sendPromise;const r=Et(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const l=await a;return this.processStreamResponse(l,r)}getHistory(e=!1){const i=e?o0(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){var r,a;return Gs(this,arguments,function*(){var c,h,g,p;const _=[];try{for(var x=!0,b=Yr(e),E;E=yield Je(b.next()),c=E.done,!c;x=!0){p=E.value,x=!1;const w=p;if(KE(w)){const N=(a=(r=w.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content;N!==void 0&&_.push(N)}yield yield Je(w)}}catch(w){h={error:w}}finally{try{!x&&!c&&(g=b.return)&&(yield Je(g.call(b)))}finally{if(h)throw h.error}}this.recordHistory(i,_)})}recordHistory(e,i,r){let a=[];i.length>0&&i.every(l=>l.role!==void 0)?a=i:a.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...o0(r)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class za extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,za.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WE(n){const e={},i=d(n,["file"]);return i!=null&&f(e,["file"],i),e}function eT(n){const e={},i=d(n,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function tT(n){const e={},i=d(n,["name"]);return i!=null&&f(e,["_url","file"],cy(i)),e}function nT(n){const e={},i=d(n,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function iT(n){const e={},i=d(n,["name"]);return i!=null&&f(e,["_url","file"],cy(i)),e}function sT(n,e){const i={},r=d(n,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);const a=d(n,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),i}function rT(n){const e={},i=d(n,["config"]);return i!=null&&sT(i,e),e}function oT(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const a=d(n,["files"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["files"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aT extends Ln{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new zi(Pn.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>i)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=rT(e);return l=ee("files",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:g.headers},_})),a.then(g=>{const p=oT(g),_=new dS;return Object.assign(_,p),_})}}async createInternal(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=WE(e);return l=ee("upload/v1beta/files",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const p=eT(g),_=new fS;return Object.assign(_,p),_})}}async get(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=iT(e);return l=ee("files/{file}",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=tT(e);return l=ee("files/{file}",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:g.headers},_})),a.then(g=>{const p=nT(g),_=new hS;return Object.assign(_,p),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Da(n){const e={},i=d(n,["data"]);if(i!=null&&f(e,["data"],i),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(n,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function lT(n){const e={},i=d(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>TT(l))),f(e,["parts"],a)}const r=d(n,["role"]);return r!=null&&f(e,["role"],r),e}function uT(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["fileUri"]);i!=null&&f(e,["fileUri"],i);const r=d(n,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function cT(n){const e={},i=d(n,["id"]);i!=null&&f(e,["id"],i);const r=d(n,["args"]);r!=null&&f(e,["args"],r);const a=d(n,["name"]);if(a!=null&&f(e,["name"],a),d(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function dT(n){const e={};if(d(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(n,["description"]);i!=null&&f(e,["description"],i);const r=d(n,["name"]);r!=null&&f(e,["name"],r);const a=d(n,["parameters"]);a!=null&&f(e,["parameters"],a);const l=d(n,["parametersJsonSchema"]);l!=null&&f(e,["parametersJsonSchema"],l);const c=d(n,["response"]);c!=null&&f(e,["response"],c);const h=d(n,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function fT(n){const e={},i=d(n,["modelSelectionConfig"]);i!=null&&f(e,["modelConfig"],i);const r=d(n,["responseJsonSchema"]);r!=null&&f(e,["responseJsonSchema"],r);const a=d(n,["audioTimestamp"]);a!=null&&f(e,["audioTimestamp"],a);const l=d(n,["candidateCount"]);l!=null&&f(e,["candidateCount"],l);const c=d(n,["enableAffectiveDialog"]);c!=null&&f(e,["enableAffectiveDialog"],c);const h=d(n,["frequencyPenalty"]);h!=null&&f(e,["frequencyPenalty"],h);const g=d(n,["logprobs"]);g!=null&&f(e,["logprobs"],g);const p=d(n,["maxOutputTokens"]);p!=null&&f(e,["maxOutputTokens"],p);const _=d(n,["mediaResolution"]);_!=null&&f(e,["mediaResolution"],_);const x=d(n,["presencePenalty"]);x!=null&&f(e,["presencePenalty"],x);const b=d(n,["responseLogprobs"]);b!=null&&f(e,["responseLogprobs"],b);const E=d(n,["responseMimeType"]);E!=null&&f(e,["responseMimeType"],E);const w=d(n,["responseModalities"]);w!=null&&f(e,["responseModalities"],w);const N=d(n,["responseSchema"]);N!=null&&f(e,["responseSchema"],N);const I=d(n,["routingConfig"]);I!=null&&f(e,["routingConfig"],I);const P=d(n,["seed"]);P!=null&&f(e,["seed"],P);const k=d(n,["speechConfig"]);k!=null&&f(e,["speechConfig"],vy(k));const A=d(n,["stopSequences"]);A!=null&&f(e,["stopSequences"],A);const j=d(n,["temperature"]);j!=null&&f(e,["temperature"],j);const D=d(n,["thinkingConfig"]);D!=null&&f(e,["thinkingConfig"],D);const Y=d(n,["topK"]);Y!=null&&f(e,["topK"],Y);const G=d(n,["topP"]);if(G!=null&&f(e,["topP"],G),d(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function hT(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(n,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function pT(n){const e={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(n,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function mT(n,e){const i={},r=d(n,["generationConfig"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig"],r);const a=d(n,["responseModalities"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","responseModalities"],a);const l=d(n,["temperature"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","temperature"],l);const c=d(n,["topP"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","topP"],c);const h=d(n,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const g=d(n,["maxOutputTokens"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","maxOutputTokens"],g);const p=d(n,["mediaResolution"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","mediaResolution"],p);const _=d(n,["seed"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","seed"],_);const x=d(n,["speechConfig"]);e!==void 0&&x!=null&&f(e,["setup","generationConfig","speechConfig"],yd(x));const b=d(n,["thinkingConfig"]);e!==void 0&&b!=null&&f(e,["setup","generationConfig","thinkingConfig"],b);const E=d(n,["enableAffectiveDialog"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],E);const w=d(n,["systemInstruction"]);e!==void 0&&w!=null&&f(e,["setup","systemInstruction"],lT(Et(w)));const N=d(n,["tools"]);if(e!==void 0&&N!=null){let Y=Fs(N);Array.isArray(Y)&&(Y=Y.map(G=>CT($s(G)))),f(e,["setup","tools"],Y)}const I=d(n,["sessionResumption"]);e!==void 0&&I!=null&&f(e,["setup","sessionResumption"],wT(I));const P=d(n,["inputAudioTranscription"]);e!==void 0&&P!=null&&f(e,["setup","inputAudioTranscription"],P);const k=d(n,["outputAudioTranscription"]);e!==void 0&&k!=null&&f(e,["setup","outputAudioTranscription"],k);const A=d(n,["realtimeInputConfig"]);e!==void 0&&A!=null&&f(e,["setup","realtimeInputConfig"],A);const j=d(n,["contextWindowCompression"]);e!==void 0&&j!=null&&f(e,["setup","contextWindowCompression"],j);const D=d(n,["proactivity"]);return e!==void 0&&D!=null&&f(e,["setup","proactivity"],D),i}function gT(n,e){const i={},r=d(n,["generationConfig"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig"],fT(r));const a=d(n,["responseModalities"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","responseModalities"],a);const l=d(n,["temperature"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","temperature"],l);const c=d(n,["topP"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","topP"],c);const h=d(n,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const g=d(n,["maxOutputTokens"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","maxOutputTokens"],g);const p=d(n,["mediaResolution"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","mediaResolution"],p);const _=d(n,["seed"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","seed"],_);const x=d(n,["speechConfig"]);e!==void 0&&x!=null&&f(e,["setup","generationConfig","speechConfig"],vy(yd(x)));const b=d(n,["thinkingConfig"]);e!==void 0&&b!=null&&f(e,["setup","generationConfig","thinkingConfig"],b);const E=d(n,["enableAffectiveDialog"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],E);const w=d(n,["systemInstruction"]);e!==void 0&&w!=null&&f(e,["setup","systemInstruction"],Et(w));const N=d(n,["tools"]);if(e!==void 0&&N!=null){let Y=Fs(N);Array.isArray(Y)&&(Y=Y.map(G=>AT($s(G)))),f(e,["setup","tools"],Y)}const I=d(n,["sessionResumption"]);e!==void 0&&I!=null&&f(e,["setup","sessionResumption"],I);const P=d(n,["inputAudioTranscription"]);e!==void 0&&P!=null&&f(e,["setup","inputAudioTranscription"],P);const k=d(n,["outputAudioTranscription"]);e!==void 0&&k!=null&&f(e,["setup","outputAudioTranscription"],k);const A=d(n,["realtimeInputConfig"]);e!==void 0&&A!=null&&f(e,["setup","realtimeInputConfig"],A);const j=d(n,["contextWindowCompression"]);e!==void 0&&j!=null&&f(e,["setup","contextWindowCompression"],j);const D=d(n,["proactivity"]);return e!==void 0&&D!=null&&f(e,["setup","proactivity"],D),i}function yT(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["setup","model"],Ie(n,r));const a=d(e,["config"]);return a!=null&&f(i,["config"],mT(a,i)),i}function vT(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["setup","model"],Ie(n,r));const a=d(e,["config"]);return a!=null&&f(i,["config"],gT(a,i)),i}function _T(n){const e={},i=d(n,["musicGenerationConfig"]);return i!=null&&f(e,["musicGenerationConfig"],i),e}function xT(n){const e={},i=d(n,["weightedPrompts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),f(e,["weightedPrompts"],r)}return e}function bT(n){const e={},i=d(n,["media"]);if(i!=null){let p=ry(i);Array.isArray(p)&&(p=p.map(_=>Da(_))),f(e,["mediaChunks"],p)}const r=d(n,["audio"]);r!=null&&f(e,["audio"],Da(ay(r)));const a=d(n,["audioStreamEnd"]);a!=null&&f(e,["audioStreamEnd"],a);const l=d(n,["video"]);l!=null&&f(e,["video"],Da(oy(l)));const c=d(n,["text"]);c!=null&&f(e,["text"],c);const h=d(n,["activityStart"]);h!=null&&f(e,["activityStart"],h);const g=d(n,["activityEnd"]);return g!=null&&f(e,["activityEnd"],g),e}function ST(n){const e={},i=d(n,["media"]);if(i!=null){let p=ry(i);Array.isArray(p)&&(p=p.map(_=>_)),f(e,["mediaChunks"],p)}const r=d(n,["audio"]);r!=null&&f(e,["audio"],ay(r));const a=d(n,["audioStreamEnd"]);a!=null&&f(e,["audioStreamEnd"],a);const l=d(n,["video"]);l!=null&&f(e,["video"],oy(l));const c=d(n,["text"]);c!=null&&f(e,["text"],c);const h=d(n,["activityStart"]);h!=null&&f(e,["activityStart"],h);const g=d(n,["activityEnd"]);return g!=null&&f(e,["activityEnd"],g),e}function ET(n){const e={},i=d(n,["setupComplete"]);i!=null&&f(e,["setupComplete"],i);const r=d(n,["serverContent"]);r!=null&&f(e,["serverContent"],r);const a=d(n,["toolCall"]);a!=null&&f(e,["toolCall"],a);const l=d(n,["toolCallCancellation"]);l!=null&&f(e,["toolCallCancellation"],l);const c=d(n,["usageMetadata"]);c!=null&&f(e,["usageMetadata"],NT(c));const h=d(n,["goAway"]);h!=null&&f(e,["goAway"],h);const g=d(n,["sessionResumptionUpdate"]);return g!=null&&f(e,["sessionResumptionUpdate"],g),e}function TT(n){const e={},i=d(n,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const r=d(n,["codeExecutionResult"]);r!=null&&f(e,["codeExecutionResult"],r);const a=d(n,["executableCode"]);a!=null&&f(e,["executableCode"],a);const l=d(n,["fileData"]);l!=null&&f(e,["fileData"],uT(l));const c=d(n,["functionCall"]);c!=null&&f(e,["functionCall"],cT(c));const h=d(n,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const g=d(n,["inlineData"]);g!=null&&f(e,["inlineData"],Da(g));const p=d(n,["text"]);p!=null&&f(e,["text"],p);const _=d(n,["thought"]);_!=null&&f(e,["thought"],_);const x=d(n,["thoughtSignature"]);x!=null&&f(e,["thoughtSignature"],x);const b=d(n,["videoMetadata"]);return b!=null&&f(e,["videoMetadata"],b),e}function wT(n){const e={},i=d(n,["handle"]);if(i!=null&&f(e,["handle"],i),d(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function vy(n){const e={},i=d(n,["languageCode"]);i!=null&&f(e,["languageCode"],i);const r=d(n,["voiceConfig"]);if(r!=null&&f(e,["voiceConfig"],r),d(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function CT(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let _=i;Array.isArray(_)&&(_=_.map(x=>x)),f(e,["functionDeclarations"],_)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(n,["googleSearchRetrieval"]);r!=null&&f(e,["googleSearchRetrieval"],r);const a=d(n,["computerUse"]);a!=null&&f(e,["computerUse"],a);const l=d(n,["fileSearch"]);l!=null&&f(e,["fileSearch"],l);const c=d(n,["codeExecution"]);if(c!=null&&f(e,["codeExecution"],c),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=d(n,["googleMaps"]);h!=null&&f(e,["googleMaps"],hT(h));const g=d(n,["googleSearch"]);g!=null&&f(e,["googleSearch"],pT(g));const p=d(n,["urlContext"]);return p!=null&&f(e,["urlContext"],p),e}function AT(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(b=>dT(b))),f(e,["functionDeclarations"],x)}const r=d(n,["retrieval"]);r!=null&&f(e,["retrieval"],r);const a=d(n,["googleSearchRetrieval"]);a!=null&&f(e,["googleSearchRetrieval"],a);const l=d(n,["computerUse"]);if(l!=null&&f(e,["computerUse"],l),d(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(n,["codeExecution"]);c!=null&&f(e,["codeExecution"],c);const h=d(n,["enterpriseWebSearch"]);h!=null&&f(e,["enterpriseWebSearch"],h);const g=d(n,["googleMaps"]);g!=null&&f(e,["googleMaps"],g);const p=d(n,["googleSearch"]);p!=null&&f(e,["googleSearch"],p);const _=d(n,["urlContext"]);return _!=null&&f(e,["urlContext"],_),e}function NT(n){const e={},i=d(n,["promptTokenCount"]);i!=null&&f(e,["promptTokenCount"],i);const r=d(n,["cachedContentTokenCount"]);r!=null&&f(e,["cachedContentTokenCount"],r);const a=d(n,["candidatesTokenCount"]);a!=null&&f(e,["responseTokenCount"],a);const l=d(n,["toolUsePromptTokenCount"]);l!=null&&f(e,["toolUsePromptTokenCount"],l);const c=d(n,["thoughtsTokenCount"]);c!=null&&f(e,["thoughtsTokenCount"],c);const h=d(n,["totalTokenCount"]);h!=null&&f(e,["totalTokenCount"],h);const g=d(n,["promptTokensDetails"]);if(g!=null){let E=g;Array.isArray(E)&&(E=E.map(w=>w)),f(e,["promptTokensDetails"],E)}const p=d(n,["cacheTokensDetails"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(w=>w)),f(e,["cacheTokensDetails"],E)}const _=d(n,["candidatesTokensDetails"]);if(_!=null){let E=_;Array.isArray(E)&&(E=E.map(w=>w)),f(e,["responseTokensDetails"],E)}const x=d(n,["toolUsePromptTokensDetails"]);if(x!=null){let E=x;Array.isArray(E)&&(E=E.map(w=>w)),f(e,["toolUsePromptTokensDetails"],E)}const b=d(n,["trafficType"]);return b!=null&&f(e,["trafficType"],b),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RT(n){const e={},i=d(n,["data"]);if(i!=null&&f(e,["data"],i),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(n,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function MT(n){const e={},i=d(n,["content"]);i!=null&&f(e,["content"],i);const r=d(n,["citationMetadata"]);r!=null&&f(e,["citationMetadata"],IT(r));const a=d(n,["tokenCount"]);a!=null&&f(e,["tokenCount"],a);const l=d(n,["finishReason"]);l!=null&&f(e,["finishReason"],l);const c=d(n,["avgLogprobs"]);c!=null&&f(e,["avgLogprobs"],c);const h=d(n,["groundingMetadata"]);h!=null&&f(e,["groundingMetadata"],h);const g=d(n,["index"]);g!=null&&f(e,["index"],g);const p=d(n,["logprobsResult"]);p!=null&&f(e,["logprobsResult"],p);const _=d(n,["safetyRatings"]);if(_!=null){let b=_;Array.isArray(b)&&(b=b.map(E=>E)),f(e,["safetyRatings"],b)}const x=d(n,["urlContextMetadata"]);return x!=null&&f(e,["urlContextMetadata"],x),e}function IT(n){const e={},i=d(n,["citationSources"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),f(e,["citations"],r)}return e}function kT(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Ie(n,r));const a=d(e,["contents"]);if(a!=null){let l=nn(a);Array.isArray(l)&&(l=l.map(c=>c)),f(i,["contents"],l)}return i}function DT(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["tokensInfo"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),f(e,["tokensInfo"],a)}return e}function UT(n){const e={},i=d(n,["values"]);i!=null&&f(e,["values"],i);const r=d(n,["statistics"]);return r!=null&&f(e,["statistics"],PT(r)),e}function PT(n){const e={},i=d(n,["truncated"]);i!=null&&f(e,["truncated"],i);const r=d(n,["token_count"]);return r!=null&&f(e,["tokenCount"],r),e}function $a(n){const e={},i=d(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>zw(l))),f(e,["parts"],a)}const r=d(n,["role"]);return r!=null&&f(e,["role"],r),e}function OT(n){const e={},i=d(n,["controlType"]);i!=null&&f(e,["controlType"],i);const r=d(n,["enableControlImageComputation"]);return r!=null&&f(e,["computeControl"],r),e}function LT(n){const e={};if(d(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function qT(n,e){const i={},r=d(n,["systemInstruction"]);e!==void 0&&r!=null&&f(e,["systemInstruction"],Et(r));const a=d(n,["tools"]);if(e!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>Ey(h))),f(e,["tools"],c)}const l=d(n,["generationConfig"]);return e!==void 0&&l!=null&&f(e,["generationConfig"],Rw(l)),i}function GT(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Ie(n,r));const a=d(e,["contents"]);if(a!=null){let c=nn(a);Array.isArray(c)&&(c=c.map(h=>$a(h))),f(i,["contents"],c)}const l=d(e,["config"]);return l!=null&&LT(l),i}function BT(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Ie(n,r));const a=d(e,["contents"]);if(a!=null){let c=nn(a);Array.isArray(c)&&(c=c.map(h=>h)),f(i,["contents"],c)}const l=d(e,["config"]);return l!=null&&qT(l,i),i}function jT(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["totalTokens"]);r!=null&&f(e,["totalTokens"],r);const a=d(n,["cachedContentTokenCount"]);return a!=null&&f(e,["cachedContentTokenCount"],a),e}function VT(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["totalTokens"]);return r!=null&&f(e,["totalTokens"],r),e}function HT(n,e){const i={},r=d(e,["model"]);return r!=null&&f(i,["_url","name"],Ie(n,r)),i}function zT(n,e){const i={},r=d(e,["model"]);return r!=null&&f(i,["_url","name"],Ie(n,r)),i}function $T(n){const e={},i=d(n,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function FT(n){const e={},i=d(n,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function JT(n,e){const i={},r=d(n,["outputGcsUri"]);e!==void 0&&r!=null&&f(e,["parameters","storageUri"],r);const a=d(n,["negativePrompt"]);e!==void 0&&a!=null&&f(e,["parameters","negativePrompt"],a);const l=d(n,["numberOfImages"]);e!==void 0&&l!=null&&f(e,["parameters","sampleCount"],l);const c=d(n,["aspectRatio"]);e!==void 0&&c!=null&&f(e,["parameters","aspectRatio"],c);const h=d(n,["guidanceScale"]);e!==void 0&&h!=null&&f(e,["parameters","guidanceScale"],h);const g=d(n,["seed"]);e!==void 0&&g!=null&&f(e,["parameters","seed"],g);const p=d(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&f(e,["parameters","safetySetting"],p);const _=d(n,["personGeneration"]);e!==void 0&&_!=null&&f(e,["parameters","personGeneration"],_);const x=d(n,["includeSafetyAttributes"]);e!==void 0&&x!=null&&f(e,["parameters","includeSafetyAttributes"],x);const b=d(n,["includeRaiReason"]);e!==void 0&&b!=null&&f(e,["parameters","includeRaiReason"],b);const E=d(n,["language"]);e!==void 0&&E!=null&&f(e,["parameters","language"],E);const w=d(n,["outputMimeType"]);e!==void 0&&w!=null&&f(e,["parameters","outputOptions","mimeType"],w);const N=d(n,["outputCompressionQuality"]);e!==void 0&&N!=null&&f(e,["parameters","outputOptions","compressionQuality"],N);const I=d(n,["addWatermark"]);e!==void 0&&I!=null&&f(e,["parameters","addWatermark"],I);const P=d(n,["labels"]);e!==void 0&&P!=null&&f(e,["labels"],P);const k=d(n,["editMode"]);e!==void 0&&k!=null&&f(e,["parameters","editMode"],k);const A=d(n,["baseSteps"]);return e!==void 0&&A!=null&&f(e,["parameters","editConfig","baseSteps"],A),i}function YT(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Ie(n,r));const a=d(e,["prompt"]);a!=null&&f(i,["instances[0]","prompt"],a);const l=d(e,["referenceImages"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(g=>Qw(g))),f(i,["instances[0]","referenceImages"],h)}const c=d(e,["config"]);return c!=null&&JT(c,i),i}function KT(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>Fa(l))),f(e,["generatedImages"],a)}return e}function QT(n,e){const i={},r=d(n,["taskType"]);e!==void 0&&r!=null&&f(e,["requests[]","taskType"],r);const a=d(n,["title"]);e!==void 0&&a!=null&&f(e,["requests[]","title"],a);const l=d(n,["outputDimensionality"]);if(e!==void 0&&l!=null&&f(e,["requests[]","outputDimensionality"],l),d(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function XT(n,e){const i={},r=d(n,["taskType"]);e!==void 0&&r!=null&&f(e,["instances[]","task_type"],r);const a=d(n,["title"]);e!==void 0&&a!=null&&f(e,["instances[]","title"],a);const l=d(n,["outputDimensionality"]);e!==void 0&&l!=null&&f(e,["parameters","outputDimensionality"],l);const c=d(n,["mimeType"]);e!==void 0&&c!=null&&f(e,["instances[]","mimeType"],c);const h=d(n,["autoTruncate"]);return e!==void 0&&h!=null&&f(e,["parameters","autoTruncate"],h),i}function ZT(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Ie(n,r));const a=d(e,["contents"]);if(a!=null){let h=pd(n,a);Array.isArray(h)&&(h=h.map(g=>g)),f(i,["requests[]","content"],h)}const l=d(e,["config"]);l!=null&&QT(l,i);const c=d(e,["model"]);return c!==void 0&&f(i,["requests[]","model"],Ie(n,c)),i}function WT(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Ie(n,r));const a=d(e,["contents"]);if(a!=null){let c=pd(n,a);Array.isArray(c)&&(c=c.map(h=>h)),f(i,["instances[]","content"],c)}const l=d(e,["config"]);return l!=null&&XT(l,i),i}function ew(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["embeddings"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["embeddings"],l)}const a=d(n,["metadata"]);return a!=null&&f(e,["metadata"],a),e}function tw(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["predictions[]","embeddings"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>UT(c))),f(e,["embeddings"],l)}const a=d(n,["metadata"]);return a!=null&&f(e,["metadata"],a),e}function nw(n){const e={},i=d(n,["endpoint"]);i!=null&&f(e,["name"],i);const r=d(n,["deployedModelId"]);return r!=null&&f(e,["deployedModelId"],r),e}function iw(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["fileUri"]);i!=null&&f(e,["fileUri"],i);const r=d(n,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function sw(n){const e={},i=d(n,["id"]);i!=null&&f(e,["id"],i);const r=d(n,["args"]);r!=null&&f(e,["args"],r);const a=d(n,["name"]);if(a!=null&&f(e,["name"],a),d(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function rw(n){const e={},i=d(n,["mode"]);i!=null&&f(e,["mode"],i);const r=d(n,["allowedFunctionNames"]);if(r!=null&&f(e,["allowedFunctionNames"],r),d(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function ow(n){const e={};if(d(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(n,["description"]);i!=null&&f(e,["description"],i);const r=d(n,["name"]);r!=null&&f(e,["name"],r);const a=d(n,["parameters"]);a!=null&&f(e,["parameters"],a);const l=d(n,["parametersJsonSchema"]);l!=null&&f(e,["parametersJsonSchema"],l);const c=d(n,["response"]);c!=null&&f(e,["response"],c);const h=d(n,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function aw(n,e,i){const r={},a=d(e,["systemInstruction"]);i!==void 0&&a!=null&&f(i,["systemInstruction"],$a(Et(a)));const l=d(e,["temperature"]);l!=null&&f(r,["temperature"],l);const c=d(e,["topP"]);c!=null&&f(r,["topP"],c);const h=d(e,["topK"]);h!=null&&f(r,["topK"],h);const g=d(e,["candidateCount"]);g!=null&&f(r,["candidateCount"],g);const p=d(e,["maxOutputTokens"]);p!=null&&f(r,["maxOutputTokens"],p);const _=d(e,["stopSequences"]);_!=null&&f(r,["stopSequences"],_);const x=d(e,["responseLogprobs"]);x!=null&&f(r,["responseLogprobs"],x);const b=d(e,["logprobs"]);b!=null&&f(r,["logprobs"],b);const E=d(e,["presencePenalty"]);E!=null&&f(r,["presencePenalty"],E);const w=d(e,["frequencyPenalty"]);w!=null&&f(r,["frequencyPenalty"],w);const N=d(e,["seed"]);N!=null&&f(r,["seed"],N);const I=d(e,["responseMimeType"]);I!=null&&f(r,["responseMimeType"],I);const P=d(e,["responseSchema"]);P!=null&&f(r,["responseSchema"],md(P));const k=d(e,["responseJsonSchema"]);if(k!=null&&f(r,["responseJsonSchema"],k),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const A=d(e,["safetySettings"]);if(i!==void 0&&A!=null){let oe=A;Array.isArray(oe)&&(oe=oe.map(ve=>Xw(ve))),f(i,["safetySettings"],oe)}const j=d(e,["tools"]);if(i!==void 0&&j!=null){let oe=Fs(j);Array.isArray(oe)&&(oe=oe.map(ve=>sC($s(ve)))),f(i,["tools"],oe)}const D=d(e,["toolConfig"]);if(i!==void 0&&D!=null&&f(i,["toolConfig"],iC(D)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Y=d(e,["cachedContent"]);i!==void 0&&Y!=null&&f(i,["cachedContent"],qn(n,Y));const G=d(e,["responseModalities"]);G!=null&&f(r,["responseModalities"],G);const W=d(e,["mediaResolution"]);W!=null&&f(r,["mediaResolution"],W);const K=d(e,["speechConfig"]);if(K!=null&&f(r,["speechConfig"],gd(K)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const te=d(e,["thinkingConfig"]);te!=null&&f(r,["thinkingConfig"],te);const ue=d(e,["imageConfig"]);return ue!=null&&f(r,["imageConfig"],Uw(ue)),r}function lw(n,e,i){const r={},a=d(e,["systemInstruction"]);i!==void 0&&a!=null&&f(i,["systemInstruction"],Et(a));const l=d(e,["temperature"]);l!=null&&f(r,["temperature"],l);const c=d(e,["topP"]);c!=null&&f(r,["topP"],c);const h=d(e,["topK"]);h!=null&&f(r,["topK"],h);const g=d(e,["candidateCount"]);g!=null&&f(r,["candidateCount"],g);const p=d(e,["maxOutputTokens"]);p!=null&&f(r,["maxOutputTokens"],p);const _=d(e,["stopSequences"]);_!=null&&f(r,["stopSequences"],_);const x=d(e,["responseLogprobs"]);x!=null&&f(r,["responseLogprobs"],x);const b=d(e,["logprobs"]);b!=null&&f(r,["logprobs"],b);const E=d(e,["presencePenalty"]);E!=null&&f(r,["presencePenalty"],E);const w=d(e,["frequencyPenalty"]);w!=null&&f(r,["frequencyPenalty"],w);const N=d(e,["seed"]);N!=null&&f(r,["seed"],N);const I=d(e,["responseMimeType"]);I!=null&&f(r,["responseMimeType"],I);const P=d(e,["responseSchema"]);P!=null&&f(r,["responseSchema"],md(P));const k=d(e,["responseJsonSchema"]);k!=null&&f(r,["responseJsonSchema"],k);const A=d(e,["routingConfig"]);A!=null&&f(r,["routingConfig"],A);const j=d(e,["modelSelectionConfig"]);j!=null&&f(r,["modelConfig"],j);const D=d(e,["safetySettings"]);if(i!==void 0&&D!=null){let B=D;Array.isArray(B)&&(B=B.map(Q=>Q)),f(i,["safetySettings"],B)}const Y=d(e,["tools"]);if(i!==void 0&&Y!=null){let B=Fs(Y);Array.isArray(B)&&(B=B.map(Q=>Ey($s(Q)))),f(i,["tools"],B)}const G=d(e,["toolConfig"]);i!==void 0&&G!=null&&f(i,["toolConfig"],G);const W=d(e,["labels"]);i!==void 0&&W!=null&&f(i,["labels"],W);const K=d(e,["cachedContent"]);i!==void 0&&K!=null&&f(i,["cachedContent"],qn(n,K));const te=d(e,["responseModalities"]);te!=null&&f(r,["responseModalities"],te);const ue=d(e,["mediaResolution"]);ue!=null&&f(r,["mediaResolution"],ue);const oe=d(e,["speechConfig"]);oe!=null&&f(r,["speechConfig"],Sy(gd(oe)));const ve=d(e,["audioTimestamp"]);ve!=null&&f(r,["audioTimestamp"],ve);const je=d(e,["thinkingConfig"]);je!=null&&f(r,["thinkingConfig"],je);const Ve=d(e,["imageConfig"]);return Ve!=null&&f(r,["imageConfig"],Pw(Ve)),r}function a0(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Ie(n,r));const a=d(e,["contents"]);if(a!=null){let c=nn(a);Array.isArray(c)&&(c=c.map(h=>$a(h))),f(i,["contents"],c)}const l=d(e,["config"]);return l!=null&&f(i,["generationConfig"],aw(n,l,i)),i}function l0(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Ie(n,r));const a=d(e,["contents"]);if(a!=null){let c=nn(a);Array.isArray(c)&&(c=c.map(h=>h)),f(i,["contents"],c)}const l=d(e,["config"]);return l!=null&&f(i,["generationConfig"],lw(n,l,i)),i}function u0(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["candidates"]);if(r!=null){let g=r;Array.isArray(g)&&(g=g.map(p=>MT(p))),f(e,["candidates"],g)}const a=d(n,["modelVersion"]);a!=null&&f(e,["modelVersion"],a);const l=d(n,["promptFeedback"]);l!=null&&f(e,["promptFeedback"],l);const c=d(n,["responseId"]);c!=null&&f(e,["responseId"],c);const h=d(n,["usageMetadata"]);return h!=null&&f(e,["usageMetadata"],h),e}function c0(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["candidates"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(_=>_)),f(e,["candidates"],p)}const a=d(n,["createTime"]);a!=null&&f(e,["createTime"],a);const l=d(n,["modelVersion"]);l!=null&&f(e,["modelVersion"],l);const c=d(n,["promptFeedback"]);c!=null&&f(e,["promptFeedback"],c);const h=d(n,["responseId"]);h!=null&&f(e,["responseId"],h);const g=d(n,["usageMetadata"]);return g!=null&&f(e,["usageMetadata"],g),e}function uw(n,e){const i={};if(d(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=d(n,["numberOfImages"]);e!==void 0&&r!=null&&f(e,["parameters","sampleCount"],r);const a=d(n,["aspectRatio"]);e!==void 0&&a!=null&&f(e,["parameters","aspectRatio"],a);const l=d(n,["guidanceScale"]);if(e!==void 0&&l!=null&&f(e,["parameters","guidanceScale"],l),d(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=d(n,["safetyFilterLevel"]);e!==void 0&&c!=null&&f(e,["parameters","safetySetting"],c);const h=d(n,["personGeneration"]);e!==void 0&&h!=null&&f(e,["parameters","personGeneration"],h);const g=d(n,["includeSafetyAttributes"]);e!==void 0&&g!=null&&f(e,["parameters","includeSafetyAttributes"],g);const p=d(n,["includeRaiReason"]);e!==void 0&&p!=null&&f(e,["parameters","includeRaiReason"],p);const _=d(n,["language"]);e!==void 0&&_!=null&&f(e,["parameters","language"],_);const x=d(n,["outputMimeType"]);e!==void 0&&x!=null&&f(e,["parameters","outputOptions","mimeType"],x);const b=d(n,["outputCompressionQuality"]);if(e!==void 0&&b!=null&&f(e,["parameters","outputOptions","compressionQuality"],b),d(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=d(n,["imageSize"]);if(e!==void 0&&E!=null&&f(e,["parameters","sampleImageSize"],E),d(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function cw(n,e){const i={},r=d(n,["outputGcsUri"]);e!==void 0&&r!=null&&f(e,["parameters","storageUri"],r);const a=d(n,["negativePrompt"]);e!==void 0&&a!=null&&f(e,["parameters","negativePrompt"],a);const l=d(n,["numberOfImages"]);e!==void 0&&l!=null&&f(e,["parameters","sampleCount"],l);const c=d(n,["aspectRatio"]);e!==void 0&&c!=null&&f(e,["parameters","aspectRatio"],c);const h=d(n,["guidanceScale"]);e!==void 0&&h!=null&&f(e,["parameters","guidanceScale"],h);const g=d(n,["seed"]);e!==void 0&&g!=null&&f(e,["parameters","seed"],g);const p=d(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&f(e,["parameters","safetySetting"],p);const _=d(n,["personGeneration"]);e!==void 0&&_!=null&&f(e,["parameters","personGeneration"],_);const x=d(n,["includeSafetyAttributes"]);e!==void 0&&x!=null&&f(e,["parameters","includeSafetyAttributes"],x);const b=d(n,["includeRaiReason"]);e!==void 0&&b!=null&&f(e,["parameters","includeRaiReason"],b);const E=d(n,["language"]);e!==void 0&&E!=null&&f(e,["parameters","language"],E);const w=d(n,["outputMimeType"]);e!==void 0&&w!=null&&f(e,["parameters","outputOptions","mimeType"],w);const N=d(n,["outputCompressionQuality"]);e!==void 0&&N!=null&&f(e,["parameters","outputOptions","compressionQuality"],N);const I=d(n,["addWatermark"]);e!==void 0&&I!=null&&f(e,["parameters","addWatermark"],I);const P=d(n,["labels"]);e!==void 0&&P!=null&&f(e,["labels"],P);const k=d(n,["imageSize"]);e!==void 0&&k!=null&&f(e,["parameters","sampleImageSize"],k);const A=d(n,["enhancePrompt"]);return e!==void 0&&A!=null&&f(e,["parameters","enhancePrompt"],A),i}function dw(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Ie(n,r));const a=d(e,["prompt"]);a!=null&&f(i,["instances[0]","prompt"],a);const l=d(e,["config"]);return l!=null&&uw(l,i),i}function fw(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Ie(n,r));const a=d(e,["prompt"]);a!=null&&f(i,["instances[0]","prompt"],a);const l=d(e,["config"]);return l!=null&&cw(l,i),i}function hw(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>ww(c))),f(e,["generatedImages"],l)}const a=d(n,["positivePromptSafetyAttributes"]);return a!=null&&f(e,["positivePromptSafetyAttributes"],xy(a)),e}function pw(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>Fa(c))),f(e,["generatedImages"],l)}const a=d(n,["positivePromptSafetyAttributes"]);return a!=null&&f(e,["positivePromptSafetyAttributes"],by(a)),e}function mw(n,e){const i={},r=d(n,["numberOfVideos"]);if(e!==void 0&&r!=null&&f(e,["parameters","sampleCount"],r),d(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=d(n,["durationSeconds"]);if(e!==void 0&&a!=null&&f(e,["parameters","durationSeconds"],a),d(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=d(n,["aspectRatio"]);e!==void 0&&l!=null&&f(e,["parameters","aspectRatio"],l);const c=d(n,["resolution"]);e!==void 0&&c!=null&&f(e,["parameters","resolution"],c);const h=d(n,["personGeneration"]);if(e!==void 0&&h!=null&&f(e,["parameters","personGeneration"],h),d(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const g=d(n,["negativePrompt"]);e!==void 0&&g!=null&&f(e,["parameters","negativePrompt"],g);const p=d(n,["enhancePrompt"]);if(e!==void 0&&p!=null&&f(e,["parameters","enhancePrompt"],p),d(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const _=d(n,["lastFrame"]);e!==void 0&&_!=null&&f(e,["instances[0]","lastFrame"],Ja(_));const x=d(n,["referenceImages"]);if(e!==void 0&&x!=null){let b=x;Array.isArray(b)&&(b=b.map(E=>yC(E))),f(e,["instances[0]","referenceImages"],b)}if(d(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function gw(n,e){const i={},r=d(n,["numberOfVideos"]);e!==void 0&&r!=null&&f(e,["parameters","sampleCount"],r);const a=d(n,["outputGcsUri"]);e!==void 0&&a!=null&&f(e,["parameters","storageUri"],a);const l=d(n,["fps"]);e!==void 0&&l!=null&&f(e,["parameters","fps"],l);const c=d(n,["durationSeconds"]);e!==void 0&&c!=null&&f(e,["parameters","durationSeconds"],c);const h=d(n,["seed"]);e!==void 0&&h!=null&&f(e,["parameters","seed"],h);const g=d(n,["aspectRatio"]);e!==void 0&&g!=null&&f(e,["parameters","aspectRatio"],g);const p=d(n,["resolution"]);e!==void 0&&p!=null&&f(e,["parameters","resolution"],p);const _=d(n,["personGeneration"]);e!==void 0&&_!=null&&f(e,["parameters","personGeneration"],_);const x=d(n,["pubsubTopic"]);e!==void 0&&x!=null&&f(e,["parameters","pubsubTopic"],x);const b=d(n,["negativePrompt"]);e!==void 0&&b!=null&&f(e,["parameters","negativePrompt"],b);const E=d(n,["enhancePrompt"]);e!==void 0&&E!=null&&f(e,["parameters","enhancePrompt"],E);const w=d(n,["generateAudio"]);e!==void 0&&w!=null&&f(e,["parameters","generateAudio"],w);const N=d(n,["lastFrame"]);e!==void 0&&N!=null&&f(e,["instances[0]","lastFrame"],cn(N));const I=d(n,["referenceImages"]);if(e!==void 0&&I!=null){let A=I;Array.isArray(A)&&(A=A.map(j=>vC(j))),f(e,["instances[0]","referenceImages"],A)}const P=d(n,["mask"]);e!==void 0&&P!=null&&f(e,["instances[0]","mask"],gC(P));const k=d(n,["compressionQuality"]);return e!==void 0&&k!=null&&f(e,["parameters","compressionQuality"],k),i}function yw(n){const e={},i=d(n,["name"]);i!=null&&f(e,["name"],i);const r=d(n,["metadata"]);r!=null&&f(e,["metadata"],r);const a=d(n,["done"]);a!=null&&f(e,["done"],a);const l=d(n,["error"]);l!=null&&f(e,["error"],l);const c=d(n,["response","generateVideoResponse"]);return c!=null&&f(e,["response"],bw(c)),e}function vw(n){const e={},i=d(n,["name"]);i!=null&&f(e,["name"],i);const r=d(n,["metadata"]);r!=null&&f(e,["metadata"],r);const a=d(n,["done"]);a!=null&&f(e,["done"],a);const l=d(n,["error"]);l!=null&&f(e,["error"],l);const c=d(n,["response"]);return c!=null&&f(e,["response"],Sw(c)),e}function _w(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Ie(n,r));const a=d(e,["prompt"]);a!=null&&f(i,["instances[0]","prompt"],a);const l=d(e,["image"]);l!=null&&f(i,["instances[0]","image"],Ja(l));const c=d(e,["video"]);c!=null&&f(i,["instances[0]","video"],Ty(c));const h=d(e,["source"]);h!=null&&Ew(h,i);const g=d(e,["config"]);return g!=null&&mw(g,i),i}function xw(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Ie(n,r));const a=d(e,["prompt"]);a!=null&&f(i,["instances[0]","prompt"],a);const l=d(e,["image"]);l!=null&&f(i,["instances[0]","image"],cn(l));const c=d(e,["video"]);c!=null&&f(i,["instances[0]","video"],wy(c));const h=d(e,["source"]);h!=null&&Tw(h,i);const g=d(e,["config"]);return g!=null&&gw(g,i),i}function bw(n){const e={},i=d(n,["generatedSamples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>Aw(c))),f(e,["generatedVideos"],l)}const r=d(n,["raiMediaFilteredCount"]);r!=null&&f(e,["raiMediaFilteredCount"],r);const a=d(n,["raiMediaFilteredReasons"]);return a!=null&&f(e,["raiMediaFilteredReasons"],a),e}function Sw(n){const e={},i=d(n,["videos"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>Nw(c))),f(e,["generatedVideos"],l)}const r=d(n,["raiMediaFilteredCount"]);r!=null&&f(e,["raiMediaFilteredCount"],r);const a=d(n,["raiMediaFilteredReasons"]);return a!=null&&f(e,["raiMediaFilteredReasons"],a),e}function Ew(n,e){const i={},r=d(n,["prompt"]);e!==void 0&&r!=null&&f(e,["instances[0]","prompt"],r);const a=d(n,["image"]);e!==void 0&&a!=null&&f(e,["instances[0]","image"],Ja(a));const l=d(n,["video"]);return e!==void 0&&l!=null&&f(e,["instances[0]","video"],Ty(l)),i}function Tw(n,e){const i={},r=d(n,["prompt"]);e!==void 0&&r!=null&&f(e,["instances[0]","prompt"],r);const a=d(n,["image"]);e!==void 0&&a!=null&&f(e,["instances[0]","image"],cn(a));const l=d(n,["video"]);return e!==void 0&&l!=null&&f(e,["instances[0]","video"],wy(l)),i}function ww(n){const e={},i=d(n,["_self"]);i!=null&&f(e,["image"],Ow(i));const r=d(n,["raiFilteredReason"]);r!=null&&f(e,["raiFilteredReason"],r);const a=d(n,["_self"]);return a!=null&&f(e,["safetyAttributes"],xy(a)),e}function Fa(n){const e={},i=d(n,["_self"]);i!=null&&f(e,["image"],_y(i));const r=d(n,["raiFilteredReason"]);r!=null&&f(e,["raiFilteredReason"],r);const a=d(n,["_self"]);a!=null&&f(e,["safetyAttributes"],by(a));const l=d(n,["prompt"]);return l!=null&&f(e,["enhancedPrompt"],l),e}function Cw(n){const e={},i=d(n,["_self"]);i!=null&&f(e,["mask"],_y(i));const r=d(n,["labels"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),f(e,["labels"],a)}return e}function Aw(n){const e={},i=d(n,["video"]);return i!=null&&f(e,["video"],pC(i)),e}function Nw(n){const e={},i=d(n,["_self"]);return i!=null&&f(e,["video"],mC(i)),e}function Rw(n){const e={},i=d(n,["modelSelectionConfig"]);i!=null&&f(e,["modelConfig"],i);const r=d(n,["responseJsonSchema"]);r!=null&&f(e,["responseJsonSchema"],r);const a=d(n,["audioTimestamp"]);a!=null&&f(e,["audioTimestamp"],a);const l=d(n,["candidateCount"]);l!=null&&f(e,["candidateCount"],l);const c=d(n,["enableAffectiveDialog"]);c!=null&&f(e,["enableAffectiveDialog"],c);const h=d(n,["frequencyPenalty"]);h!=null&&f(e,["frequencyPenalty"],h);const g=d(n,["logprobs"]);g!=null&&f(e,["logprobs"],g);const p=d(n,["maxOutputTokens"]);p!=null&&f(e,["maxOutputTokens"],p);const _=d(n,["mediaResolution"]);_!=null&&f(e,["mediaResolution"],_);const x=d(n,["presencePenalty"]);x!=null&&f(e,["presencePenalty"],x);const b=d(n,["responseLogprobs"]);b!=null&&f(e,["responseLogprobs"],b);const E=d(n,["responseMimeType"]);E!=null&&f(e,["responseMimeType"],E);const w=d(n,["responseModalities"]);w!=null&&f(e,["responseModalities"],w);const N=d(n,["responseSchema"]);N!=null&&f(e,["responseSchema"],N);const I=d(n,["routingConfig"]);I!=null&&f(e,["routingConfig"],I);const P=d(n,["seed"]);P!=null&&f(e,["seed"],P);const k=d(n,["speechConfig"]);k!=null&&f(e,["speechConfig"],Sy(k));const A=d(n,["stopSequences"]);A!=null&&f(e,["stopSequences"],A);const j=d(n,["temperature"]);j!=null&&f(e,["temperature"],j);const D=d(n,["thinkingConfig"]);D!=null&&f(e,["thinkingConfig"],D);const Y=d(n,["topK"]);Y!=null&&f(e,["topK"],Y);const G=d(n,["topP"]);if(G!=null&&f(e,["topP"],G),d(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Mw(n,e){const i={},r=d(e,["model"]);return r!=null&&f(i,["_url","name"],Ie(n,r)),i}function Iw(n,e){const i={},r=d(e,["model"]);return r!=null&&f(i,["_url","name"],Ie(n,r)),i}function kw(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(n,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function Dw(n){const e={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(n,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function Uw(n){const e={},i=d(n,["aspectRatio"]);i!=null&&f(e,["aspectRatio"],i);const r=d(n,["imageSize"]);if(r!=null&&f(e,["imageSize"],r),d(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Pw(n){const e={},i=d(n,["aspectRatio"]);i!=null&&f(e,["aspectRatio"],i);const r=d(n,["imageSize"]);r!=null&&f(e,["imageSize"],r);const a=d(n,["outputMimeType"]);a!=null&&f(e,["imageOutputOptions","mimeType"],a);const l=d(n,["outputCompressionQuality"]);return l!=null&&f(e,["imageOutputOptions","compressionQuality"],l),e}function Ow(n){const e={},i=d(n,["bytesBase64Encoded"]);i!=null&&f(e,["imageBytes"],mi(i));const r=d(n,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function _y(n){const e={},i=d(n,["gcsUri"]);i!=null&&f(e,["gcsUri"],i);const r=d(n,["bytesBase64Encoded"]);r!=null&&f(e,["imageBytes"],mi(r));const a=d(n,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function Ja(n){const e={};if(d(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=d(n,["imageBytes"]);i!=null&&f(e,["bytesBase64Encoded"],mi(i));const r=d(n,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function cn(n){const e={},i=d(n,["gcsUri"]);i!=null&&f(e,["gcsUri"],i);const r=d(n,["imageBytes"]);r!=null&&f(e,["bytesBase64Encoded"],mi(r));const a=d(n,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function Lw(n,e,i){const r={},a=d(e,["pageSize"]);i!==void 0&&a!=null&&f(i,["_query","pageSize"],a);const l=d(e,["pageToken"]);i!==void 0&&l!=null&&f(i,["_query","pageToken"],l);const c=d(e,["filter"]);i!==void 0&&c!=null&&f(i,["_query","filter"],c);const h=d(e,["queryBase"]);return i!==void 0&&h!=null&&f(i,["_url","models_url"],dy(n,h)),r}function qw(n,e,i){const r={},a=d(e,["pageSize"]);i!==void 0&&a!=null&&f(i,["_query","pageSize"],a);const l=d(e,["pageToken"]);i!==void 0&&l!=null&&f(i,["_query","pageToken"],l);const c=d(e,["filter"]);i!==void 0&&c!=null&&f(i,["_query","filter"],c);const h=d(e,["queryBase"]);return i!==void 0&&h!=null&&f(i,["_url","models_url"],dy(n,h)),r}function Gw(n,e){const i={},r=d(e,["config"]);return r!=null&&Lw(n,r,i),i}function Bw(n,e){const i={},r=d(e,["config"]);return r!=null&&qw(n,r,i),i}function jw(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const a=d(n,["_self"]);if(a!=null){let l=fy(a);Array.isArray(l)&&(l=l.map(c=>Hc(c))),f(e,["models"],l)}return e}function Vw(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const a=d(n,["_self"]);if(a!=null){let l=fy(a);Array.isArray(l)&&(l=l.map(c=>zc(c))),f(e,["models"],l)}return e}function Hw(n){const e={},i=d(n,["maskMode"]);i!=null&&f(e,["maskMode"],i);const r=d(n,["segmentationClasses"]);r!=null&&f(e,["maskClasses"],r);const a=d(n,["maskDilation"]);return a!=null&&f(e,["dilation"],a),e}function Hc(n){const e={},i=d(n,["name"]);i!=null&&f(e,["name"],i);const r=d(n,["displayName"]);r!=null&&f(e,["displayName"],r);const a=d(n,["description"]);a!=null&&f(e,["description"],a);const l=d(n,["version"]);l!=null&&f(e,["version"],l);const c=d(n,["_self"]);c!=null&&f(e,["tunedModelInfo"],rC(c));const h=d(n,["inputTokenLimit"]);h!=null&&f(e,["inputTokenLimit"],h);const g=d(n,["outputTokenLimit"]);g!=null&&f(e,["outputTokenLimit"],g);const p=d(n,["supportedGenerationMethods"]);p!=null&&f(e,["supportedActions"],p);const _=d(n,["temperature"]);_!=null&&f(e,["temperature"],_);const x=d(n,["maxTemperature"]);x!=null&&f(e,["maxTemperature"],x);const b=d(n,["topP"]);b!=null&&f(e,["topP"],b);const E=d(n,["topK"]);E!=null&&f(e,["topK"],E);const w=d(n,["thinking"]);return w!=null&&f(e,["thinking"],w),e}function zc(n){const e={},i=d(n,["name"]);i!=null&&f(e,["name"],i);const r=d(n,["displayName"]);r!=null&&f(e,["displayName"],r);const a=d(n,["description"]);a!=null&&f(e,["description"],a);const l=d(n,["versionId"]);l!=null&&f(e,["version"],l);const c=d(n,["deployedModels"]);if(c!=null){let x=c;Array.isArray(x)&&(x=x.map(b=>nw(b))),f(e,["endpoints"],x)}const h=d(n,["labels"]);h!=null&&f(e,["labels"],h);const g=d(n,["_self"]);g!=null&&f(e,["tunedModelInfo"],oC(g));const p=d(n,["defaultCheckpointId"]);p!=null&&f(e,["defaultCheckpointId"],p);const _=d(n,["checkpoints"]);if(_!=null){let x=_;Array.isArray(x)&&(x=x.map(b=>b)),f(e,["checkpoints"],x)}return e}function zw(n){const e={},i=d(n,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const r=d(n,["codeExecutionResult"]);r!=null&&f(e,["codeExecutionResult"],r);const a=d(n,["executableCode"]);a!=null&&f(e,["executableCode"],a);const l=d(n,["fileData"]);l!=null&&f(e,["fileData"],iw(l));const c=d(n,["functionCall"]);c!=null&&f(e,["functionCall"],sw(c));const h=d(n,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const g=d(n,["inlineData"]);g!=null&&f(e,["inlineData"],RT(g));const p=d(n,["text"]);p!=null&&f(e,["text"],p);const _=d(n,["thought"]);_!=null&&f(e,["thought"],_);const x=d(n,["thoughtSignature"]);x!=null&&f(e,["thoughtSignature"],x);const b=d(n,["videoMetadata"]);return b!=null&&f(e,["videoMetadata"],b),e}function $w(n){const e={},i=d(n,["productImage"]);return i!=null&&f(e,["image"],cn(i)),e}function Fw(n,e){const i={},r=d(n,["numberOfImages"]);e!==void 0&&r!=null&&f(e,["parameters","sampleCount"],r);const a=d(n,["baseSteps"]);e!==void 0&&a!=null&&f(e,["parameters","baseSteps"],a);const l=d(n,["outputGcsUri"]);e!==void 0&&l!=null&&f(e,["parameters","storageUri"],l);const c=d(n,["seed"]);e!==void 0&&c!=null&&f(e,["parameters","seed"],c);const h=d(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&f(e,["parameters","safetySetting"],h);const g=d(n,["personGeneration"]);e!==void 0&&g!=null&&f(e,["parameters","personGeneration"],g);const p=d(n,["addWatermark"]);e!==void 0&&p!=null&&f(e,["parameters","addWatermark"],p);const _=d(n,["outputMimeType"]);e!==void 0&&_!=null&&f(e,["parameters","outputOptions","mimeType"],_);const x=d(n,["outputCompressionQuality"]);e!==void 0&&x!=null&&f(e,["parameters","outputOptions","compressionQuality"],x);const b=d(n,["enhancePrompt"]);e!==void 0&&b!=null&&f(e,["parameters","enhancePrompt"],b);const E=d(n,["labels"]);return e!==void 0&&E!=null&&f(e,["labels"],E),i}function Jw(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Ie(n,r));const a=d(e,["source"]);a!=null&&Kw(a,i);const l=d(e,["config"]);return l!=null&&Fw(l,i),i}function Yw(n){const e={},i=d(n,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>Fa(a))),f(e,["generatedImages"],r)}return e}function Kw(n,e){const i={},r=d(n,["prompt"]);e!==void 0&&r!=null&&f(e,["instances[0]","prompt"],r);const a=d(n,["personImage"]);e!==void 0&&a!=null&&f(e,["instances[0]","personImage","image"],cn(a));const l=d(n,["productImages"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(h=>$w(h))),f(e,["instances[0]","productImages"],c)}return i}function Qw(n){const e={},i=d(n,["referenceImage"]);i!=null&&f(e,["referenceImage"],cn(i));const r=d(n,["referenceId"]);r!=null&&f(e,["referenceId"],r);const a=d(n,["referenceType"]);a!=null&&f(e,["referenceType"],a);const l=d(n,["maskImageConfig"]);l!=null&&f(e,["maskImageConfig"],Hw(l));const c=d(n,["controlImageConfig"]);c!=null&&f(e,["controlImageConfig"],OT(c));const h=d(n,["styleImageConfig"]);h!=null&&f(e,["styleImageConfig"],h);const g=d(n,["subjectImageConfig"]);return g!=null&&f(e,["subjectImageConfig"],g),e}function xy(n){const e={},i=d(n,["safetyAttributes","categories"]);i!=null&&f(e,["categories"],i);const r=d(n,["safetyAttributes","scores"]);r!=null&&f(e,["scores"],r);const a=d(n,["contentType"]);return a!=null&&f(e,["contentType"],a),e}function by(n){const e={},i=d(n,["safetyAttributes","categories"]);i!=null&&f(e,["categories"],i);const r=d(n,["safetyAttributes","scores"]);r!=null&&f(e,["scores"],r);const a=d(n,["contentType"]);return a!=null&&f(e,["contentType"],a),e}function Xw(n){const e={},i=d(n,["category"]);if(i!=null&&f(e,["category"],i),d(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=d(n,["threshold"]);return r!=null&&f(e,["threshold"],r),e}function Zw(n){const e={},i=d(n,["image"]);return i!=null&&f(e,["image"],cn(i)),e}function Ww(n,e){const i={},r=d(n,["mode"]);e!==void 0&&r!=null&&f(e,["parameters","mode"],r);const a=d(n,["maxPredictions"]);e!==void 0&&a!=null&&f(e,["parameters","maxPredictions"],a);const l=d(n,["confidenceThreshold"]);e!==void 0&&l!=null&&f(e,["parameters","confidenceThreshold"],l);const c=d(n,["maskDilation"]);e!==void 0&&c!=null&&f(e,["parameters","maskDilation"],c);const h=d(n,["binaryColorThreshold"]);e!==void 0&&h!=null&&f(e,["parameters","binaryColorThreshold"],h);const g=d(n,["labels"]);return e!==void 0&&g!=null&&f(e,["labels"],g),i}function eC(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Ie(n,r));const a=d(e,["source"]);a!=null&&nC(a,i);const l=d(e,["config"]);return l!=null&&Ww(l,i),i}function tC(n){const e={},i=d(n,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>Cw(a))),f(e,["generatedMasks"],r)}return e}function nC(n,e){const i={},r=d(n,["prompt"]);e!==void 0&&r!=null&&f(e,["instances[0]","prompt"],r);const a=d(n,["image"]);e!==void 0&&a!=null&&f(e,["instances[0]","image"],cn(a));const l=d(n,["scribbleImage"]);return e!==void 0&&l!=null&&f(e,["instances[0]","scribble"],Zw(l)),i}function Sy(n){const e={},i=d(n,["languageCode"]);i!=null&&f(e,["languageCode"],i);const r=d(n,["voiceConfig"]);if(r!=null&&f(e,["voiceConfig"],r),d(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function iC(n){const e={},i=d(n,["functionCallingConfig"]);i!=null&&f(e,["functionCallingConfig"],rw(i));const r=d(n,["retrievalConfig"]);return r!=null&&f(e,["retrievalConfig"],r),e}function sC(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let _=i;Array.isArray(_)&&(_=_.map(x=>x)),f(e,["functionDeclarations"],_)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(n,["googleSearchRetrieval"]);r!=null&&f(e,["googleSearchRetrieval"],r);const a=d(n,["computerUse"]);a!=null&&f(e,["computerUse"],a);const l=d(n,["fileSearch"]);l!=null&&f(e,["fileSearch"],l);const c=d(n,["codeExecution"]);if(c!=null&&f(e,["codeExecution"],c),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=d(n,["googleMaps"]);h!=null&&f(e,["googleMaps"],kw(h));const g=d(n,["googleSearch"]);g!=null&&f(e,["googleSearch"],Dw(g));const p=d(n,["urlContext"]);return p!=null&&f(e,["urlContext"],p),e}function Ey(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(b=>ow(b))),f(e,["functionDeclarations"],x)}const r=d(n,["retrieval"]);r!=null&&f(e,["retrieval"],r);const a=d(n,["googleSearchRetrieval"]);a!=null&&f(e,["googleSearchRetrieval"],a);const l=d(n,["computerUse"]);if(l!=null&&f(e,["computerUse"],l),d(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(n,["codeExecution"]);c!=null&&f(e,["codeExecution"],c);const h=d(n,["enterpriseWebSearch"]);h!=null&&f(e,["enterpriseWebSearch"],h);const g=d(n,["googleMaps"]);g!=null&&f(e,["googleMaps"],g);const p=d(n,["googleSearch"]);p!=null&&f(e,["googleSearch"],p);const _=d(n,["urlContext"]);return _!=null&&f(e,["urlContext"],_),e}function rC(n){const e={},i=d(n,["baseModel"]);i!=null&&f(e,["baseModel"],i);const r=d(n,["createTime"]);r!=null&&f(e,["createTime"],r);const a=d(n,["updateTime"]);return a!=null&&f(e,["updateTime"],a),e}function oC(n){const e={},i=d(n,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&f(e,["baseModel"],i);const r=d(n,["createTime"]);r!=null&&f(e,["createTime"],r);const a=d(n,["updateTime"]);return a!=null&&f(e,["updateTime"],a),e}function aC(n,e){const i={},r=d(n,["displayName"]);e!==void 0&&r!=null&&f(e,["displayName"],r);const a=d(n,["description"]);e!==void 0&&a!=null&&f(e,["description"],a);const l=d(n,["defaultCheckpointId"]);return e!==void 0&&l!=null&&f(e,["defaultCheckpointId"],l),i}function lC(n,e){const i={},r=d(n,["displayName"]);e!==void 0&&r!=null&&f(e,["displayName"],r);const a=d(n,["description"]);e!==void 0&&a!=null&&f(e,["description"],a);const l=d(n,["defaultCheckpointId"]);return e!==void 0&&l!=null&&f(e,["defaultCheckpointId"],l),i}function uC(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","name"],Ie(n,r));const a=d(e,["config"]);return a!=null&&aC(a,i),i}function cC(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Ie(n,r));const a=d(e,["config"]);return a!=null&&lC(a,i),i}function dC(n,e){const i={},r=d(n,["outputGcsUri"]);e!==void 0&&r!=null&&f(e,["parameters","storageUri"],r);const a=d(n,["safetyFilterLevel"]);e!==void 0&&a!=null&&f(e,["parameters","safetySetting"],a);const l=d(n,["personGeneration"]);e!==void 0&&l!=null&&f(e,["parameters","personGeneration"],l);const c=d(n,["includeRaiReason"]);e!==void 0&&c!=null&&f(e,["parameters","includeRaiReason"],c);const h=d(n,["outputMimeType"]);e!==void 0&&h!=null&&f(e,["parameters","outputOptions","mimeType"],h);const g=d(n,["outputCompressionQuality"]);e!==void 0&&g!=null&&f(e,["parameters","outputOptions","compressionQuality"],g);const p=d(n,["enhanceInputImage"]);e!==void 0&&p!=null&&f(e,["parameters","upscaleConfig","enhanceInputImage"],p);const _=d(n,["imagePreservationFactor"]);e!==void 0&&_!=null&&f(e,["parameters","upscaleConfig","imagePreservationFactor"],_);const x=d(n,["labels"]);e!==void 0&&x!=null&&f(e,["labels"],x);const b=d(n,["numberOfImages"]);e!==void 0&&b!=null&&f(e,["parameters","sampleCount"],b);const E=d(n,["mode"]);return e!==void 0&&E!=null&&f(e,["parameters","mode"],E),i}function fC(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Ie(n,r));const a=d(e,["image"]);a!=null&&f(i,["instances[0]","image"],cn(a));const l=d(e,["upscaleFactor"]);l!=null&&f(i,["parameters","upscaleConfig","upscaleFactor"],l);const c=d(e,["config"]);return c!=null&&dC(c,i),i}function hC(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>Fa(l))),f(e,["generatedImages"],a)}return e}function pC(n){const e={},i=d(n,["uri"]);i!=null&&f(e,["uri"],i);const r=d(n,["encodedVideo"]);r!=null&&f(e,["videoBytes"],mi(r));const a=d(n,["encoding"]);return a!=null&&f(e,["mimeType"],a),e}function mC(n){const e={},i=d(n,["gcsUri"]);i!=null&&f(e,["uri"],i);const r=d(n,["bytesBase64Encoded"]);r!=null&&f(e,["videoBytes"],mi(r));const a=d(n,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function gC(n){const e={},i=d(n,["image"]);i!=null&&f(e,["_self"],cn(i));const r=d(n,["maskMode"]);return r!=null&&f(e,["maskMode"],r),e}function yC(n){const e={},i=d(n,["image"]);i!=null&&f(e,["image"],Ja(i));const r=d(n,["referenceType"]);return r!=null&&f(e,["referenceType"],r),e}function vC(n){const e={},i=d(n,["image"]);i!=null&&f(e,["image"],cn(i));const r=d(n,["referenceType"]);return r!=null&&f(e,["referenceType"],r),e}function Ty(n){const e={},i=d(n,["uri"]);i!=null&&f(e,["uri"],i);const r=d(n,["videoBytes"]);r!=null&&f(e,["encodedVideo"],mi(r));const a=d(n,["mimeType"]);return a!=null&&f(e,["encoding"],a),e}function wy(n){const e={},i=d(n,["uri"]);i!=null&&f(e,["gcsUri"],i);const r=d(n,["videoBytes"]);r!=null&&f(e,["bytesBase64Encoded"],mi(r));const a=d(n,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _C="Content-Type",xC="X-Server-Timeout",bC="User-Agent",$c="x-goog-api-client",SC="1.30.0",EC=`google-genai-sdk/${SC}`,TC="v1beta1",wC="v1beta",d0=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class CC{constructor(e){var i,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:TC,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:wC,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,r){const a=[this.getRequestUrlInternal(i)];return r&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,i,r);if(e.queryParams)for(const[c,h]of Object.entries(e.queryParams))a.searchParams.append(c,String(h));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,i,a.toString(),e.abortSignal),this.unaryApiCall(a,l,e.httpMethod)}patchHttpOptions(e,i){const r=JSON.parse(JSON.stringify(e));for(const[a,l]of Object.entries(i))typeof l=="object"?r[a]=Object.assign(Object.assign({},r[a]),l):l!==void 0&&(r[a]=l);return r}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,i,r);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,i,a.toString(),e.abortSignal),this.streamApiCall(a,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,r,a){if(i&&i.timeout||a){const l=new AbortController,c=l.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const h=setTimeout(()=>l.abort(),i.timeout);h&&typeof h.unref=="function"&&h.unref()}a&&a.addEventListener("abort",()=>{l.abort()}),e.signal=c}return i&&i.extraBody!==null&&AC(e,i.extraBody),e.headers=await this.getHeadersInternal(i,r),e}async unaryApiCall(e,i,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:r})).then(async a=>(await f0(a),new Bc(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,i,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:r})).then(async a=>(await f0(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){var i;return Gs(this,arguments,function*(){const a=(i=e==null?void 0:e.body)===null||i===void 0?void 0:i.getReader(),l=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let c="";for(;;){const{done:h,value:g}=yield Je(a.read());if(h){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=l.decode(g,{stream:!0});try{const x=JSON.parse(p);if("error"in x){const b=JSON.parse(JSON.stringify(x.error)),E=b.status,w=b.code,N=`got status: ${E}. ${JSON.stringify(x)}`;if(w>=400&&w<600)throw new za({message:N,status:w})}}catch(x){if(x.name==="ApiError")throw x}c+=p;let _=c.match(d0);for(;_;){const x=_[1];try{const b=new Response(x,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Je(new Bc(b)),c=c.slice(_[0].length),_=c.match(d0)}catch(b){throw new Error(`exception parsing stream chunk ${x}. ${b}`)}}}}finally{a.releaseLock()}})}async apiCall(e,i){return fetch(e,i).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},i=EC+" "+this.clientOptions.userAgentExtra;return e[bC]=i,e[$c]=i,e[_C]="application/json",e}async getHeadersInternal(e,i){const r=new Headers;if(e&&e.headers){for(const[a,l]of Object.entries(e.headers))r.append(a,l);e.timeout&&e.timeout>0&&r.append(xC,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,i),r}getFileName(e){var i;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(i=r.split(/[/\\]/).pop())!==null&&i!==void 0?i:""),r}async uploadFile(e,i){var r;const a={};i!=null&&(a.mimeType=i.mimeType,a.name=i.name,a.displayName=i.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const l=this.clientOptions.uploader,c=await l.stat(e);a.sizeBytes=String(c.size);const h=(r=i==null?void 0:i.mimeType)!==null&&r!==void 0?r:c.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=h;const g={file:a},p=this.getFileName(e),_=ee("upload/v1beta/files",g._url),x=await this.fetchUploadUrl(_,a.sizeBytes,a.mimeType,p,g,i==null?void 0:i.httpOptions);return l.upload(e,x,this)}async uploadFileToFileSearchStore(e,i,r){var a;const l=this.clientOptions.uploader,c=await l.stat(i),h=String(c.size),g=(a=r==null?void 0:r.mimeType)!==null&&a!==void 0?a:c.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const p=`upload/v1beta/${e}:uploadToFileSearchStore`,_=this.getFileName(i),x={};r!=null&&r.customMetadata&&(x.customMetadata=r.customMetadata),r!=null&&r.chunkingConfig&&(x.chunkingConfig=r.chunkingConfig);const b=await this.fetchUploadUrl(p,h,g,_,x,r==null?void 0:r.httpOptions);return l.uploadToFileSearchStore(i,b,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i,r,a,l,c){var h;let g={};c?g=c:g={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i}`,"X-Goog-Upload-Header-Content-Type":`${r}`},a?{"X-Goog-Upload-File-Name":a}:{})};const p=await this.request({path:e,body:JSON.stringify(l),httpMethod:"POST",httpOptions:g});if(!p||!(p!=null&&p.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const _=(h=p==null?void 0:p.headers)===null||h===void 0?void 0:h["x-goog-upload-url"];if(_===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return _}}async function f0(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const i=n.status;let r;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await n.json():r={error:{message:await n.text(),code:n.status,status:n.statusText}};const a=JSON.stringify(r);throw i>=400&&i<600?new za({message:a,status:i}):new Error(a)}}function AC(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof n.body=="string"&&n.body.length>0)try{const l=JSON.parse(n.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))i=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(l,c){const h=Object.assign({},l);for(const g in c)if(Object.prototype.hasOwnProperty.call(c,g)){const p=c[g],_=h[g];p&&typeof p=="object"&&!Array.isArray(p)&&_&&typeof _=="object"&&!Array.isArray(_)?h[g]=r(_,p):(_&&p&&typeof _!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${g}". Original type: ${typeof _}, New type: ${typeof p}. Overwriting.`),h[g]=p)}return h}const a=r(i,e);n.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const NC="mcp_used/unknown";let RC=!1;function Cy(n){for(const e of n)if(MC(e)||typeof e=="object"&&"inputSchema"in e)return!0;return RC}function Ay(n){var e;const i=(e=n[$c])!==null&&e!==void 0?e:"";n[$c]=(i+` ${NC}`).trimStart()}function MC(n){return n!==null&&typeof n=="object"&&n instanceof vd}function IC(n,e=100){return Gs(this,arguments,function*(){let r,a=0;for(;a<e;){const l=yield Je(n.listTools({cursor:r}));for(const c of l.tools)yield yield Je(c),a++;if(!l.nextCursor)break;r=l.nextCursor}})}class vd{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new vd(e,i)}async initialize(){var e,i,r,a;if(this.mcpTools.length>0)return;const l={},c=[];for(const _ of this.mcpClients)try{for(var h=!0,g=(i=void 0,Yr(IC(_))),p;p=await g.next(),e=p.done,!e;h=!0){a=p.value,h=!1;const x=a;c.push(x);const b=x.name;if(l[b])throw new Error(`Duplicate function name ${b} found in MCP tools. Please ensure function names are unique.`);l[b]=_}}catch(x){i={error:x}}finally{try{!h&&!e&&(r=g.return)&&await r.call(g)}finally{if(i)throw i.error}}this.mcpTools=c,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),ES(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[r.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const c=await a.callTool({name:r.name,arguments:r.args},void 0,l);i.push({functionResponse:{name:r.name,response:c.isError?{error:c}:c}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function kC(n,e,i){const r=new mS;let a;i.data instanceof Blob?a=JSON.parse(await i.data.text()):a=JSON.parse(i.data),Object.assign(r,a),e(r)}class DC{constructor(e,i,r){this.apiClient=e,this.auth=i,this.webSocketFactory=r}async connect(e){var i,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),c=OC(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),g=`${a}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${h}`;let p=()=>{};const _=new Promise(A=>{p=A}),x=e.callbacks,b=function(){p({})},E=this.apiClient,w={onopen:b,onmessage:A=>{kC(E,x.onmessage,A)},onerror:(i=x==null?void 0:x.onerror)!==null&&i!==void 0?i:function(A){},onclose:(r=x==null?void 0:x.onclose)!==null&&r!==void 0?r:function(A){}},N=this.webSocketFactory.create(g,PC(c),w);N.connect(),await _;const k={setup:{model:Ie(this.apiClient,e.model)}};return N.send(JSON.stringify(k)),new UC(N,this.apiClient)}}class UC{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=xT(e);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=_T(e);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const i={playbackControl:e};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(Ls.PLAY)}pause(){this.sendPlaybackControl(Ls.PAUSE)}stop(){this.sendPlaybackControl(Ls.STOP)}resetContext(){this.sendPlaybackControl(Ls.RESET_CONTEXT)}close(){this.conn.close()}}function PC(n){const e={};return n.forEach((i,r)=>{e[r]=i}),e}function OC(n){const e=new Headers;for(const[i,r]of Object.entries(n))e.append(i,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LC="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function qC(n,e,i){const r=new pS;let a;i.data instanceof Blob?a=await i.data.text():i.data instanceof ArrayBuffer?a=new TextDecoder().decode(i.data):a=i.data;const l=JSON.parse(a);if(n.isVertexAI()){const c=ET(l);Object.assign(r,c)}else Object.assign(r,l);e(r)}class GC{constructor(e,i,r){this.apiClient=e,this.auth=i,this.webSocketFactory=r,this.music=new DC(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,r,a,l,c,h;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const g=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let _;const x=this.apiClient.getHeaders();e.config&&e.config.tools&&Cy(e.config.tools)&&Ay(x);const b=HC(x);if(this.apiClient.isVertexAI())_=`${g}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(b,_);else{const K=this.apiClient.getApiKey();let te="BidiGenerateContent",ue="key";K!=null&&K.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),te="BidiGenerateContentConstrained",ue="access_token"),_=`${g}/ws/google.ai.generativelanguage.${p}.GenerativeService.${te}?${ue}=${K}`}let E=()=>{};const w=new Promise(K=>{E=K}),N=e.callbacks,I=function(){var K;(K=N==null?void 0:N.onopen)===null||K===void 0||K.call(N),E({})},P=this.apiClient,k={onopen:I,onmessage:K=>{qC(P,N.onmessage,K)},onerror:(i=N==null?void 0:N.onerror)!==null&&i!==void 0?i:function(K){},onclose:(r=N==null?void 0:N.onclose)!==null&&r!==void 0?r:function(K){}},A=this.webSocketFactory.create(_,VC(b),k);A.connect(),await w;let j=Ie(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&j.startsWith("publishers/")){const K=this.apiClient.getProject(),te=this.apiClient.getLocation();j=`projects/${K}/locations/${te}/`+j}let D={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Zr.AUDIO]}:e.config.responseModalities=[Zr.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const Y=(h=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[],G=[];for(const K of Y)if(this.isCallableTool(K)){const te=K;G.push(await te.tool())}else G.push(K);G.length>0&&(e.config.tools=G);const W={model:j,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?D=vT(this.apiClient,W):D=yT(this.apiClient,W),delete D.config,A.send(JSON.stringify(D)),new jC(A,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const BC={turnComplete:!0};class jC{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let r=[];try{r=nn(i.turns),e.isVertexAI()||(r=r.map(a=>$a(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:r,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let r=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?r=i.functionResponses:r=[i.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const l of r){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(LC)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},BC),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:ST(e)}:i={realtimeInput:bT(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function VC(n){const e={};return n.forEach((i,r)=>{e[r]=i}),e}function HC(n){const e=new Headers;for(const[i,r]of Object.entries(n))e.append(i,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const h0=10;function p0(n){var e,i,r;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const c of(i=n==null?void 0:n.tools)!==null&&i!==void 0?i:[])if(Bs(c)){a=!0;break}if(!a)return!0;const l=(r=n==null?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function Bs(n){return"callTool"in n&&typeof n.callTool=="function"}function zC(n){var e,i,r;return(r=(i=(e=n.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(a=>Bs(a)))!==null&&r!==void 0?r:!1}function m0(n){var e;const i=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((r,a)=>{if(Bs(r))return;const l=r;l.functionDeclarations&&l.functionDeclarations.length>0&&i.push(a)}),i}function g0(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $C extends Ln{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var r,a,l,c,h;const g=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!zC(i)||p0(i.config))return await this.generateContentInternal(g);const p=m0(i);if(p.length>0){const N=p.map(I=>`tools[${I}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${N}.`)}let _,x;const b=nn(g.contents),E=(l=(a=(r=g.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&l!==void 0?l:h0;let w=0;for(;w<E&&(_=await this.generateContentInternal(g),!(!_.functionCalls||_.functionCalls.length===0));){const N=_.candidates[0].content,I=[];for(const P of(h=(c=i.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[])if(Bs(P)){const A=await P.callTool(_.functionCalls);I.push(...A)}w++,x={role:"user",parts:I},g.contents=nn(g.contents),g.contents.push(N),g.contents.push(x),g0(g.config)&&(b.push(N),b.push(x))}return g0(g.config)&&(_.automaticFunctionCallingHistory=b),_},this.generateContentStream=async i=>{var r,a,l,c,h;if(this.maybeMoveToResponseJsonSchem(i),p0(i.config)){const x=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(x)}const g=m0(i);if(g.length>0){const x=g.map(b=>`tools[${b}]`).join(", ");throw new Error(`Incompatible tools found at ${x}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const p=(l=(a=(r=i==null?void 0:i.config)===null||r===void 0?void 0:r.toolConfig)===null||a===void 0?void 0:a.functionCallingConfig)===null||l===void 0?void 0:l.streamFunctionCallArguments,_=(h=(c=i==null?void 0:i.config)===null||c===void 0?void 0:c.automaticFunctionCalling)===null||h===void 0?void 0:h.disable;if(p&&!_)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(r=>{var a;let l;const c=[];if(r!=null&&r.generatedImages)for(const g of r.generatedImages)g&&(g!=null&&g.safetyAttributes)&&((a=g==null?void 0:g.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?l=g==null?void 0:g.safetyAttributes:c.push(g);let h;return l?h={generatedImages:c,positivePromptSafetyAttributes:l,sdkHttpResponse:r.sdkHttpResponse}:h={generatedImages:c,sdkHttpResponse:r.sdkHttpResponse},h}),this.list=async i=>{var r;const c={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((r=c.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new zi(Pn.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(c),c)},this.editImage=async i=>{const r={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(r.referenceImages=i.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async i=>{let r={numberOfImages:1,mode:"upscale"};i.config&&(r=Object.assign(Object.assign({},r),i.config));const a={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:r};return await this.upscaleImageInternal(a)},this.generateVideos=async i=>{var r,a,l,c,h,g;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=i.video)===null||r===void 0)&&r.uri&&(!((a=i.video)===null||a===void 0)&&a.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((c=(l=i.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.uri&&(!((g=(h=i.source)===null||h===void 0?void 0:h.video)===null||g===void 0)&&g.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,r,a;const l=(i=e.config)===null||i===void 0?void 0:i.tools;if(!l)return e;const c=await Promise.all(l.map(async g=>Bs(g)?await g.tool():g)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(h.config.tools=c,e.config&&e.config.tools&&Cy(e.config.tools)){const g=(a=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&a!==void 0?a:{};let p=Object.assign({},g);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),Ay(p),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return h}async initAfcToolsMap(e){var i,r,a;const l=new Map;for(const c of(r=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&r!==void 0?r:[])if(Bs(c)){const h=c,g=await h.tool();for(const p of(a=g.functionDeclarations)!==null&&a!==void 0?a:[]){if(!p.name)throw new Error("Function declaration name is required.");if(l.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);l.set(p.name,h)}}return l}async processAfcStream(e){var i,r,a;const l=(a=(r=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&a!==void 0?a:h0;let c=!1,h=0;const g=await this.initAfcToolsMap(e);return(function(p,_,x){var b,E;return Gs(this,arguments,function*(){for(var w,N,I,P;h<l;){c&&(h++,c=!1);const D=yield Je(p.processParamsMaybeAddMcpUsage(x)),Y=yield Je(p.generateContentStreamInternal(D)),G=[],W=[];try{for(var k=!0,A=(N=void 0,Yr(Y)),j;j=yield Je(A.next()),w=j.done,!w;k=!0){P=j.value,k=!1;const K=P;if(yield yield Je(K),K.candidates&&(!((b=K.candidates[0])===null||b===void 0)&&b.content)){W.push(K.candidates[0].content);for(const te of(E=K.candidates[0].content.parts)!==null&&E!==void 0?E:[])if(h<l&&te.functionCall){if(!te.functionCall.name)throw new Error("Function call name was not returned by the model.");if(_.has(te.functionCall.name)){const ue=yield Je(_.get(te.functionCall.name).callTool([te.functionCall]));G.push(...ue)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${_.keys()}, mising tool: ${te.functionCall.name}`)}}}}catch(K){N={error:K}}finally{try{!k&&!w&&(I=A.return)&&(yield Je(I.call(A)))}finally{if(N)throw N.error}}if(G.length>0){c=!0;const K=new Fr;K.candidates=[{content:{role:"user",parts:G}}],yield yield Je(K);const te=[];te.push(...W),te.push({role:"user",parts:G});const ue=nn(x.contents).concat(te);x.contents=ue}else break}})})(this,g,e)}async generateContentInternal(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=l0(this.apiClient,e);return h=ee("{model}:generateContent",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>{const x=c0(_),b=new Fr;return Object.assign(b,x),b})}else{const p=a0(this.apiClient,e);return h=ee("{model}:generateContent",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>{const x=u0(_),b=new Fr;return Object.assign(b,x),b})}}async generateContentStreamInternal(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=l0(this.apiClient,e);return h=ee("{model}:streamGenerateContent?alt=sse",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.requestStream({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),c.then(function(x){return Gs(this,arguments,function*(){var b,E,w,N;try{for(var I=!0,P=Yr(x),k;k=yield Je(P.next()),b=k.done,!b;I=!0){N=k.value,I=!1;const A=N,j=c0(yield Je(A.json()));j.sdkHttpResponse={headers:A.headers};const D=new Fr;Object.assign(D,j),yield yield Je(D)}}catch(A){E={error:A}}finally{try{!I&&!b&&(w=P.return)&&(yield Je(w.call(P)))}finally{if(E)throw E.error}}})})}else{const p=a0(this.apiClient,e);return h=ee("{model}:streamGenerateContent?alt=sse",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.requestStream({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),c.then(function(x){return Gs(this,arguments,function*(){var b,E,w,N;try{for(var I=!0,P=Yr(x),k;k=yield Je(P.next()),b=k.done,!b;I=!0){N=k.value,I=!1;const A=N,j=u0(yield Je(A.json()));j.sdkHttpResponse={headers:A.headers};const D=new Fr;Object.assign(D,j),yield yield Je(D)}}catch(A){E={error:A}}finally{try{!I&&!b&&(w=P.return)&&(yield Je(w.call(P)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=WT(this.apiClient,e);return h=ee("{model}:predict",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>{const x=tw(_),b=new $g;return Object.assign(b,x),b})}else{const p=ZT(this.apiClient,e);return h=ee("{model}:batchEmbedContents",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>{const x=ew(_),b=new $g;return Object.assign(b,x),b})}}async generateImagesInternal(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=fw(this.apiClient,e);return h=ee("{model}:predict",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>{const x=pw(_),b=new Fg;return Object.assign(b,x),b})}else{const p=dw(this.apiClient,e);return h=ee("{model}:predict",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>{const x=hw(_),b=new Fg;return Object.assign(b,x),b})}}async editImageInternal(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const h=YT(this.apiClient,e);return l=ee("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:g.headers},_})),a.then(g=>{const p=KT(g),_=new iS;return Object.assign(_,p),_})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const h=fC(this.apiClient,e);return l=ee("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:g.headers},_})),a.then(g=>{const p=hC(g),_=new sS;return Object.assign(_,p),_})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const h=Jw(this.apiClient,e);return l=ee("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const p=Yw(g),_=new rS;return Object.assign(_,p),_})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const h=eC(this.apiClient,e);return l=ee("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const p=tC(g),_=new oS;return Object.assign(_,p),_})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=Iw(this.apiClient,e);return h=ee("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>zc(_))}else{const p=Mw(this.apiClient,e);return h=ee("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>Hc(_))}}async listInternal(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=Bw(this.apiClient,e);return h=ee("{models_url}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>{const x=Vw(_),b=new Jg;return Object.assign(b,x),b})}else{const p=Gw(this.apiClient,e);return h=ee("{models_url}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>{const x=jw(_),b=new Jg;return Object.assign(b,x),b})}}async update(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=cC(this.apiClient,e);return h=ee("{model}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>zc(_))}else{const p=uC(this.apiClient,e);return h=ee("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>Hc(_))}}async delete(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=zT(this.apiClient,e);return h=ee("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>{const x=FT(_),b=new Yg;return Object.assign(b,x),b})}else{const p=HT(this.apiClient,e);return h=ee("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>{const x=$T(_),b=new Yg;return Object.assign(b,x),b})}}async countTokens(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=BT(this.apiClient,e);return h=ee("{model}:countTokens",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>{const x=VT(_),b=new Kg;return Object.assign(b,x),b})}else{const p=GT(this.apiClient,e);return h=ee("{model}:countTokens",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>{const x=jT(_),b=new Kg;return Object.assign(b,x),b})}}async computeTokens(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const h=kT(this.apiClient,e);return l=ee("{model}:computeTokens",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:g.headers},_})),a.then(g=>{const p=DT(g),_=new aS;return Object.assign(_,p),_})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=xw(this.apiClient,e);return h=ee("{model}:predictLongRunning",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>{const x=vw(_),b=new Ua;return Object.assign(b,x),b})}else{const p=_w(this.apiClient,e);return h=ee("{model}:predictLongRunning",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>{const x=yw(_),b=new Ua;return Object.assign(b,x),b})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FC extends Ln{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,r=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let l;r&&"httpOptions"in r&&(l=r.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:l}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:r});return i._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(e){const i=e.operation,r=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let l;r&&"httpOptions"in r&&(l=r.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:l}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:r});return i._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=Xb(e);return h=ee("{operationName}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c}else{const p=Qb(e);return h=ee("{operationName}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c}}async fetchPredictVideosOperationInternal(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const h=Hb(e);return l=ee("{resourceName}:fetchPredictOperation",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JC(n){const e={},i=d(n,["data"]);if(i!=null&&f(e,["data"],i),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(n,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function YC(n){const e={},i=d(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>iA(l))),f(e,["parts"],a)}const r=d(n,["role"]);return r!=null&&f(e,["role"],r),e}function KC(n,e,i){const r={},a=d(e,["expireTime"]);i!==void 0&&a!=null&&f(i,["expireTime"],a);const l=d(e,["newSessionExpireTime"]);i!==void 0&&l!=null&&f(i,["newSessionExpireTime"],l);const c=d(e,["uses"]);i!==void 0&&c!=null&&f(i,["uses"],c);const h=d(e,["liveConnectConstraints"]);i!==void 0&&h!=null&&f(i,["bidiGenerateContentSetup"],nA(n,h));const g=d(e,["lockAdditionalFields"]);return i!==void 0&&g!=null&&f(i,["fieldMask"],g),r}function QC(n,e){const i={},r=d(e,["config"]);return r!=null&&f(i,["config"],KC(n,r,i)),i}function XC(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["fileUri"]);i!=null&&f(e,["fileUri"],i);const r=d(n,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function ZC(n){const e={},i=d(n,["id"]);i!=null&&f(e,["id"],i);const r=d(n,["args"]);r!=null&&f(e,["args"],r);const a=d(n,["name"]);if(a!=null&&f(e,["name"],a),d(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function WC(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(n,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function eA(n){const e={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(n,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function tA(n,e){const i={},r=d(n,["generationConfig"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig"],r);const a=d(n,["responseModalities"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","responseModalities"],a);const l=d(n,["temperature"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","temperature"],l);const c=d(n,["topP"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","topP"],c);const h=d(n,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const g=d(n,["maxOutputTokens"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","maxOutputTokens"],g);const p=d(n,["mediaResolution"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","mediaResolution"],p);const _=d(n,["seed"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","seed"],_);const x=d(n,["speechConfig"]);e!==void 0&&x!=null&&f(e,["setup","generationConfig","speechConfig"],yd(x));const b=d(n,["thinkingConfig"]);e!==void 0&&b!=null&&f(e,["setup","generationConfig","thinkingConfig"],b);const E=d(n,["enableAffectiveDialog"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],E);const w=d(n,["systemInstruction"]);e!==void 0&&w!=null&&f(e,["setup","systemInstruction"],YC(Et(w)));const N=d(n,["tools"]);if(e!==void 0&&N!=null){let Y=Fs(N);Array.isArray(Y)&&(Y=Y.map(G=>rA($s(G)))),f(e,["setup","tools"],Y)}const I=d(n,["sessionResumption"]);e!==void 0&&I!=null&&f(e,["setup","sessionResumption"],sA(I));const P=d(n,["inputAudioTranscription"]);e!==void 0&&P!=null&&f(e,["setup","inputAudioTranscription"],P);const k=d(n,["outputAudioTranscription"]);e!==void 0&&k!=null&&f(e,["setup","outputAudioTranscription"],k);const A=d(n,["realtimeInputConfig"]);e!==void 0&&A!=null&&f(e,["setup","realtimeInputConfig"],A);const j=d(n,["contextWindowCompression"]);e!==void 0&&j!=null&&f(e,["setup","contextWindowCompression"],j);const D=d(n,["proactivity"]);return e!==void 0&&D!=null&&f(e,["setup","proactivity"],D),i}function nA(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["setup","model"],Ie(n,r));const a=d(e,["config"]);return a!=null&&f(i,["config"],tA(a,i)),i}function iA(n){const e={},i=d(n,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const r=d(n,["codeExecutionResult"]);r!=null&&f(e,["codeExecutionResult"],r);const a=d(n,["executableCode"]);a!=null&&f(e,["executableCode"],a);const l=d(n,["fileData"]);l!=null&&f(e,["fileData"],XC(l));const c=d(n,["functionCall"]);c!=null&&f(e,["functionCall"],ZC(c));const h=d(n,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const g=d(n,["inlineData"]);g!=null&&f(e,["inlineData"],JC(g));const p=d(n,["text"]);p!=null&&f(e,["text"],p);const _=d(n,["thought"]);_!=null&&f(e,["thought"],_);const x=d(n,["thoughtSignature"]);x!=null&&f(e,["thoughtSignature"],x);const b=d(n,["videoMetadata"]);return b!=null&&f(e,["videoMetadata"],b),e}function sA(n){const e={},i=d(n,["handle"]);if(i!=null&&f(e,["handle"],i),d(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function rA(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let _=i;Array.isArray(_)&&(_=_.map(x=>x)),f(e,["functionDeclarations"],_)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(n,["googleSearchRetrieval"]);r!=null&&f(e,["googleSearchRetrieval"],r);const a=d(n,["computerUse"]);a!=null&&f(e,["computerUse"],a);const l=d(n,["fileSearch"]);l!=null&&f(e,["fileSearch"],l);const c=d(n,["codeExecution"]);if(c!=null&&f(e,["codeExecution"],c),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=d(n,["googleMaps"]);h!=null&&f(e,["googleMaps"],WC(h));const g=d(n,["googleSearch"]);g!=null&&f(e,["googleSearch"],eA(g));const p=d(n,["urlContext"]);return p!=null&&f(e,["urlContext"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oA(n){const e=[];for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const r=n[i];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const a=Object.keys(r).map(l=>`${i}.${l}`);e.push(...a)}else e.push(i)}return e.join(",")}function aA(n,e){let i=null;const r=n.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const l=r.setup;typeof l=="object"&&l!==null?(n.bidiGenerateContentSetup=l,i=l):delete n.bidiGenerateContentSetup}else r!==void 0&&delete n.bidiGenerateContentSetup;const a=n.fieldMask;if(i){const l=oA(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)l?n.fieldMask=l:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];a.length>0&&(h=a.map(p=>c.includes(p)?`generationConfig.${p}`:p));const g=[];l&&g.push(l),h.length>0&&g.push(...h),g.length>0?n.fieldMask=g.join(","):delete n.fieldMask}else delete n.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?n.fieldMask=a.join(","):delete n.fieldMask;return n}class lA extends Ln{constructor(e){super(),this.apiClient=e}async create(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=QC(this.apiClient,e);l=ee("auth_tokens",h._url),c=h._query,delete h.config,delete h._url,delete h._query;const g=aA(h,e.config);return a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a.then(p=>p)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uA(n,e){const i={},r=d(n,["displayName"]);return e!==void 0&&r!=null&&f(e,["displayName"],r),i}function cA(n){const e={},i=d(n,["config"]);return i!=null&&uA(i,e),e}function dA(n,e){const i={},r=d(n,["force"]);return e!==void 0&&r!=null&&f(e,["_query","force"],r),i}function fA(n){const e={},i=d(n,["name"]);i!=null&&f(e,["_url","name"],i);const r=d(n,["config"]);return r!=null&&dA(r,e),e}function hA(n){const e={},i=d(n,["name"]);return i!=null&&f(e,["_url","name"],i),e}function pA(n,e){const i={},r=d(n,["customMetadata"]);if(e!==void 0&&r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["customMetadata"],l)}const a=d(n,["chunkingConfig"]);return e!==void 0&&a!=null&&f(e,["chunkingConfig"],a),i}function mA(n){const e={},i=d(n,["name"]);i!=null&&f(e,["name"],i);const r=d(n,["metadata"]);r!=null&&f(e,["metadata"],r);const a=d(n,["done"]);a!=null&&f(e,["done"],a);const l=d(n,["error"]);l!=null&&f(e,["error"],l);const c=d(n,["response"]);return c!=null&&f(e,["response"],yA(c)),e}function gA(n){const e={},i=d(n,["fileSearchStoreName"]);i!=null&&f(e,["_url","file_search_store_name"],i);const r=d(n,["fileName"]);r!=null&&f(e,["fileName"],r);const a=d(n,["config"]);return a!=null&&pA(a,e),e}function yA(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["parent"]);r!=null&&f(e,["parent"],r);const a=d(n,["documentName"]);return a!=null&&f(e,["documentName"],a),e}function vA(n,e){const i={},r=d(n,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);const a=d(n,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),i}function _A(n){const e={},i=d(n,["config"]);return i!=null&&vA(i,e),e}function xA(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const a=d(n,["fileSearchStores"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["fileSearchStores"],l)}return e}function bA(n,e){const i={},r=d(n,["mimeType"]);e!==void 0&&r!=null&&f(e,["mimeType"],r);const a=d(n,["displayName"]);e!==void 0&&a!=null&&f(e,["displayName"],a);const l=d(n,["customMetadata"]);if(e!==void 0&&l!=null){let h=l;Array.isArray(h)&&(h=h.map(g=>g)),f(e,["customMetadata"],h)}const c=d(n,["chunkingConfig"]);return e!==void 0&&c!=null&&f(e,["chunkingConfig"],c),i}function SA(n){const e={},i=d(n,["fileSearchStoreName"]);i!=null&&f(e,["_url","file_search_store_name"],i);const r=d(n,["config"]);return r!=null&&bA(r,e),e}function EA(n){const e={},i=d(n,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TA(n,e){const i={},r=d(n,["force"]);return e!==void 0&&r!=null&&f(e,["_query","force"],r),i}function wA(n){const e={},i=d(n,["name"]);i!=null&&f(e,["_url","name"],i);const r=d(n,["config"]);return r!=null&&TA(r,e),e}function CA(n){const e={},i=d(n,["name"]);return i!=null&&f(e,["_url","name"],i),e}function AA(n,e){const i={},r=d(n,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);const a=d(n,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),i}function NA(n){const e={},i=d(n,["parent"]);i!=null&&f(e,["_url","parent"],i);const r=d(n,["config"]);return r!=null&&AA(r,e),e}function RA(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const a=d(n,["documents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["documents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MA extends Ln{constructor(e){super(),this.apiClient=e,this.list=async i=>new zi(Pn.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:i.parent,config:r.config}),await this.listInternal(i),i)}async get(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=CA(e);return l=ee("{name}",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(e){var i,r;let a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=wA(e);a=ee("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=NA(e);return l=ee("{parent}/documents",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const p=RA(g),_=new lS;return Object.assign(_,p),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IA extends Ln{constructor(e,i=new MA(e)){super(),this.apiClient=e,this.documents=i,this.list=async(r={})=>new zi(Pn.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=cA(e);return l=ee("fileSearchStores",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async get(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=hA(e);return l=ee("{name}",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(e){var i,r;let a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=fA(e);a=ee("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=_A(e);return l=ee("fileSearchStores",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const p=xA(g),_=new uS;return Object.assign(_,p),_})}}async uploadToFileSearchStoreInternal(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=SA(e);return l=ee("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const p=EA(g),_=new cS;return Object.assign(_,p),_})}}async importFile(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=gA(e);return l=ee("{file_search_store_name}:importFile",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const p=mA(g),_=new fd;return Object.assign(_,p),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kA(n,e){const i={},r=d(n,["name"]);return r!=null&&f(i,["_url","name"],r),i}function DA(n,e){const i={},r=d(n,["name"]);return r!=null&&f(i,["_url","name"],r),i}function UA(n,e,i){const r={};if(d(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=d(n,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&f(e,["displayName"],a),d(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=d(n,["epochCount"]);e!==void 0&&l!=null&&f(e,["tuningTask","hyperparameters","epochCount"],l);const c=d(n,["learningRateMultiplier"]);if(c!=null&&f(r,["tuningTask","hyperparameters","learningRateMultiplier"],c),d(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=d(n,["batchSize"]);e!==void 0&&h!=null&&f(e,["tuningTask","hyperparameters","batchSize"],h);const g=d(n,["learningRate"]);if(e!==void 0&&g!=null&&f(e,["tuningTask","hyperparameters","learningRate"],g),d(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function PA(n,e,i){const r={};let a=d(i,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const E=d(n,["validationDataset"]);e!==void 0&&E!=null&&f(e,["supervisedTuningSpec"],y0(E))}else if(a==="PREFERENCE_TUNING"){const E=d(n,["validationDataset"]);e!==void 0&&E!=null&&f(e,["preferenceOptimizationSpec"],y0(E))}const l=d(n,["tunedModelDisplayName"]);e!==void 0&&l!=null&&f(e,["tunedModelDisplayName"],l);const c=d(n,["description"]);e!==void 0&&c!=null&&f(e,["description"],c);let h=d(i,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const E=d(n,["epochCount"]);e!==void 0&&E!=null&&f(e,["supervisedTuningSpec","hyperParameters","epochCount"],E)}else if(h==="PREFERENCE_TUNING"){const E=d(n,["epochCount"]);e!==void 0&&E!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],E)}let g=d(i,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const E=d(n,["learningRateMultiplier"]);e!==void 0&&E!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],E)}else if(g==="PREFERENCE_TUNING"){const E=d(n,["learningRateMultiplier"]);e!==void 0&&E!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],E)}let p=d(i,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const E=d(n,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&f(e,["supervisedTuningSpec","exportLastCheckpointOnly"],E)}else if(p==="PREFERENCE_TUNING"){const E=d(n,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&f(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],E)}let _=d(i,["config","method"]);if(_===void 0&&(_="SUPERVISED_FINE_TUNING"),_==="SUPERVISED_FINE_TUNING"){const E=d(n,["adapterSize"]);e!==void 0&&E!=null&&f(e,["supervisedTuningSpec","hyperParameters","adapterSize"],E)}else if(_==="PREFERENCE_TUNING"){const E=d(n,["adapterSize"]);e!==void 0&&E!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],E)}if(d(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const x=d(n,["labels"]);e!==void 0&&x!=null&&f(e,["labels"],x);const b=d(n,["beta"]);return e!==void 0&&b!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","beta"],b),r}function OA(n,e){const i={},r=d(n,["baseModel"]);r!=null&&f(i,["baseModel"],r);const a=d(n,["preTunedModel"]);a!=null&&f(i,["preTunedModel"],a);const l=d(n,["trainingDataset"]);l!=null&&JA(l);const c=d(n,["config"]);return c!=null&&UA(c,i),i}function LA(n,e){const i={},r=d(n,["baseModel"]);r!=null&&f(i,["baseModel"],r);const a=d(n,["preTunedModel"]);a!=null&&f(i,["preTunedModel"],a);const l=d(n,["trainingDataset"]);l!=null&&YA(l,i,e);const c=d(n,["config"]);return c!=null&&PA(c,i,e),i}function qA(n,e){const i={},r=d(n,["name"]);return r!=null&&f(i,["_url","name"],r),i}function GA(n,e){const i={},r=d(n,["name"]);return r!=null&&f(i,["_url","name"],r),i}function BA(n,e,i){const r={},a=d(n,["pageSize"]);e!==void 0&&a!=null&&f(e,["_query","pageSize"],a);const l=d(n,["pageToken"]);e!==void 0&&l!=null&&f(e,["_query","pageToken"],l);const c=d(n,["filter"]);return e!==void 0&&c!=null&&f(e,["_query","filter"],c),r}function jA(n,e,i){const r={},a=d(n,["pageSize"]);e!==void 0&&a!=null&&f(e,["_query","pageSize"],a);const l=d(n,["pageToken"]);e!==void 0&&l!=null&&f(e,["_query","pageToken"],l);const c=d(n,["filter"]);return e!==void 0&&c!=null&&f(e,["_query","filter"],c),r}function VA(n,e){const i={},r=d(n,["config"]);return r!=null&&BA(r,i),i}function HA(n,e){const i={},r=d(n,["config"]);return r!=null&&jA(r,i),i}function zA(n,e){const i={},r=d(n,["sdkHttpResponse"]);r!=null&&f(i,["sdkHttpResponse"],r);const a=d(n,["nextPageToken"]);a!=null&&f(i,["nextPageToken"],a);const l=d(n,["tunedModels"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(h=>Ny(h))),f(i,["tuningJobs"],c)}return i}function $A(n,e){const i={},r=d(n,["sdkHttpResponse"]);r!=null&&f(i,["sdkHttpResponse"],r);const a=d(n,["nextPageToken"]);a!=null&&f(i,["nextPageToken"],a);const l=d(n,["tuningJobs"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(h=>Fc(h))),f(i,["tuningJobs"],c)}return i}function FA(n,e){const i={},r=d(n,["name"]);r!=null&&f(i,["model"],r);const a=d(n,["name"]);return a!=null&&f(i,["endpoint"],a),i}function JA(n,e){const i={};if(d(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=d(n,["examples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),f(i,["examples","examples"],a)}return i}function YA(n,e,i){const r={};let a=d(i,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const c=d(n,["gcsUri"]);e!==void 0&&c!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(a==="PREFERENCE_TUNING"){const c=d(n,["gcsUri"]);e!==void 0&&c!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}let l=d(i,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const c=d(n,["vertexDatasetResource"]);e!==void 0&&c!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(l==="PREFERENCE_TUNING"){const c=d(n,["vertexDatasetResource"]);e!==void 0&&c!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}if(d(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function Ny(n,e){const i={},r=d(n,["sdkHttpResponse"]);r!=null&&f(i,["sdkHttpResponse"],r);const a=d(n,["name"]);a!=null&&f(i,["name"],a);const l=d(n,["state"]);l!=null&&f(i,["state"],uy(l));const c=d(n,["createTime"]);c!=null&&f(i,["createTime"],c);const h=d(n,["tuningTask","startTime"]);h!=null&&f(i,["startTime"],h);const g=d(n,["tuningTask","completeTime"]);g!=null&&f(i,["endTime"],g);const p=d(n,["updateTime"]);p!=null&&f(i,["updateTime"],p);const _=d(n,["description"]);_!=null&&f(i,["description"],_);const x=d(n,["baseModel"]);x!=null&&f(i,["baseModel"],x);const b=d(n,["_self"]);return b!=null&&f(i,["tunedModel"],FA(b)),i}function Fc(n,e){const i={},r=d(n,["sdkHttpResponse"]);r!=null&&f(i,["sdkHttpResponse"],r);const a=d(n,["name"]);a!=null&&f(i,["name"],a);const l=d(n,["state"]);l!=null&&f(i,["state"],uy(l));const c=d(n,["createTime"]);c!=null&&f(i,["createTime"],c);const h=d(n,["startTime"]);h!=null&&f(i,["startTime"],h);const g=d(n,["endTime"]);g!=null&&f(i,["endTime"],g);const p=d(n,["updateTime"]);p!=null&&f(i,["updateTime"],p);const _=d(n,["error"]);_!=null&&f(i,["error"],_);const x=d(n,["description"]);x!=null&&f(i,["description"],x);const b=d(n,["baseModel"]);b!=null&&f(i,["baseModel"],b);const E=d(n,["tunedModel"]);E!=null&&f(i,["tunedModel"],E);const w=d(n,["preTunedModel"]);w!=null&&f(i,["preTunedModel"],w);const N=d(n,["supervisedTuningSpec"]);N!=null&&f(i,["supervisedTuningSpec"],N);const I=d(n,["preferenceOptimizationSpec"]);I!=null&&f(i,["preferenceOptimizationSpec"],I);const P=d(n,["tuningDataStats"]);P!=null&&f(i,["tuningDataStats"],P);const k=d(n,["encryptionSpec"]);k!=null&&f(i,["encryptionSpec"],k);const A=d(n,["partnerModelTuningSpec"]);A!=null&&f(i,["partnerModelTuningSpec"],A);const j=d(n,["customBaseModel"]);j!=null&&f(i,["customBaseModel"],j);const D=d(n,["experiment"]);D!=null&&f(i,["experiment"],D);const Y=d(n,["labels"]);Y!=null&&f(i,["labels"],Y);const G=d(n,["outputUri"]);G!=null&&f(i,["outputUri"],G);const W=d(n,["pipelineJob"]);W!=null&&f(i,["pipelineJob"],W);const K=d(n,["serviceAccount"]);K!=null&&f(i,["serviceAccount"],K);const te=d(n,["tunedModelDisplayName"]);te!=null&&f(i,["tunedModelDisplayName"],te);const ue=d(n,["veoTuningSpec"]);return ue!=null&&f(i,["veoTuningSpec"],ue),i}function KA(n,e){const i={},r=d(n,["sdkHttpResponse"]);r!=null&&f(i,["sdkHttpResponse"],r);const a=d(n,["name"]);a!=null&&f(i,["name"],a);const l=d(n,["metadata"]);l!=null&&f(i,["metadata"],l);const c=d(n,["done"]);c!=null&&f(i,["done"],c);const h=d(n,["error"]);return h!=null&&f(i,["error"],h),i}function y0(n,e){const i={},r=d(n,["gcsUri"]);r!=null&&f(i,["validationDatasetUri"],r);const a=d(n,["vertexDatasetResource"]);return a!=null&&f(i,["validationDatasetUri"],a),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QA extends Ln{constructor(e){super(),this.apiClient=e,this.get=async i=>await this.getInternal(i),this.list=async(i={})=>new zi(Pn.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(i),i),this.tune=async i=>{var r;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const a={tunedModelName:i.baseModel};!((r=i.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(a.checkpointId=i.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},i),{preTunedModel:a});return l.baseModel=void 0,await this.tuneInternal(l)}else{const a=Object.assign({},i);return await this.tuneInternal(a)}else{const a=Object.assign({},i),l=await this.tuneMldevInternal(a);let c="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?c=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(c=l.name.split("/operations/")[0]),{name:c,state:Gc.JOB_STATE_QUEUED}}}}async getInternal(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=GA(e);return h=ee("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>Fc(_))}else{const p=qA(e);return h=ee("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>Ny(_))}}async listInternal(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=HA(e);return h=ee("tuningJobs",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>{const x=$A(_),b=new Qg;return Object.assign(b,x),b})}else{const p=VA(e);return h=ee("tunedModels",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>{const x=zA(_),b=new Qg;return Object.assign(b,x),b})}}async cancel(e){var i,r,a,l;let c="",h={};if(this.apiClient.isVertexAI()){const g=DA(e);c=ee("{name}:cancel",g._url),h=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const g=kA(e);c=ee("{name}:cancel",g._url),h=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async tuneInternal(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const h=LA(e,e);return l=ee("tuningJobs",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:g.headers},_})),a.then(g=>Fc(g))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=OA(e);return l=ee("tunedModels",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:g.headers},_})),a.then(g=>KA(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XA{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const ZA=1024*1024*8,WA=3,e1=1e3,t1=2,Oa="x-goog-upload-status";async function n1(n,e,i){var r;const a=await Ry(n,e,i),l=await(a==null?void 0:a.json());if(((r=a==null?void 0:a.headers)===null||r===void 0?void 0:r[Oa])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function i1(n,e,i){var r;const a=await Ry(n,e,i),l=await(a==null?void 0:a.json());if(((r=a==null?void 0:a.headers)===null||r===void 0?void 0:r[Oa])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const c=iy(l),h=new hd;return Object.assign(h,c),h}async function Ry(n,e,i){var r,a;let l=0,c=0,h=new Bc(new Response),g="upload";for(l=n.size;c<l;){const p=Math.min(ZA,l-c),_=n.slice(c,c+p);c+p>=l&&(g+=", finalize");let x=0,b=e1;for(;x<WA&&(h=await i.request({path:"",body:_,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(c),"Content-Length":String(p)}}}),!(!((r=h==null?void 0:h.headers)===null||r===void 0)&&r[Oa]));)x++,await r1(b),b=b*t1;if(c+=p,((a=h==null?void 0:h.headers)===null||a===void 0?void 0:a[Oa])!=="active")break;if(l<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return h}async function s1(n){return{size:n.size,type:n.type}}function r1(n){return new Promise(e=>setTimeout(e,n))}class o1{async upload(e,i,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await n1(e,i,r)}async uploadToFileSearchStore(e,i,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await i1(e,i,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await s1(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class a1{create(e,i,r){return new l1(e,i,r)}}class l1{constructor(e,i,r){this.url=e,this.headers=i,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const v0="x-goog-api-key";class u1{constructor(e){this.apiKey=e}async addAuthHeaders(e,i){if(e.get(v0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(v0,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const c1="gl-node/";class d1{constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const r=jb(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const a=new u1(this.apiKey);this.apiClient=new CC({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:c1+"web",uploader:new o1,downloader:new XA}),this.models=new $C(this.apiClient),this.live=new GC(this.apiClient,a,new a1),this.batches=new gE(this.apiClient),this.chats=new XE(this.models,this.apiClient),this.caches=new YE(this.apiClient),this.files=new aT(this.apiClient),this.operations=new FC(this.apiClient),this.authTokens=new lA(this.apiClient),this.tunings=new QA(this.apiClient),this.fileSearchStores=new IA(this.apiClient)}}var et=(n=>(n.DISCONNECTED="DISCONNECTED",n.CONNECTING="CONNECTING",n.CONNECTED="CONNECTED",n.ERROR="ERROR",n))(et||{});/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),h1=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),_0=n=>{const e=h1(n);return e.charAt(0).toUpperCase()+e.slice(1)},My=(...n)=>n.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),p1=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var m1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=$.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:c,...h},g)=>$.createElement("svg",{ref:g,...m1,width:e,height:e,stroke:n,strokeWidth:r?Number(i)*24/Number(e):i,className:My("lucide",a),...!l&&!p1(h)&&{"aria-hidden":"true"},...h},[...c.map(([p,_])=>$.createElement(p,_)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=(n,e)=>{const i=$.forwardRef(({className:r,...a},l)=>$.createElement(g1,{ref:l,iconNode:e,className:My(`lucide-${f1(_0(n))}`,`lucide-${n}`,r),...a}));return i.displayName=_0(n),i};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],_d=re("activity",y1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],On=re("arrow-left",v1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Iy=re("arrow-right",_1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],b1=re("bell",x1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ky=re("book-open",S1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],T1=re("box",E1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],Ya=re("brain-circuit",w1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],x0=re("brain",C1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Dy=re("briefcase",A1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],xd=re("building-2",N1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Uy=re("check",R1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],I1=re("chevron-down",M1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Py=re("circle-alert",k1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],U1=re("circle-x",D1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Oy=re("clock",P1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],L1=re("code",O1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],bd=re("cpu",q1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],B1=re("external-link",G1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ly=re("file-text",j1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Sd=re("globe",V1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],z1=re("heart-handshake",H1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Gn=re("image",$1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],qy=re("info",F1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Y1=re("key",J1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Gy=re("layers",K1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],b0=re("link",Q1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ed=re("mail",X1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M7 11h10",key:"1twpyw"}],["path",{d:"M7 15h6",key:"d9of3u"}],["path",{d:"M7 7h8",key:"af5zfr"}]],By=re("message-square-text",Z1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],eN=re("message-square",W1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=[["path",{d:"m11 7.601-5.994 8.19a1 1 0 0 0 .1 1.298l.817.818a1 1 0 0 0 1.314.087L15.09 12",key:"80a601"}],["path",{d:"M16.5 21.174C15.5 20.5 14.372 20 13 20c-2.058 0-3.928 2.356-6 2-2.072-.356-2.775-3.369-1.5-4.5",key:"j0ngtp"}],["circle",{cx:"16",cy:"7",r:"5",key:"d08jfb"}]],nN=re("mic-vocal",tN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Ka=re("mic",iN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=[["path",{d:"M5 12h14",key:"1ays0h"}]],jy=re("minus",sN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],oN=re("newspaper",rN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],Vy=re("panels-top-left",aN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]],uN=re("phone-off",lN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],dN=re("play",cN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],hN=re("plus",fN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],mN=re("quote",pN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],S0=re("refresh-cw",gN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],vN=re("save",yN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],Hy=re("scale",_N);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"M15 9h.01",key:"x1ddxp"}]],bN=re("scan-face",xN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],La=re("search",SN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Ys=re("send",EN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],E0=re("server",TN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Jc=re("settings",wN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],AN=re("shield-alert",CN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],zy=re("shield-check",NN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],Td=re("sliders-vertical",RN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],IN=re("smartphone",MN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],DN=re("smile",kN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],PN=re("tag",UN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],LN=re("thermometer",ON);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],GN=re("trash-2",qN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],$y=re("trending-down",BN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Qa=re("trending-up",jN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Xa=re("triangle-alert",VN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],zN=re("user-check",HN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Yc=re("user",$N);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],JN=re("users",FN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Fy=re("video",YN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],QN=re("wifi",KN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wd=re("x",XN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Hi=re("zap",ZN),js=[{id:"gemini-2.5-flash",name:"Gemini 2.5 Flash",type:"directional",provider:"gemini",capabilities:["Text","Image","Fast"],description:"Le modle le plus rapide et conomique. Idal pour les tches simples et le chat rapide."},{id:"gemini-2.0-pro-exp-02-05",name:"Gemini 2.0 Pro",type:"directional",provider:"gemini",capabilities:["Reasoning","Complex Context","Code"],description:"Modle de raisonnement avanc. Parfait pour l'analyse financire profonde et la rdaction."},{id:"gemini-2.5-flash-thinking",name:"Gemini 2.5 Thinking",type:"directional",provider:"gemini",capabilities:["Deep Reasoning","Chain of Thought"],description:'Modle exprimental qui "rflchit" avant de rpondre. Idal pour les cas complexes.'},{id:"gemini-2.5-flash-native-audio-preview-09-2025",name:"Gemini Live (Audio Native)",type:"bidirectional",provider:"gemini",capabilities:["Realtime Audio","Interruption","Low Latency"],description:"Le moteur exclusif pour les avatars vocaux. Latence ultra-faible."},{id:"sonar-pro",name:"Perplexity Sonar Pro",type:"directional",provider:"perplexity",capabilities:["Web Search","Citations","Real-time Data"],description:"Modle Perplexity avec recherche web intgre et citations. Idal pour la recherche."},{id:"gpt-4o",name:"GPT-4o",type:"directional",provider:"openai",capabilities:["Multimodal","Fast","Vision"],description:"Modle OpenAI multimodal rapide. Excellent pour texte, code et analyse d'images."},{id:"gpt-4-turbo",name:"GPT-4 Turbo",type:"directional",provider:"openai",capabilities:["Reasoning","Code","128K Context"],description:"Modle OpenAI puissant avec contexte largi. Idal pour l'analyse de longs documents."},{id:"o1-preview",name:"OpenAI o1 (Preview)",type:"directional",provider:"openai",capabilities:["Deep Reasoning","Math","Scientific"],description:"Modle de raisonnement avanc. Parfait pour problmes complexes et scientifiques."},{id:"claude-3-5-sonnet-20241022",name:"Claude 3.5 Sonnet",type:"directional",provider:"anthropic",capabilities:["Reasoning","Code","Analysis"],description:"Modle Anthropic quilibr. Excellent pour l'analyse et la rdaction de qualit."},{id:"claude-3-opus-20240229",name:"Claude 3 Opus",type:"directional",provider:"anthropic",capabilities:["Deep Reasoning","Expert Analysis","Long Form"],description:"Le modle Anthropic le plus puissant. Idal pour analyses profondes et rdaction experte."},{id:"claude-3-haiku-20240307",name:"Claude 3 Haiku",type:"directional",provider:"anthropic",capabilities:["Fast","Efficient","Cost-effective"],description:"Le modle Anthropic le plus rapide. Idal pour tches simples et chat rapide."}],WN={researcher:{modelId:"sonar-pro",googleSearch:!0},writer:{modelId:"gemini-2.0-pro-exp-02-05",googleSearch:!1},critic:{modelId:"claude-3-5-sonnet-20241022",googleSearch:!0},technical:{modelId:"gemini-2.5-flash",googleSearch:!1}},Vs="gemini-2.5-flash-native-audio-preview-09-2025",e2="gemini-2.5-flash",Jy="gemini-2.0-pro-exp-02-05",Kr={supabaseUrl:"",supabaseKey:"",twilioAccountSid:"",twilioAuthToken:"",twilioFromPhone:"",resendApiKey:"",userPhoneNumber:"",userEmail:""},ji="Tu es Emma IA... (Voir fichiers prcdents)",t2="MODE: TABLE RONDE... (Voir fichiers prcdents)",Yy="Tu es Emma IA  RDACTION...",Ky="Tu es Morgane...",Kc="Tu es le CEO...",Qy="Tu es L'AVOCAT DU DIABLE...",Cd="Tu es Emma IA  GEEK...",Ad="Zephyr",n2=16e3,T0=24e3,qa="Angela-inT-20220820",Xy="akool_avatar_v1",i2="r79e1c033f",s2="Emma IA  NATURELLE",Zy="Tu es Emma IA...",w0=["Puck","Charon","Kore","Fenrir","Zephyr"],Be={natural:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?q=80&w=600&auto=format&fit=crop",professional:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?q=80&w=600&auto=format&fit=crop",geek:"https://images.unsplash.com/photo-1607746882042-944635dfe10e?q=80&w=600&auto=format&fit=crop"},r2=["1438761681033-066d0708b8c1","1488428401001-5c72da774914","1494790108377-be9c29b29330","1544005313-94ddf0286df2","1507003211169-0a1dd7228f2d","1607746882042-944635dfe10e","1517841905240-472988babdf9","1524504388940-b1c1722653e1","1531123897727-8f129e1688ce","1506794778202-cad84cf45f1d","1551836022-d5d88e9218df","1487412720507-e7ab37603c6f","1594744803329-e58b31de8bf5","1598550874175-4d7112ee7f43","1573496359142-b8d87734a5a2","1580489944761-15a19d654956","1567532939604-b6b5b0db2604","1520813792240-56fc4a3765a7","1573497019940-1c28c88b4f3e","1508214751196-bcfd4ca60f91","1509967419530-322706e580e9","1514626585111-9aa86183ac98","1552058544-f2b08422138a","1664575602276-acd073f104c1","1539571696357-5a69c17a67c6","1534528741775-53994a69daeb","1531746020798-e6953c6e8e04","1564564321837-a57b7070ac4f","1580894732444-8ecded7900cd","1535713875002-d1d0cf377fde"],wc=["1573496359142-b8d87734a5a2","1580489944761-15a19d654956","1598550874175-4d7112ee7f43","1567532939604-b6b5b0db2604","1551836022-d5d88e9218df","1487412720507-e7ab37603c6f","1520813792240-56fc4a3765a7","1573497019940-1c28c88b4f3e","1573497491208-6b1acb260507","1573497491769-d40747c79366","1573496799652-408c2ac9fe98","1594744803329-e58b31de8bf5","1559526324-593bc81422b9","1590650516494-0c8e4a4dd67e","1542596594-649edbc13630","1508214751196-bcfd4ca60f91","1535713875002-d1d0cf377fde","1580894732444-8ecded7900cd","1564564321837-a57b7070ac4f","1664575602276-acd073f104c1","1517841905240-472988babdf9","1539571696357-5a69c17a67c6","1534528741775-53994a69daeb","1531746020798-e6953c6e8e04","1524504388940-b1c1722653e1","1506794778202-cad84cf45f1d","1531123897727-8f129e1688ce","1552058544-f2b08422138a","1509967419530-322706e580e9","1514626585111-9aa86183ac98"],C0=[...r2.map(n=>`https://images.unsplash.com/photo-${n}?q=80&w=600&auto=format&fit=crop`),Be.natural,Be.professional,Be.geek,...wc.map(n=>`https://images.unsplash.com/photo-${n}?q=80&w=600&auto=format&fit=crop`),...Array.from({length:70}).map((n,e)=>`https://images.unsplash.com/photo-${wc[e%wc.length]}?q=80&w=600&auto=format&fit=crop&sig=${e}`)],Ks={finance:["Tendance S&P 500 ?","Analyse risque Nvidia","Synthse marchs ce matin"],"ceo-mode":["Quelle est votre stratgie 2025 ?","Expliquez la baisse des marges","Vos priorits R&D ?"],"critic-mode":["Trouve la faille dans Tesla","Pourquoi Bitcoin va chuter ?","Critique mon portefeuille Tech"],researcher:["Dernires news Apple","Earnings report Amazon","Alerte politique USA"],writer:["Rdige une lettre aux actionnaires","Fais un mmo sur l'inflation","Prpare un discours CEO"],"technical-analyst":["RSI sur Ethereum","Moyenne mobile TSLA","Support cl SPY"]},pi=[{id:"finance",name:"Emma IA  BOURSE",role:"Analyste Boursier & Financier",image:Be.professional,description:"Module spcialis dans l'analyse technique et les marchs boursiers.",avatarId:"Angela-inT-20220820",voiceName:"Zephyr",systemPrompt:ji},{id:"economy",name:"Emma IA  MACRO",role:"Analyste conomique & Macro",image:Be.professional,description:"Module spcialis dans les tendances globales et taux directeurs.",avatarId:"Tyler-incasualsuit-20220721",voiceName:"Fenrir",systemPrompt:ji},{id:"politics",name:"Emma IA  POLITIQUE",role:"Analyste Politique",image:Be.professional,description:"Module spcialis dans les risques gopolitiques.",avatarId:"Kristy-inpublic-20220810",voiceName:"Kore",systemPrompt:ji},{id:"researcher",name:"Dr. Emma",role:"Emma IA  RECHERCHE",image:Be.professional,description:"Module acadmique et scientifique.",avatarId:"Angela-inT-20220820",voiceName:"Puck",systemPrompt:ji},{id:"geek",name:"Emma IA  GEEK",role:"Analyste Technique",image:Be.geek,description:"Experte en graphiques et patterns.",avatarId:qa,voiceName:"Zephyr",systemPrompt:Cd}],o2=[{id:"1",label:"Marchs",command:"Donne-moi un aperu rapide des marchs.",icon:"TrendingUp"},{id:"2",label:"Actualits",command:"Quelles sont les dernires nouvelles ?",icon:"Newspaper"},{id:"3",label:"Risques",command:"Analyse les risques de mon portefeuille.",icon:"ShieldAlert"},{id:"4",label:"Courriels",command:"OPEN_EMAIL_MODAL",icon:"Mail",isSystem:!0}],a2=[{id:"p1",label:"Sentiment",command:"Quel est le sentiment du march ?",icon:"Smile"},{id:"p2",label:"Synthse",command:"Fais-moi une synthse.",icon:"Briefcase"}],Cc=[{id:"core",label:"Emma Brain",description:"Cerveau Central",type:"core",color:"bg-blue-600",connectedTo:["finance","ceo"],icon:Ya},{id:"finance",label:"Finance",description:"Analyste",type:"avatar",color:"bg-blue-500",connectedTo:[],icon:Qa},{id:"ceo",label:"CEO",description:"Simulation",type:"tool",color:"bg-cyan-500",connectedTo:[],icon:xd}];function l2(n){const e=atob(n),i=e.length,r=new Uint8Array(i);for(let a=0;a<i;a++)r[a]=e.charCodeAt(a);return r}function u2(n){let e="";const i=n.byteLength;for(let r=0;r<i;r++)e+=String.fromCharCode(n[r]);return btoa(e)}function c2(n){const e=n.length,i=new Int16Array(e);for(let r=0;r<e;r++){const a=Math.max(-1,Math.min(1,n[r]));i[r]=a<0?a*32768:a*32767}return{data:u2(new Uint8Array(i.buffer)),mimeType:"audio/pcm;rate=16000"}}async function d2(n,e,i=24e3,r=1){const a=new Int16Array(n.buffer),l=a.length/r,c=e.createBuffer(r,l,i);for(let h=0;h<r;h++){const g=c.getChannelData(h);for(let p=0;p<l;p++)g[p]=a[p*r+h]/32768}return c}const Wy=()=>{const[n,e]=$.useState(et.DISCONNECTED),[i,r]=$.useState([]),[a,l]=$.useState(0),[c,h]=$.useState(0),[g,p]=$.useState(null),[_,x]=$.useState(1),b=$.useRef(1);$.useEffect(()=>{b.current=_},[_]);const E=$.useRef(null),w=$.useRef(null),N=$.useRef(null),I=$.useRef(null),P=$.useRef(null),k=$.useRef(null),A=$.useRef(null),j=$.useRef(0),D=$.useRef(new Set),Y=$.useRef(""),G=$.useRef(""),W=$.useCallback(()=>{var oe,ve,je,Ve;D.current.forEach(B=>{try{B.stop()}catch{}}),D.current.clear(),((oe=E.current)==null?void 0:oe.state)!=="closed"&&((ve=E.current)==null||ve.close()),((je=w.current)==null?void 0:je.state)!=="closed"&&((Ve=w.current)==null||Ve.close()),E.current=null,w.current=null,N.current=null,I.current=null,P.current=null,k.current=null,A.current=null,j.current=0,Y.current="",G.current="",l(0),h(0)},[]),K=$.useCallback(()=>{W(),e(et.DISCONNECTED)},[W]),te=$.useCallback(async oe=>{A.current&&(await A.current).sendRealtimeInput({content:[{parts:[{text:oe}]}]})},[]),ue=$.useCallback(async oe=>{n===et.CONNECTED&&K();try{e(et.CONNECTING),p(null);const ve=void 0;if(!ve)throw new Error("API Key is missing in environment variables.");E.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:n2}),w.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:T0}),k.current=w.current.createAnalyser(),k.current.fftSize=256,P.current=w.current.createGain(),P.current.gain.value=b.current,P.current.connect(k.current),k.current.connect(w.current.destination);const je=await navigator.mediaDevices.getUserMedia({audio:!0});N.current=E.current.createMediaStreamSource(je),I.current=E.current.createScriptProcessor(4096,1,1),N.current.connect(I.current),I.current.connect(E.current.destination),I.current.onaudioprocess=Q=>{const se=Q.inputBuffer.getChannelData(0),ge=c2(se);let Te=0;for(let H=0;H<se.length;H++)Te+=se[H]*se[H];const R=Math.sqrt(Te/se.length);l(Math.min(100,R*500)),A.current&&A.current.then(H=>{try{H.sendRealtimeInput({media:ge})}catch{}})};const Ve=new d1({apiKey:ve}),B=async(Q,se=!1)=>new Promise((ge,Te)=>{let R=!1;const H=setTimeout(()=>{R||(console.warn(`Connection timed out for model: ${Q}`),Te(new Error("Timeout waiting for model response (5s)")))},5e3),X=Ve.live.connect({model:Q,callbacks:{onopen:()=>{R=!0,clearTimeout(H),e(et.CONNECTED);const Z=se?"System: Bascule sur Gemini Pro (Fallback activ).":"System: Connecte.";r(ce=>[...ce,{id:Date.now().toString(),role:"system",text:Z,timestamp:new Date}]),ge()},onmessage:async Z=>{var me,Ae,st,He,_e,Ye,Xe,De,tt;(me=Z.serverContent)!=null&&me.outputTranscription&&(G.current+=Z.serverContent.outputTranscription.text),(Ae=Z.serverContent)!=null&&Ae.inputTranscription&&(Y.current+=Z.serverContent.inputTranscription.text),(st=Z.serverContent)!=null&&st.turnComplete&&(Y.current.trim()&&(r(rt=>[...rt,{id:Date.now().toString()+"_user",role:"user",text:Y.current,timestamp:new Date}]),Y.current=""),G.current.trim()&&(r(rt=>[...rt,{id:Date.now().toString()+"_ai",role:"assistant",text:G.current.replace(/###VISUAL_JSON_START###[\s\S]*?###VISUAL_JSON_END###/g,""),timestamp:new Date}]),G.current=""));const ce=(De=(Xe=(Ye=(_e=(He=Z.serverContent)==null?void 0:He.modelTurn)==null?void 0:_e.parts)==null?void 0:Ye[0])==null?void 0:Xe.inlineData)==null?void 0:De.data;if(ce&&w.current){const rt=w.current;j.current=Math.max(j.current,rt.currentTime);const $t=await d2(l2(ce),rt,T0),dn=rt.createBufferSource();dn.buffer=$t,P.current&&(P.current.gain.value=b.current,dn.connect(P.current)),dn.addEventListener("ended",()=>{D.current.delete(dn)}),dn.start(j.current),j.current+=$t.duration,D.current.add(dn)}(tt=Z.serverContent)!=null&&tt.interrupted&&(D.current.forEach(rt=>rt.stop()),D.current.clear(),j.current=0,G.current="")},onclose:()=>{R&&(e(et.DISCONNECTED),W())},onerror:Z=>{R?(console.error(Z),p("Erreur de connexion"),e(et.ERROR),W()):(clearTimeout(H),Te(Z))}},config:{responseModalities:[Zr.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:oe.geminiVoice||Ad}}},systemInstruction:oe.systemInstruction,generationConfig:{temperature:oe.llmTemperature},inputAudioTranscription:{},outputAudioTranscription:{}}});A.current=X});try{await B(oe.llmModel,!1)}catch(Q){if(console.warn("Primary connection failed:",Q),oe.llmModel===Vs){r(se=>[...se,{id:Date.now().toString(),role:"system",text:"Tentative de bascule vers le modle Pro...",timestamp:new Date}]);try{await B(Jy,!0)}catch{p("Service indisponible (Fallback chou)"),e(et.ERROR),W()}}else p("chec de connexion au modle slectionn."),e(et.ERROR),W()}}catch(ve){console.error(ve),p(ve.message||"chec de la connexion"),e(et.ERROR),W()}},[W,K]);return $.useEffect(()=>{let oe,ve=0;const je=Ve=>{if(k.current&&Ve-ve>50){const B=new Uint8Array(k.current.frequencyBinCount);k.current.getByteFrequencyData(B);let Q=0;for(let ge=0;ge<B.length;ge++)Q+=B[ge];const se=Q/B.length;h(se),ve=Ve}oe=requestAnimationFrame(je)};return oe=requestAnimationFrame(je),()=>cancelAnimationFrame(oe)},[]),{connectionState:n,connect:ue,disconnect:K,messages:i,error:g,volume:a,userVolume:a,assistantVolume:c,setVolumeMultiplier:x,sendText:te}};var Qc=function(n,e){return Qc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},Qc(n,e)};function ev(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Qc(n,e);function i(){this.constructor=n}n.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}var Ga=function(){return Ga=Object.assign||function(e){for(var i,r=1,a=arguments.length;r<a;r++){i=arguments[r];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(e[l]=i[l])}return e},Ga.apply(this,arguments)};function Qs(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(i[r[a]]=n[r[a]]);return i}function tv(n,e,i,r){var a=arguments.length,l=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,i):r,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(n,e,i,r);else for(var h=n.length-1;h>=0;h--)(c=n[h])&&(l=(a<3?c(l):a>3?c(e,i,l):c(e,i))||l);return a>3&&l&&Object.defineProperty(e,i,l),l}function nv(n,e){return function(i,r){e(i,r,n)}}function iv(n,e,i,r,a,l){function c(P){if(P!==void 0&&typeof P!="function")throw new TypeError("Function expected");return P}for(var h=r.kind,g=h==="getter"?"get":h==="setter"?"set":"value",p=!e&&n?r.static?n:n.prototype:null,_=e||(p?Object.getOwnPropertyDescriptor(p,r.name):{}),x,b=!1,E=i.length-1;E>=0;E--){var w={};for(var N in r)w[N]=N==="access"?{}:r[N];for(var N in r.access)w.access[N]=r.access[N];w.addInitializer=function(P){if(b)throw new TypeError("Cannot add initializers after decoration has completed");l.push(c(P||null))};var I=(0,i[E])(h==="accessor"?{get:_.get,set:_.set}:_[g],w);if(h==="accessor"){if(I===void 0)continue;if(I===null||typeof I!="object")throw new TypeError("Object expected");(x=c(I.get))&&(_.get=x),(x=c(I.set))&&(_.set=x),(x=c(I.init))&&a.unshift(x)}else(x=c(I))&&(h==="field"?a.unshift(x):_[g]=x)}p&&Object.defineProperty(p,r.name,_),b=!0}function sv(n,e,i){for(var r=arguments.length>2,a=0;a<e.length;a++)i=r?e[a].call(n,i):e[a].call(n);return r?i:void 0}function rv(n){return typeof n=="symbol"?n:"".concat(n)}function ov(n,e,i){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:i?"".concat(i," ",e):e})}function av(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function ie(n,e,i,r){function a(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function h(_){try{p(r.next(_))}catch(x){c(x)}}function g(_){try{p(r.throw(_))}catch(x){c(x)}}function p(_){_.done?l(_.value):a(_.value).then(h,g)}p((r=r.apply(n,e||[])).next())})}function lv(n,e){var i={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,a,l,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=h(0),c.throw=h(1),c.return=h(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(p){return function(_){return g([p,_])}}function g(p){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(i=0)),i;)try{if(r=1,a&&(l=p[0]&2?a.return:p[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,p[1])).done)return l;switch(a=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return i.label++,{value:p[1],done:!1};case 5:i.label++,a=p[1],p=[0];continue;case 7:p=i.ops.pop(),i.trys.pop();continue;default:if(l=i.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){i=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){i.label=p[1];break}if(p[0]===6&&i.label<l[1]){i.label=l[1],l=p;break}if(l&&i.label<l[2]){i.label=l[2],i.ops.push(p);break}l[2]&&i.ops.pop(),i.trys.pop();continue}p=e.call(n,i)}catch(_){p=[6,_],a=0}finally{r=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var Za=Object.create?(function(n,e,i,r){r===void 0&&(r=i);var a=Object.getOwnPropertyDescriptor(e,i);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(n,r,a)}):(function(n,e,i,r){r===void 0&&(r=i),n[r]=e[i]});function uv(n,e){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(e,i)&&Za(e,n,i)}function Ba(n){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&n[e],r=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Nd(n,e){var i=typeof Symbol=="function"&&n[Symbol.iterator];if(!i)return n;var r=i.call(n),a,l=[],c;try{for(;(e===void 0||e-- >0)&&!(a=r.next()).done;)l.push(a.value)}catch(h){c={error:h}}finally{try{a&&!a.done&&(i=r.return)&&i.call(r)}finally{if(c)throw c.error}}return l}function cv(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(Nd(arguments[e]));return n}function dv(){for(var n=0,e=0,i=arguments.length;e<i;e++)n+=arguments[e].length;for(var r=Array(n),a=0,e=0;e<i;e++)for(var l=arguments[e],c=0,h=l.length;c<h;c++,a++)r[a]=l[c];return r}function fv(n,e,i){if(i||arguments.length===2)for(var r=0,a=e.length,l;r<a;r++)(l||!(r in e))&&(l||(l=Array.prototype.slice.call(e,0,r)),l[r]=e[r]);return n.concat(l||Array.prototype.slice.call(e))}function zs(n){return this instanceof zs?(this.v=n,this):new zs(n)}function hv(n,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i.apply(n,e||[]),a,l=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(E){return function(w){return Promise.resolve(w).then(E,x)}}function h(E,w){r[E]&&(a[E]=function(N){return new Promise(function(I,P){l.push([E,N,I,P])>1||g(E,N)})},w&&(a[E]=w(a[E])))}function g(E,w){try{p(r[E](w))}catch(N){b(l[0][3],N)}}function p(E){E.value instanceof zs?Promise.resolve(E.value.v).then(_,x):b(l[0][2],E)}function _(E){g("next",E)}function x(E){g("throw",E)}function b(E,w){E(w),l.shift(),l.length&&g(l[0][0],l[0][1])}}function pv(n){var e,i;return e={},r("next"),r("throw",function(a){throw a}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(a,l){e[a]=n[a]?function(c){return(i=!i)?{value:zs(n[a](c)),done:!1}:l?l(c):c}:l}}function mv(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],i;return e?e.call(n):(n=typeof Ba=="function"?Ba(n):n[Symbol.iterator](),i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i);function r(l){i[l]=n[l]&&function(c){return new Promise(function(h,g){c=n[l](c),a(h,g,c.done,c.value)})}}function a(l,c,h,g){Promise.resolve(g).then(function(p){l({value:p,done:h})},c)}}function gv(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}var f2=Object.create?(function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}):function(n,e){n.default=e},Xc=function(n){return Xc=Object.getOwnPropertyNames||function(e){var i=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[i.length]=r);return i},Xc(n)};function yv(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var i=Xc(n),r=0;r<i.length;r++)i[r]!=="default"&&Za(e,n,i[r]);return f2(e,n),e}function vv(n){return n&&n.__esModule?n:{default:n}}function _v(n,e,i,r){if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?r:i==="a"?r.call(n):r?r.value:e.get(n)}function xv(n,e,i,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!a:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(n,i):a?a.value=i:e.set(n,i),i}function bv(n,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?e===n:n.has(e)}function Sv(n,e,i){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,a;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],i&&(a=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");a&&(r=function(){try{a.call(this)}catch(l){return Promise.reject(l)}}),n.stack.push({value:e,dispose:r,async:i})}else i&&n.stack.push({async:!0});return e}var h2=typeof SuppressedError=="function"?SuppressedError:function(n,e,i){var r=new Error(i);return r.name="SuppressedError",r.error=n,r.suppressed=e,r};function Ev(n){function e(l){n.error=n.hasError?new h2(l,n.error,"An error was suppressed during disposal."):l,n.hasError=!0}var i,r=0;function a(){for(;i=n.stack.pop();)try{if(!i.async&&r===1)return r=0,n.stack.push(i),Promise.resolve().then(a);if(i.dispose){var l=i.dispose.call(i.value);if(i.async)return r|=2,Promise.resolve(l).then(a,function(c){return e(c),a()})}else r|=1}catch(c){e(c)}if(r===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return a()}function Tv(n,e){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(i,r,a,l,c){return r?e?".jsx":".js":a&&(!l||!c)?i:a+l+"."+c.toLowerCase()+"js"}):n}const p2={__extends:ev,__assign:Ga,__rest:Qs,__decorate:tv,__param:nv,__esDecorate:iv,__runInitializers:sv,__propKey:rv,__setFunctionName:ov,__metadata:av,__awaiter:ie,__generator:lv,__createBinding:Za,__exportStar:uv,__values:Ba,__read:Nd,__spread:cv,__spreadArrays:dv,__spreadArray:fv,__await:zs,__asyncGenerator:hv,__asyncDelegator:pv,__asyncValues:mv,__makeTemplateObject:gv,__importStar:yv,__importDefault:vv,__classPrivateFieldGet:_v,__classPrivateFieldSet:xv,__classPrivateFieldIn:bv,__addDisposableResource:Sv,__disposeResources:Ev,__rewriteRelativeImportExtension:Tv},m2=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Sv,get __assign(){return Ga},__asyncDelegator:pv,__asyncGenerator:hv,__asyncValues:mv,__await:zs,__awaiter:ie,__classPrivateFieldGet:_v,__classPrivateFieldIn:bv,__classPrivateFieldSet:xv,__createBinding:Za,__decorate:tv,__disposeResources:Ev,__esDecorate:iv,__exportStar:uv,__extends:ev,__generator:lv,__importDefault:vv,__importStar:yv,__makeTemplateObject:gv,__metadata:av,__param:nv,__propKey:rv,__read:Nd,__rest:Qs,__rewriteRelativeImportExtension:Tv,__runInitializers:sv,__setFunctionName:ov,__spread:cv,__spreadArray:fv,__spreadArrays:dv,__values:Ba,default:p2},Symbol.toStringTag,{value:"Module"})),g2=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);class Rd extends Error{constructor(e,i="FunctionsError",r){super(e),this.name=i,this.context=r}}class y2 extends Rd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class A0 extends Rd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class N0 extends Rd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Zc;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Zc||(Zc={}));class v2{constructor(e,{headers:i={},customFetch:r,region:a=Zc.Any}={}){this.url=e,this.headers=i,this.region=a,this.fetch=g2(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ie(this,arguments,void 0,function*(i,r={}){var a;let l,c;try{const{headers:h,method:g,body:p,signal:_,timeout:x}=r;let b={},{region:E}=r;E||(E=this.region);const w=new URL(`${this.url}/${i}`);E&&E!=="any"&&(b["x-region"]=E,w.searchParams.set("forceFunctionRegion",E));let N;p&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",N=p):typeof p=="string"?(b["Content-Type"]="text/plain",N=p):typeof FormData<"u"&&p instanceof FormData?N=p:(b["Content-Type"]="application/json",N=JSON.stringify(p)):N=p;let I=_;x&&(c=new AbortController,l=setTimeout(()=>c.abort(),x),_?(I=c.signal,_.addEventListener("abort",()=>c.abort())):I=c.signal);const P=yield this.fetch(w.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),h),body:N,signal:I}).catch(D=>{throw new y2(D)}),k=P.headers.get("x-relay-error");if(k&&k==="true")throw new A0(P);if(!P.ok)throw new N0(P);let A=((a=P.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),j;return A==="application/json"?j=yield P.json():A==="application/octet-stream"||A==="application/pdf"?j=yield P.blob():A==="text/event-stream"?j=P:A==="multipart/form-data"?j=yield P.formData():j=yield P.text(),{data:j,error:null,response:P}}catch(h){return{data:null,error:h,response:h instanceof N0||h instanceof A0?h.context:void 0}}finally{l&&clearTimeout(l)}})}}var St={};const Xs=Cb(m2);var Sa={},Ea={},Ta={},wa={},Ca={},Aa={},R0;function wv(){if(R0)return Aa;R0=1,Object.defineProperty(Aa,"__esModule",{value:!0});class n extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return Aa.default=n,Aa}var M0;function Cv(){if(M0)return Ca;M0=1,Object.defineProperty(Ca,"__esModule",{value:!0});const e=Xs.__importDefault(wv());class i{constructor(a){var l,c;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(l=a.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=a.signal,this.isMaybeSingle=(c=a.isMaybeSingle)!==null&&c!==void 0?c:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,l){return this.headers=new Headers(this.headers),this.headers.set(a,l),this}then(a,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let h=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var p,_,x,b;let E=null,w=null,N=null,I=g.status,P=g.statusText;if(g.ok){if(this.method!=="HEAD"){const D=await g.text();D===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?w=D:w=JSON.parse(D))}const A=(_=this.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),j=(x=g.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");A&&j&&j.length>1&&(N=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(E={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,N=null,I=406,P="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const A=await g.text();try{E=JSON.parse(A),Array.isArray(E)&&g.status===404&&(w=[],E=null,I=200,P="OK")}catch{g.status===404&&A===""?(I=204,P="No Content"):E={message:A}}if(E&&this.isMaybeSingle&&(!((b=E==null?void 0:E.details)===null||b===void 0)&&b.includes("0 rows"))&&(E=null,I=200,P="OK"),E&&this.shouldThrowOnError)throw new e.default(E)}return{error:E,data:w,count:N,status:I,statusText:P}});return this.shouldThrowOnError||(h=h.catch(g=>{var p,_,x,b,E,w;let N="";const I=g==null?void 0:g.cause;if(I){const P=(p=I==null?void 0:I.message)!==null&&p!==void 0?p:"",k=(_=I==null?void 0:I.code)!==null&&_!==void 0?_:"";N=`${(x=g==null?void 0:g.name)!==null&&x!==void 0?x:"FetchError"}: ${g==null?void 0:g.message}`,N+=`

Caused by: ${(b=I==null?void 0:I.name)!==null&&b!==void 0?b:"Error"}: ${P}`,k&&(N+=` (${k})`),I!=null&&I.stack&&(N+=`
${I.stack}`)}else N=(E=g==null?void 0:g.stack)!==null&&E!==void 0?E:"";return{error:{message:`${(w=g==null?void 0:g.name)!==null&&w!==void 0?w:"FetchError"}: ${g==null?void 0:g.message}`,details:N,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),h.then(a,l)}returns(){return this}overrideTypes(){return this}}return Ca.default=i,Ca}var I0;function Av(){if(I0)return wa;I0=1,Object.defineProperty(wa,"__esModule",{value:!0});const e=Xs.__importDefault(Cv());class i extends e.default{select(a){let l=!1;const c=(a??"*").split("").map(h=>/\s/.test(h)&&!l?"":(h==='"'&&(l=!l),h)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:l=!0,nullsFirst:c,foreignTable:h,referencedTable:g=h}={}){const p=g?`${g}.order`:"order",_=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${_?`${_},`:""}${a}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:l,referencedTable:c=l}={}){const h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(h,`${a}`),this}range(a,l,{foreignTable:c,referencedTable:h=c}={}){const g=typeof h>"u"?"offset":`${h}.offset`,p=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(g,`${a}`),this.url.searchParams.set(p,`${l-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:l=!1,settings:c=!1,buffers:h=!1,wal:g=!1,format:p="text"}={}){var _;const x=[a?"analyze":null,l?"verbose":null,c?"settings":null,h?"buffers":null,g?"wal":null].filter(Boolean).join("|"),b=(_=this.headers.get("Accept"))!==null&&_!==void 0?_:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${b}"; options=${x};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return wa.default=i,wa}var k0;function Md(){if(k0)return Ta;k0=1,Object.defineProperty(Ta,"__esModule",{value:!0});const e=Xs.__importDefault(Av()),i=new RegExp("[,()]");class r extends e.default{eq(l,c){return this.url.searchParams.append(l,`eq.${c}`),this}neq(l,c){return this.url.searchParams.append(l,`neq.${c}`),this}gt(l,c){return this.url.searchParams.append(l,`gt.${c}`),this}gte(l,c){return this.url.searchParams.append(l,`gte.${c}`),this}lt(l,c){return this.url.searchParams.append(l,`lt.${c}`),this}lte(l,c){return this.url.searchParams.append(l,`lte.${c}`),this}like(l,c){return this.url.searchParams.append(l,`like.${c}`),this}likeAllOf(l,c){return this.url.searchParams.append(l,`like(all).{${c.join(",")}}`),this}likeAnyOf(l,c){return this.url.searchParams.append(l,`like(any).{${c.join(",")}}`),this}ilike(l,c){return this.url.searchParams.append(l,`ilike.${c}`),this}ilikeAllOf(l,c){return this.url.searchParams.append(l,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(l,c){return this.url.searchParams.append(l,`ilike(any).{${c.join(",")}}`),this}regexMatch(l,c){return this.url.searchParams.append(l,`match.${c}`),this}regexIMatch(l,c){return this.url.searchParams.append(l,`imatch.${c}`),this}is(l,c){return this.url.searchParams.append(l,`is.${c}`),this}isDistinct(l,c){return this.url.searchParams.append(l,`isdistinct.${c}`),this}in(l,c){const h=Array.from(new Set(c)).map(g=>typeof g=="string"&&i.test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(l,`in.(${h})`),this}contains(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cs.{${c.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(c)}`),this}containedBy(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cd.{${c.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(c)}`),this}rangeGt(l,c){return this.url.searchParams.append(l,`sr.${c}`),this}rangeGte(l,c){return this.url.searchParams.append(l,`nxl.${c}`),this}rangeLt(l,c){return this.url.searchParams.append(l,`sl.${c}`),this}rangeLte(l,c){return this.url.searchParams.append(l,`nxr.${c}`),this}rangeAdjacent(l,c){return this.url.searchParams.append(l,`adj.${c}`),this}overlaps(l,c){return typeof c=="string"?this.url.searchParams.append(l,`ov.${c}`):this.url.searchParams.append(l,`ov.{${c.join(",")}}`),this}textSearch(l,c,{config:h,type:g}={}){let p="";g==="plain"?p="pl":g==="phrase"?p="ph":g==="websearch"&&(p="w");const _=h===void 0?"":`(${h})`;return this.url.searchParams.append(l,`${p}fts${_}.${c}`),this}match(l){return Object.entries(l).forEach(([c,h])=>{this.url.searchParams.append(c,`eq.${h}`)}),this}not(l,c,h){return this.url.searchParams.append(l,`not.${c}.${h}`),this}or(l,{foreignTable:c,referencedTable:h=c}={}){const g=h?`${h}.or`:"or";return this.url.searchParams.append(g,`(${l})`),this}filter(l,c,h){return this.url.searchParams.append(l,`${c}.${h}`),this}}return Ta.default=r,Ta}var D0;function Nv(){if(D0)return Ea;D0=1,Object.defineProperty(Ea,"__esModule",{value:!0});const e=Xs.__importDefault(Md());class i{constructor(a,{headers:l={},schema:c,fetch:h}){this.url=a,this.headers=new Headers(l),this.schema=c,this.fetch=h}select(a,l){const{head:c=!1,count:h}=l??{},g=c?"HEAD":"GET";let p=!1;const _=(a??"*").split("").map(x=>/\s/.test(x)&&!p?"":(x==='"'&&(p=!p),x)).join("");return this.url.searchParams.set("select",_),h&&this.headers.append("Prefer",`count=${h}`),new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:l,defaultToNull:c=!0}={}){var h;const g="POST";if(l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const p=a.reduce((_,x)=>_.concat(Object.keys(x)),[]);if(p.length>0){const _=[...new Set(p)].map(x=>`"${x}"`);this.url.searchParams.set("columns",_.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(a,{onConflict:l,ignoreDuplicates:c=!1,count:h,defaultToNull:g=!0}={}){var p;const _="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),h&&this.headers.append("Prefer",`count=${h}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const x=a.reduce((b,E)=>b.concat(Object.keys(E)),[]);if(x.length>0){const b=[...new Set(x)].map(E=>`"${E}"`);this.url.searchParams.set("columns",b.join(","))}}return new e.default({method:_,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(a,{count:l}={}){var c;const h="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:a}={}){var l;const c="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return Ea.default=i,Ea}var U0;function _2(){if(U0)return Sa;U0=1,Object.defineProperty(Sa,"__esModule",{value:!0});const n=Xs,e=n.__importDefault(Nv()),i=n.__importDefault(Md());class r{constructor(l,{headers:c={},schema:h,fetch:g}={}){this.url=l,this.headers=new Headers(c),this.schemaName=h,this.fetch=g}from(l){if(!l||typeof l!="string"||l.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const c=new URL(`${this.url}/${l}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new r(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,c={},{head:h=!1,get:g=!1,count:p}={}){var _;let x;const b=new URL(`${this.url}/rpc/${l}`);let E;h||g?(x=h?"HEAD":"GET",Object.entries(c).filter(([N,I])=>I!==void 0).map(([N,I])=>[N,Array.isArray(I)?`{${I.join(",")}}`:`${I}`]).forEach(([N,I])=>{b.searchParams.append(N,I)})):(x="POST",E=c);const w=new Headers(this.headers);return p&&w.set("Prefer",`count=${p}`),new i.default({method:x,url:b,headers:w,schema:this.schemaName,body:E,fetch:(_=this.fetch)!==null&&_!==void 0?_:fetch})}}return Sa.default=r,Sa}var P0;function x2(){if(P0)return St;P0=1,Object.defineProperty(St,"__esModule",{value:!0}),St.PostgrestError=St.PostgrestBuilder=St.PostgrestTransformBuilder=St.PostgrestFilterBuilder=St.PostgrestQueryBuilder=St.PostgrestClient=void 0;const n=Xs,e=n.__importDefault(_2());St.PostgrestClient=e.default;const i=n.__importDefault(Nv());St.PostgrestQueryBuilder=i.default;const r=n.__importDefault(Md());St.PostgrestFilterBuilder=r.default;const a=n.__importDefault(Av());St.PostgrestTransformBuilder=a.default;const l=n.__importDefault(Cv());St.PostgrestBuilder=l.default;const c=n.__importDefault(wv());return St.PostgrestError=c.default,St.default={PostgrestClient:e.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:l.default,PostgrestError:c.default},St}var Rv=x2();const Mv=ud(Rv),b2=wb({__proto__:null,default:Mv},[Rv]),{PostgrestClient:S2,PostgrestQueryBuilder:vI,PostgrestFilterBuilder:_I,PostgrestTransformBuilder:xI,PostgrestBuilder:bI,PostgrestError:SI}=Mv||b2;class E2{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const r=i.node,a=parseInt(r.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let i=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(i+=`

Suggested solution: ${e.workaround}`),new Error(i)}static createWebSocket(e,i){const r=this.getWebSocketConstructor();return new r(e,i)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const T2="2.86.0",w2=`realtime-js/${T2}`,Iv="1.0.0",C2="2.0.0",O0=Iv,Wc=1e4,A2=1e3,N2=100;var qi;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(qi||(qi={}));var ft;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(ft||(ft={}));var un;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(un||(un={}));var ed;(function(n){n.websocket="websocket"})(ed||(ed={}));var Gi;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Gi||(Gi={}));class R2{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,i){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return i(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var i;return this._isArrayBuffer((i=e.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var i,r;const a=(r=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var i,r;const a=(r=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&r!==void 0?r:{},c=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,i,r){var a,l;const c=e.topic,h=(a=e.ref)!==null&&a!==void 0?a:"",g=(l=e.join_ref)!==null&&l!==void 0?l:"",p=e.payload.event,_=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},x=Object.keys(_).length===0?"":JSON.stringify(_);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`metadata length ${x.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+h.length+c.length+p.length+x.length,E=new ArrayBuffer(this.HEADER_LENGTH+b);let w=new DataView(E),N=0;w.setUint8(N++,this.KINDS.userBroadcastPush),w.setUint8(N++,g.length),w.setUint8(N++,h.length),w.setUint8(N++,c.length),w.setUint8(N++,p.length),w.setUint8(N++,x.length),w.setUint8(N++,i),Array.from(g,P=>w.setUint8(N++,P.charCodeAt(0))),Array.from(h,P=>w.setUint8(N++,P.charCodeAt(0))),Array.from(c,P=>w.setUint8(N++,P.charCodeAt(0))),Array.from(p,P=>w.setUint8(N++,P.charCodeAt(0))),Array.from(x,P=>w.setUint8(N++,P.charCodeAt(0)));var I=new Uint8Array(E.byteLength+r.byteLength);return I.set(new Uint8Array(E),0),I.set(new Uint8Array(r),E.byteLength),I.buffer}decode(e,i){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return i(r)}if(typeof e=="string"){const r=JSON.parse(e),[a,l,c,h,g]=r;return i({join_ref:a,ref:l,topic:c,event:h,payload:g})}return i({})}_binaryDecode(e){const i=new DataView(e),r=i.getUint8(0),a=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,i,a)}}_decodeUserBroadcast(e,i,r){const a=i.getUint8(1),l=i.getUint8(2),c=i.getUint8(3),h=i.getUint8(4);let g=this.HEADER_LENGTH+4;const p=r.decode(e.slice(g,g+a));g=g+a;const _=r.decode(e.slice(g,g+l));g=g+l;const x=r.decode(e.slice(g,g+c));g=g+c;const b=e.slice(g,e.byteLength),E=h===this.JSON_ENCODING?JSON.parse(r.decode(b)):b,w={type:this.BROADCAST_EVENT,event:_,payload:E};return c>0&&(w.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(e){var i;return e instanceof ArrayBuffer||((i=e==null?void 0:e.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(e,i){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>i.includes(r)))}}class kv{constructor(e,i){this.callback=e,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(ze||(ze={}));const L0=(n,e,i={})=>{var r;const a=(r=i.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=M2(c,n,e,a),l),{}):{}},M2=(n,e,i,r)=>{const a=e.find(h=>h.name===n),l=a==null?void 0:a.type,c=i[n];return l&&!r.includes(l)?Dv(l,c):td(c)},Dv=(n,e)=>{if(n.charAt(0)==="_"){const i=n.slice(1,n.length);return U2(e,i)}switch(n){case ze.bool:return I2(e);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return k2(e);case ze.json:case ze.jsonb:return D2(e);case ze.timestamp:return P2(e);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return td(e);default:return td(e)}},td=n=>n,I2=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},k2=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},D2=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},U2=(n,e)=>{if(typeof n!="string")return n;const i=n.length-1,r=n[i];if(n[0]==="{"&&r==="}"){let l;const c=n.slice(1,i);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(h=>Dv(e,h))}return n},P2=n=>typeof n=="string"?n.replace(" ","T"):n,Uv=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Ac{constructor(e,i,r={},a=Wc){this.channel=e,this.event=i,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,i){var r;return this._hasReceived(e)&&i((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:i}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(i))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var q0;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(q0||(q0={}));class Qr{constructor(e,i){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(i==null?void 0:i.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Qr.syncState(this.state,a,l,c),this.pendingDiffs.forEach(g=>{this.state=Qr.syncDiff(this.state,g,l,c)}),this.pendingDiffs=[],h()}),this.channel._on(r.diff,{},a=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Qr.syncDiff(this.state,a,l,c),h())}),this.onJoin((a,l,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:c})}),this.onLeave((a,l,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,i,r,a){const l=this.cloneDeep(e),c=this.transformState(i),h={},g={};return this.map(l,(p,_)=>{c[p]||(g[p]=_)}),this.map(c,(p,_)=>{const x=l[p];if(x){const b=_.map(I=>I.presence_ref),E=x.map(I=>I.presence_ref),w=_.filter(I=>E.indexOf(I.presence_ref)<0),N=x.filter(I=>b.indexOf(I.presence_ref)<0);w.length>0&&(h[p]=w),N.length>0&&(g[p]=N)}else h[p]=_}),this.syncDiff(l,{joins:h,leaves:g},r,a)}static syncDiff(e,i,r,a){const{joins:l,leaves:c}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(l,(h,g)=>{var p;const _=(p=e[h])!==null&&p!==void 0?p:[];if(e[h]=this.cloneDeep(g),_.length>0){const x=e[h].map(E=>E.presence_ref),b=_.filter(E=>x.indexOf(E.presence_ref)<0);e[h].unshift(...b)}r(h,_,g)}),this.map(c,(h,g)=>{let p=e[h];if(!p)return;const _=g.map(x=>x.presence_ref);p=p.filter(x=>_.indexOf(x.presence_ref)<0),e[h]=p,a(h,p,g),p.length===0&&delete e[h]}),e}static map(e,i){return Object.getOwnPropertyNames(e).map(r=>i(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((i,r)=>{const a=e[r];return"metas"in a?i[r]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):i[r]=a,i},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var G0;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(G0||(G0={}));var Xr;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Xr||(Xr={}));var Un;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Un||(Un={}));class Id{constructor(e,i={config:{}},r){var a,l;if(this.topic=e,this.params=i,this.socket=r,this.bindings={},this.state=ft.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Ac(this,un.join,this.params,this.timeout),this.rejoinTimer=new kv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ft.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ft.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this._on(un.reply,{},(c,h)=>{this._trigger(this._replyEventName(h),c)}),this.presence=new Qr(this),this.broadcastEndpointURL=Uv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,i=this.timeout){var r,a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==ft.closed){const{config:{broadcast:c,presence:h,private:g}}=this.params,p=(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(E=>E.filter))!==null&&a!==void 0?a:[],_=!!this.bindings[Xr.PRESENCE]&&this.bindings[Xr.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,x={},b={broadcast:c,presence:Object.assign(Object.assign({},h),{enabled:_}),postgres_changes:p,private:g};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(E=>e==null?void 0:e(Un.CHANNEL_ERROR,E)),this._onClose(()=>e==null?void 0:e(Un.CLOSED)),this.updateJoinPayload(Object.assign({config:b},x)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:E})=>{var w;if(this.socket.setAuth(),E===void 0){e==null||e(Un.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,I=(w=N==null?void 0:N.length)!==null&&w!==void 0?w:0,P=[];for(let k=0;k<I;k++){const A=N[k],{filter:{event:j,schema:D,table:Y,filter:G}}=A,W=E&&E[k];if(W&&W.event===j&&W.schema===D&&W.table===Y&&W.filter===G)P.push(Object.assign(Object.assign({},A),{id:W.id}));else{this.unsubscribe(),this.state=ft.errored,e==null||e(Un.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=P,e&&e(Un.SUBSCRIBED);return}}).receive("error",E=>{this.state=ft.errored,e==null||e(Un.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Un.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,i={}){return await this.send({type:"presence",event:"track",payload:e},i.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,i,r){return this.state===ft.joined&&e===Xr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,i,r)}async httpSend(e,i,r={}){var a;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(i==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:i,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);if(h.status===202)return{success:!0};let g=h.statusText;try{const p=await h.json();g=p.error||p.message||g}catch{}return Promise.reject(new Error(g))}async send(e,i={}){var r,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=e,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(r=i.timeout)!==null&&r!==void 0?r:this.timeout);return await((a=p.body)===null||a===void 0?void 0:a.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,h,g;const p=this._push(e.type,e,i.timeout||this.timeout);e.type==="broadcast"&&!(!((g=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||g===void 0)&&g.ack)&&l("ok"),p.receive("ok",()=>l("ok")),p.receive("error",()=>l("error")),p.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ft.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(un.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(a=>{r=new Ac(this,un.leave,{},e),r.receive("ok",()=>{i(),a("ok")}).receive("timeout",()=>{i(),a("timed out")}).receive("error",()=>{a("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ft.closed,this.bindings={}}async _fetchWithTimeout(e,i,r){const a=new AbortController,l=setTimeout(()=>a.abort(),r),c=await this.socket.fetch(e,Object.assign(Object.assign({},i),{signal:a.signal}));return clearTimeout(l),c}_push(e,i,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Ac(this,e,i,r);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>N2){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(e,i,r){return i}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,i,r){var a,l;const c=e.toLocaleLowerCase(),{close:h,error:g,leave:p,join:_}=un;if(r&&[h,g,p,_].indexOf(c)>=0&&r!==this._joinRef())return;let b=this._onMessage(c,i,r);if(i&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(E=>{var w,N,I;return((w=E.filter)===null||w===void 0?void 0:w.event)==="*"||((I=(N=E.filter)===null||N===void 0?void 0:N.event)===null||I===void 0?void 0:I.toLocaleLowerCase())===c}).map(E=>E.callback(b,r)):(l=this.bindings[c])===null||l===void 0||l.filter(E=>{var w,N,I,P,k,A;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in E){const j=E.id,D=(w=E.filter)===null||w===void 0?void 0:w.event;return j&&((N=i.ids)===null||N===void 0?void 0:N.includes(j))&&(D==="*"||(D==null?void 0:D.toLocaleLowerCase())===((I=i.data)===null||I===void 0?void 0:I.type.toLocaleLowerCase()))}else{const j=(k=(P=E==null?void 0:E.filter)===null||P===void 0?void 0:P.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return j==="*"||j===((A=i==null?void 0:i.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===c}).map(E=>{if(typeof b=="object"&&"ids"in b){const w=b.data,{schema:N,table:I,commit_timestamp:P,type:k,errors:A}=w;b=Object.assign(Object.assign({},{schema:N,table:I,commit_timestamp:P,eventType:k,new:{},old:{},errors:A}),this._getPayloadRecords(w))}E.callback(b,r)})}_isClosed(){return this.state===ft.closed}_isJoined(){return this.state===ft.joined}_isJoining(){return this.state===ft.joining}_isLeaving(){return this.state===ft.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,i,r){const a=e.toLocaleLowerCase(),l={type:a,filter:i,callback:r};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(e,i){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===r&&Id.isEqual(a.filter,i))})),this}static isEqual(e,i){if(Object.keys(e).length!==Object.keys(i).length)return!1;for(const r in e)if(e[r]!==i[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(un.close,{},e)}_onError(e){this._on(un.error,{},i=>e(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ft.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const i={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(i.new=L0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(i.old=L0(e.columns,e.old_record)),i}}const Nc=()=>{},Na={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},O2=[1e3,2e3,5e3,1e4],L2=1e4,q2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class G2{constructor(e,i){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Wc,this.transport=null,this.heartbeatIntervalMs=Na.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Nc,this.ref=0,this.reconnectTimer=null,this.vsn=O0,this.logger=Nc,this.conn=null,this.sendBuffer=[],this.serializer=new R2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...l)=>a(...l):(...l)=>fetch(...l),!(!((r=i==null?void 0:i.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${e}/${ed.websocket}`,this.httpEndpoint=Uv(e),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i==null?void 0:i.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=E2.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const i=e.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const i=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const e=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,i,r){this.logger(e,i,r)}connectionState(){switch(this.conn&&this.conn.readyState){case qi.connecting:return Gi.Connecting;case qi.open:return Gi.Open;case qi.closing:return Gi.Closing;default:return Gi.Closed}}isConnected(){return this.connectionState()===Gi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,i={config:{}}){const r=`realtime:${e}`,a=this.getChannels().find(l=>l.topic===r);if(a)return a;{const l=new Id(`realtime:${e}`,i,this);return this.channels.push(l),l}}push(e){const{topic:i,event:r,payload:a,ref:l}=e,c=()=>{this.encode(e,h=>{var g;(g=this.conn)===null||g===void 0||g.send(h)})};this.log("push",`${i} ${r} (${l})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(A2,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},Na.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let i=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${e}"`),i.unsubscribe())}_remove(e){this.channels=this.channels.filter(i=>i.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:a,payload:l,ref:c}=i,h=c?`(${c})`:"",g=l.status||"";this.log("receive",`${g} ${r} ${a} ${h}`.trim(),l),this.channels.filter(p=>p._isMember(r)).forEach(p=>p._trigger(a,l,c)),this._triggerStateCallbacks("message",i)})}_clearTimer(e){var i;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===qi.open||this.conn.readyState===qi.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var i;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(un.error))}_appendParams(e,i){if(Object.keys(i).length===0)return e;const r=e.match(/\?/)?"&":"?",a=new URLSearchParams(i);return`${e}${r}${a}`}_workerObjectUrl(e){let i;if(e)i=e;else{const r=new Blob([q2],{type:"application/javascript"});i=URL.createObjectURL(r)}return i}_setConnectionState(e,i=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(e=null){let i;e?i=e:this.accessToken?i=await this.accessToken():i=this.accessTokenValue,this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(r=>{const a={access_token:i,version:w2};i&&r.updateJoinPayload(a),r.joinedOnce&&r._isJoined()&&r._push(un.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(i=>{this.log("error",`error setting auth in ${e}`,i)})}_triggerStateCallbacks(e,i){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(i)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new kv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Na.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var i,r,a,l,c,h,g,p,_,x,b,E;switch(this.transport=(i=e==null?void 0:e.transport)!==null&&i!==void 0?i:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Wc,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:Na.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e==null?void 0:e.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(h=e==null?void 0:e.heartbeatCallback)!==null&&h!==void 0?h:Nc,this.vsn=(g=e==null?void 0:e.vsn)!==null&&g!==void 0?g:O0,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e==null?void 0:e.reconnectAfterMs)!==null&&p!==void 0?p:(w=>O2[w-1]||L2),this.vsn){case Iv:this.encode=(_=e==null?void 0:e.encode)!==null&&_!==void 0?_:((w,N)=>N(JSON.stringify(w))),this.decode=(x=e==null?void 0:e.decode)!==null&&x!==void 0?x:((w,N)=>N(JSON.parse(w)));break;case C2:this.encode=(b=e==null?void 0:e.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(E=e==null?void 0:e.decode)!==null&&E!==void 0?E:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Wa extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Qe(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class B2 extends Wa{constructor(e,i,r){super(e),this.name="StorageApiError",this.status=i,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class nd extends Wa{constructor(e,i){super(e),this.name="StorageUnknownError",this.originalError=i}}const kd=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),j2=()=>Response,id=n=>{if(Array.isArray(n))return n.map(i=>id(i));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([i,r])=>{const a=i.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[a]=id(r)}),e},V2=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},H2=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n),Rc=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},z2=(n,e,i)=>ie(void 0,void 0,void 0,function*(){const r=yield j2();n instanceof r&&!(i!=null&&i.noResolveJson)?n.json().then(a=>{const l=n.status||500,c=(a==null?void 0:a.statusCode)||l+"";e(new B2(Rc(a),l,c))}).catch(a=>{e(new nd(Rc(a),a))}):e(new nd(Rc(n),n))}),$2=(n,e,i,r)=>{const a={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"||!r?a:(V2(r)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(r)):a.body=r,e!=null&&e.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),i))};function io(n,e,i,r,a,l){return ie(this,void 0,void 0,function*(){return new Promise((c,h)=>{n(i,$2(e,r,a,l)).then(g=>{if(!g.ok)throw g;return r!=null&&r.noResolveJson?g:g.json()}).then(g=>c(g)).catch(g=>z2(g,h,r))})})}function Wr(n,e,i,r){return ie(this,void 0,void 0,function*(){return io(n,"GET",e,i,r)})}function ln(n,e,i,r,a){return ie(this,void 0,void 0,function*(){return io(n,"POST",e,r,a,i)})}function sd(n,e,i,r,a){return ie(this,void 0,void 0,function*(){return io(n,"PUT",e,r,a,i)})}function F2(n,e,i,r){return ie(this,void 0,void 0,function*(){return io(n,"HEAD",e,Object.assign(Object.assign({},i),{noResolveJson:!0}),r)})}function Dd(n,e,i,r,a){return ie(this,void 0,void 0,function*(){return io(n,"DELETE",e,r,a,i)})}class J2{constructor(e,i){this.downloadFn=e,this.shouldThrowOnError=i}then(e,i){return this.execute().then(e,i)}execute(){return ie(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Qe(e))return{data:null,error:e};throw e}})}}var Pv;class Y2{constructor(e,i){this.downloadFn=e,this.shouldThrowOnError=i,this[Pv]="BlobDownloadBuilder",this.promise=null}asStream(){return new J2(this.downloadFn,this.shouldThrowOnError)}then(e,i){return this.getPromise().then(e,i)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ie(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Qe(e))return{data:null,error:e};throw e}})}}Pv=Symbol.toStringTag;const K2={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},B0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Q2{constructor(e,i={},r,a){this.shouldThrowOnError=!1,this.url=e,this.headers=i,this.bucketId=r,this.fetch=kd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,i,r,a){return ie(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},B0),a);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const g=c.metadata;typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),g&&l.append("metadata",this.encodeMetadata(g)),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.has("cacheControl")||l.append("cacheControl",c.cacheControl),g&&!l.has("metadata")&&l.append("metadata",this.encodeMetadata(g))):(l=r,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,g&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(g))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!c.duplex&&(c.duplex="half")),a!=null&&a.headers&&(h=Object.assign(Object.assign({},h),a.headers));const p=this._removeEmptyFolders(i),_=this._getFinalPath(p),x=yield(e=="PUT"?sd:ln)(this.fetch,`${this.url}/object/${_}`,l,Object.assign({headers:h},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:p,id:x.Id,fullPath:x.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Qe(l))return{data:null,error:l};throw l}})}upload(e,i,r){return ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,i,r)})}uploadToSignedUrl(e,i,r,a){return ie(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),h=new URL(this.url+`/object/upload/sign/${c}`);h.searchParams.set("token",i);try{let g;const p=Object.assign({upsert:B0.upsert},a),_=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&r instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",r)):typeof FormData<"u"&&r instanceof FormData?(g=r,g.append("cacheControl",p.cacheControl)):(g=r,_["cache-control"]=`max-age=${p.cacheControl}`,_["content-type"]=p.contentType);const x=yield sd(this.fetch,h.toString(),g,{headers:_});return{data:{path:l,fullPath:x.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(Qe(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(e,i){return ie(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const a=Object.assign({},this.headers);i!=null&&i.upsert&&(a["x-upsert"]="true");const l=yield ln(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:a}),c=new URL(this.url+l.url),h=c.searchParams.get("token");if(!h)throw new Wa("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:h},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}})}update(e,i,r){return ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,i,r)})}move(e,i,r){return ie(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:i,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Qe(a))return{data:null,error:a};throw a}})}copy(e,i,r){return ie(this,void 0,void 0,function*(){try{return{data:{path:(yield ln(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:i,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Qe(a))return{data:null,error:a};throw a}})}createSignedUrl(e,i,r){return ie(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),l=yield ln(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:i},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const c=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Qe(a))return{data:null,error:a};throw a}})}createSignedUrls(e,i,r){return ie(this,void 0,void 0,function*(){try{const a=yield ln(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:e},{headers:this.headers}),l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Qe(a))return{data:null,error:a};throw a}})}download(e,i){const a=typeof(i==null?void 0:i.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((i==null?void 0:i.transform)||{}),c=l?`?${l}`:"",h=this._getFinalPath(e),g=()=>Wr(this.fetch,`${this.url}/${a}/${h}${c}`,{headers:this.headers,noResolveJson:!0});return new Y2(g,this.shouldThrowOnError)}info(e){return ie(this,void 0,void 0,function*(){const i=this._getFinalPath(e);try{const r=yield Wr(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:id(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}})}exists(e){return ie(this,void 0,void 0,function*(){const i=this._getFinalPath(e);try{return yield F2(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qe(r)&&r instanceof nd){const a=r.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,i){const r=this._getFinalPath(e),a=[],l=i!=null&&i.download?`download=${i.download===!0?"":i.download}`:"";l!==""&&a.push(l);const h=typeof(i==null?void 0:i.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((i==null?void 0:i.transform)||{});g!==""&&a.push(g);let p=a.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${r}${p}`)}}}remove(e){return ie(this,void 0,void 0,function*(){try{return{data:yield Dd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}})}list(e,i,r){return ie(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},K2),i),{prefix:e||""});return{data:yield ln(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Qe(a))return{data:null,error:a};throw a}})}listV2(e,i){return ie(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield ln(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},i),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const i=[];return e.width&&i.push(`width=${e.width}`),e.height&&i.push(`height=${e.height}`),e.resize&&i.push(`resize=${e.resize}`),e.format&&i.push(`format=${e.format}`),e.quality&&i.push(`quality=${e.quality}`),i.join("&")}}const Ov="2.86.0",Lv={"X-Client-Info":`storage-js/${Ov}`};class X2{constructor(e,i={},r,a){this.shouldThrowOnError=!1;const l=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Lv),i),this.fetch=kd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return ie(this,void 0,void 0,function*(){try{const i=this.listBucketOptionsToQueryString(e);return{data:yield Wr(this.fetch,`${this.url}/bucket${i}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}})}getBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:yield Wr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}})}createBucket(e){return ie(this,arguments,void 0,function*(i,r={public:!1}){try{return{data:yield ln(this.fetch,`${this.url}/bucket`,{id:i,name:i,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Qe(a))return{data:null,error:a};throw a}})}updateBucket(e,i){return ie(this,void 0,void 0,function*(){try{return{data:yield sd(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}})}deleteBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:yield Dd(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}})}listBucketOptionsToQueryString(e){const i={};return e&&("limit"in e&&(i.limit=String(e.limit)),"offset"in e&&(i.offset=String(e.offset)),e.search&&(i.search=e.search),e.sortColumn&&(i.sortColumn=e.sortColumn),e.sortOrder&&(i.sortOrder=e.sortOrder)),Object.keys(i).length>0?"?"+new URLSearchParams(i).toString():""}}var eo=class extends Error{constructor(n,e){var i;super(n),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((i=e.icebergType)==null?void 0:i.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Z2(n,e,i){const r=new URL(e,n);if(i)for(const[a,l]of Object.entries(i))l!==void 0&&r.searchParams.set(a,l);return r.toString()}async function W2(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function eR(n){const e=n.fetchImpl??globalThis.fetch;return{async request({method:i,path:r,query:a,body:l,headers:c}){const h=Z2(n.baseUrl,r,a),g=await W2(n.auth),p=await e(h,{method:i,headers:{...l?{"Content-Type":"application/json"}:{},...g,...c},body:l?JSON.stringify(l):void 0}),_=await p.text(),x=(p.headers.get("content-type")||"").includes("application/json"),b=x&&_?JSON.parse(_):_;if(!p.ok){const E=x?b:void 0,w=E==null?void 0:E.error;throw new eo((w==null?void 0:w.message)??`Request failed with status ${p.status}`,{status:p.status,icebergType:w==null?void 0:w.type,icebergCode:w==null?void 0:w.code,details:E})}return{status:p.status,headers:p.headers,data:b}}}}function Ra(n){return n.join("")}var tR=class{constructor(n,e=""){this.client=n,this.prefix=e}async listNamespaces(n){const e=n?{parent:Ra(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(n,e){const i={namespace:n.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ra(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ra(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ra(n.namespace)}`}),!0}catch(e){if(e instanceof eo&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(n,e){try{return await this.createNamespace(n,e)}catch(i){if(i instanceof eo&&i.status===409)return;throw i}}};function Rs(n){return n.join("")}var nR=class{constructor(n,e="",i){this.client=n,this.prefix=e,this.accessDelegation=i}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Rs(n.namespace)}/tables`})).data.identifiers}async createTable(n,e){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Rs(n.namespace)}/tables`,body:e,headers:i})).data.metadata}async updateTable(n,e){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Rs(n.namespace)}/tables/${n.name}`,body:e});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(n,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Rs(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(n){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Rs(n.namespace)}/tables/${n.name}`,headers:e})).data.metadata}async tableExists(n){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Rs(n.namespace)}/tables/${n.name}`,headers:e}),!0}catch(i){if(i instanceof eo&&i.status===404)return!1;throw i}}async createTableIfNotExists(n,e){try{return await this.createTable(n,e)}catch(i){if(i instanceof eo&&i.status===409)return await this.loadTable({namespace:n.namespace,name:e.name});throw i}}},iR=class{constructor(n){var r;let e="v1";n.catalogName&&(e+=`/${n.catalogName}`);const i=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=eR({baseUrl:i,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=(r=n.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new tR(this.client,e),this.tableOps=new nR(this.client,e,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,e){return this.namespaceOps.createNamespace(n,e)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,e){return this.tableOps.createTable(n,e)}async updateTable(n,e){return this.tableOps.updateTable(n,e)}async dropTable(n,e){await this.tableOps.dropTable(n,e)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,e){return this.namespaceOps.createNamespaceIfNotExists(n,e)}async createTableIfNotExists(n,e){return this.tableOps.createTableIfNotExists(n,e)}};class sR{constructor(e,i={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Lv),i),this.fetch=kd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}})}listBuckets(e){return ie(this,void 0,void 0,function*(){try{const i=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&i.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&i.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&i.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&i.set("sortOrder",e.sortOrder),e!=null&&e.search&&i.set("search",e.search);const r=i.toString(),a=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Wr(this.fetch,a,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}})}deleteBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:yield Dd(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}})}from(e){if(!H2(e))throw new Wa("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new iR({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>ie(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Ud={"X-Client-Info":`storage-js/${Ov}`,"Content-Type":"application/json"};class qv extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ht(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}class Mc extends qv{constructor(e,i,r){super(e),this.name="StorageVectorsApiError",this.status=i,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class rR extends qv{constructor(e,i){super(e),this.name="StorageVectorsUnknownError",this.originalError=i}}var j0;(function(n){n.InternalError="InternalError",n.S3VectorConflictException="S3VectorConflictException",n.S3VectorNotFoundException="S3VectorNotFoundException",n.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",n.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",n.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(j0||(j0={}));const Pd=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),oR=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},V0=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),aR=(n,e,i)=>ie(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(i!=null&&i.noResolveJson)){const a=n.status||500,l=n;if(typeof l.json=="function")l.json().then(c=>{const h=(c==null?void 0:c.statusCode)||(c==null?void 0:c.code)||a+"";e(new Mc(V0(c),a,h))}).catch(()=>{const c=a+"",h=l.statusText||`HTTP ${a} error`;e(new Mc(h,a,c))});else{const c=a+"",h=l.statusText||`HTTP ${a} error`;e(new Mc(h,a,c))}}else e(new rR(V0(n),n))}),lR=(n,e,i,r)=>{const a={method:n,headers:(e==null?void 0:e.headers)||{}};return r?(oR(r)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(r)):a.body=r,Object.assign(Object.assign({},a),i)):a};function uR(n,e,i,r,a,l){return ie(this,void 0,void 0,function*(){return new Promise((c,h)=>{n(i,lR(e,r,a,l)).then(g=>{if(!g.ok)throw g;if(r!=null&&r.noResolveJson)return g;const p=g.headers.get("content-type");return!p||!p.includes("application/json")?{}:g.json()}).then(g=>c(g)).catch(g=>aR(g,h,r))})})}function zt(n,e,i,r,a){return ie(this,void 0,void 0,function*(){return uR(n,"POST",e,r,a,i)})}class cR{constructor(e,i={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ud),i),this.fetch=Pd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return ie(this,void 0,void 0,function*(){try{return{data:(yield zt(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ht(i))return{data:null,error:i};throw i}})}getIndex(e,i){return ie(this,void 0,void 0,function*(){try{return{data:yield zt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:i},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}listIndexes(e){return ie(this,void 0,void 0,function*(){try{return{data:yield zt(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ht(i))return{data:null,error:i};throw i}})}deleteIndex(e,i){return ie(this,void 0,void 0,function*(){try{return{data:(yield zt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:i},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}}class dR{constructor(e,i={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ud),i),this.fetch=Pd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return ie(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield zt(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ht(i))return{data:null,error:i};throw i}})}getVectors(e){return ie(this,void 0,void 0,function*(){try{return{data:yield zt(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ht(i))return{data:null,error:i};throw i}})}listVectors(e){return ie(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield zt(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ht(i))return{data:null,error:i};throw i}})}queryVectors(e){return ie(this,void 0,void 0,function*(){try{return{data:yield zt(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ht(i))return{data:null,error:i};throw i}})}deleteVectors(e){return ie(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield zt(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ht(i))return{data:null,error:i};throw i}})}}class fR{constructor(e,i={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ud),i),this.fetch=Pd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:(yield zt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ht(i))return{data:null,error:i};throw i}})}getBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:yield zt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ht(i))return{data:null,error:i};throw i}})}listBuckets(){return ie(this,arguments,void 0,function*(e={}){try{return{data:yield zt(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ht(i))return{data:null,error:i};throw i}})}deleteBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:(yield zt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ht(i))return{data:null,error:i};throw i}})}}class hR extends fR{constructor(e,i={}){super(e,i.headers||{},i.fetch)}from(e){return new pR(this.url,this.headers,e,this.fetch)}createBucket(e){const i=Object.create(null,{createBucket:{get:()=>super.createBucket}});return ie(this,void 0,void 0,function*(){return i.createBucket.call(this,e)})}getBucket(e){const i=Object.create(null,{getBucket:{get:()=>super.getBucket}});return ie(this,void 0,void 0,function*(){return i.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return ie(this,arguments,void 0,function*(i={}){return e.listBuckets.call(this,i)})}deleteBucket(e){const i=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return ie(this,void 0,void 0,function*(){return i.deleteBucket.call(this,e)})}}class pR extends cR{constructor(e,i,r,a){super(e,i,a),this.vectorBucketName=r}createIndex(e){const i=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ie(this,void 0,void 0,function*(){return i.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ie(this,arguments,void 0,function*(i={}){return e.listIndexes.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const i=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ie(this,void 0,void 0,function*(){return i.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const i=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ie(this,void 0,void 0,function*(){return i.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new mR(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class mR extends dR{constructor(e,i,r,a,l){super(e,i,l),this.vectorBucketName=r,this.indexName=a}putVectors(e){const i=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ie(this,void 0,void 0,function*(){return i.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const i=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ie(this,void 0,void 0,function*(){return i.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ie(this,arguments,void 0,function*(i={}){return e.listVectors.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const i=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ie(this,void 0,void 0,function*(){return i.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const i=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ie(this,void 0,void 0,function*(){return i.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class gR extends X2{constructor(e,i={},r,a){super(e,i,r,a)}from(e){return new Q2(this.url,this.headers,e,this.fetch)}get vectors(){return new hR(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new sR(this.url+"/iceberg",this.headers,this.fetch)}}const yR="2.86.0";let Jr="";typeof Deno<"u"?Jr="deno":typeof document<"u"?Jr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Jr="react-native":Jr="node";const vR={"X-Client-Info":`supabase-js-${Jr}/${yR}`},_R={headers:vR},xR={schema:"public"},bR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},SR={},ER=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),TR=()=>Headers,wR=(n,e,i)=>{const r=ER(i),a=TR();return async(l,c)=>{var h;const g=(h=await e())!==null&&h!==void 0?h:n;let p=new a(c==null?void 0:c.headers);return p.has("apikey")||p.set("apikey",n),p.has("Authorization")||p.set("Authorization",`Bearer ${g}`),r(l,Object.assign(Object.assign({},c),{headers:p}))}};function CR(n){return n.endsWith("/")?n:n+"/"}function AR(n,e){var i,r;const{db:a,auth:l,realtime:c,global:h}=n,{db:g,auth:p,realtime:_,global:x}=e,b={db:Object.assign(Object.assign({},g),a),auth:Object.assign(Object.assign({},p),l),realtime:Object.assign(Object.assign({},_),c),storage:{},global:Object.assign(Object.assign(Object.assign({},x),h),{headers:Object.assign(Object.assign({},(i=x==null?void 0:x.headers)!==null&&i!==void 0?i:{}),(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return n.accessToken?b.accessToken=n.accessToken:delete b.accessToken,b}function NR(n){const e=n==null?void 0:n.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(CR(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Gv="2.86.0",Ps=30*1e3,rd=3,Ic=rd*Ps,RR="http://localhost:9999",MR="supabase.auth.token",IR={"X-Client-Info":`gotrue-js/${Gv}`},od="X-Supabase-Api-Version",Bv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},kR=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,DR=600*1e3;class to extends Error{constructor(e,i,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=r}}function le(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class UR extends to{constructor(e,i,r){super(e,i,r),this.name="AuthApiError",this.status=i,this.code=r}}function PR(n){return le(n)&&n.name==="AuthApiError"}class Bi extends to{constructor(e,i){super(e),this.name="AuthUnknownError",this.originalError=i}}class gi extends to{constructor(e,i,r,a){super(e,r,a),this.name=i,this.status=r}}class Vt extends gi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function OR(n){return le(n)&&n.name==="AuthSessionMissingError"}class Ms extends gi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ma extends gi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ia extends gi{constructor(e,i=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function LR(n){return le(n)&&n.name==="AuthImplicitGrantRedirectError"}class H0 extends gi{constructor(e,i=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ad extends gi{constructor(e,i){super(e,"AuthRetryableFetchError",i,void 0)}}function kc(n){return le(n)&&n.name==="AuthRetryableFetchError"}class z0 extends gi{constructor(e,i,r){super(e,"AuthWeakPasswordError",i,"weak_password"),this.reasons=r}}class ld extends gi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ja="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$0=` 	
\r=`.split(""),qR=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<$0.length;e+=1)n[$0[e].charCodeAt(0)]=-2;for(let e=0;e<ja.length;e+=1)n[ja[e].charCodeAt(0)]=e;return n})();function F0(n,e,i){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;i(ja[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;i(ja[r]),e.queuedBits-=6}}function jv(n,e,i){const r=qR[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)i(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function J0(n){const e=[],i=c=>{e.push(String.fromCodePoint(c))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=c=>{jR(c,r,i)};for(let c=0;c<n.length;c+=1)jv(n.charCodeAt(c),a,l);return e.join("")}function GR(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function BR(n,e){for(let i=0;i<n.length;i+=1){let r=n.charCodeAt(i);if(r>55295&&r<=56319){const a=(r-55296)*1024&65535;r=(n.charCodeAt(i+1)-56320&65535|a)+65536,i+=1}GR(r,e)}}function jR(n,e,i){if(e.utf8seq===0){if(n<=127){i(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&i(e.codepoint)}}function Hs(n){const e=[],i={queue:0,queuedBits:0},r=a=>{e.push(a)};for(let a=0;a<n.length;a+=1)jv(n.charCodeAt(a),i,r);return new Uint8Array(e)}function VR(n){const e=[];return BR(n,i=>e.push(i)),new Uint8Array(e)}function Vi(n){const e=[],i={queue:0,queuedBits:0},r=a=>{e.push(a)};return n.forEach(a=>F0(a,i,r)),F0(null,i,r),e.join("")}function HR(n){return Math.round(Date.now()/1e3)+n}function zR(){return Symbol("auth-callback")}const xt=()=>typeof window<"u"&&typeof document<"u",Pi={tested:!1,writable:!1},Vv=()=>{if(!xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Pi.tested)return Pi.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Pi.tested=!0,Pi.writable=!0}catch{Pi.tested=!0,Pi.writable=!1}return Pi.writable};function $R(n){const e={},i=new URL(n);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((a,l)=>{e[l]=a})}catch{}return i.searchParams.forEach((r,a)=>{e[a]=r}),e}const Hv=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),FR=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Os=async(n,e,i)=>{await n.setItem(e,JSON.stringify(i))},Oi=async(n,e)=>{const i=await n.getItem(e);if(!i)return null;try{return JSON.parse(i)}catch{return i}},di=async(n,e)=>{await n.removeItem(e)};class el{constructor(){this.promise=new el.promiseConstructor((e,i)=>{this.resolve=e,this.reject=i})}}el.promiseConstructor=Promise;function Dc(n){const e=n.split(".");if(e.length!==3)throw new ld("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!kR.test(e[r]))throw new ld("JWT not in base64url format");return{header:JSON.parse(J0(e[0])),payload:JSON.parse(J0(e[1])),signature:Hs(e[2]),raw:{header:e[0],payload:e[1]}}}async function JR(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function YR(n,e){return new Promise((r,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await n(l);if(!e(l,null,c)){r(c);return}}catch(c){if(!e(l,c)){a(c);return}}})()})}function KR(n){return("0"+n.toString(16)).substr(-2)}function QR(){const e=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=i.length;let a="";for(let l=0;l<56;l++)a+=i.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(e),Array.from(e,KR).join("")}async function XR(n){const i=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",i),a=new Uint8Array(r);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function ZR(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const i=await XR(n);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Is(n,e,i=!1){const r=QR();let a=r;i&&(a+="/PASSWORD_RECOVERY"),await Os(n,`${e}-code-verifier`,a);const l=await ZR(r);return[l,r===l?"plain":"s256"]}const WR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function eM(n){const e=n.headers.get(od);if(!e||!e.match(WR))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function tM(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function nM(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const iM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ks(n){if(!iM.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Uc(){const n={};return new Proxy(n,{get:(e,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const r=i.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function sM(n,e){return new Proxy(n,{get:(i,r,a)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const l=r.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,r,a)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(i,r,a)}})}function Y0(n){return JSON.parse(JSON.stringify(n))}const Li=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),rM=[502,503,504];async function K0(n){var e;if(!FR(n))throw new ad(Li(n),0);if(rM.includes(n.status))throw new ad(Li(n),n.status);let i;try{i=await n.json()}catch(l){throw new Bi(Li(l),l)}let r;const a=eM(n);if(a&&a.getTime()>=Bv["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?r=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(r=i.error_code),r){if(r==="weak_password")throw new z0(Li(i),n.status,((e=i.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Vt}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new z0(Li(i),n.status,i.weak_password.reasons);throw new UR(Li(i),n.status||500,r)}const oM=(n,e,i,r)=>{const a={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),i))};async function he(n,e,i,r){var a;const l=Object.assign({},r==null?void 0:r.headers);l[od]||(l[od]=Bv["2024-01-01"].name),r!=null&&r.jwt&&(l.Authorization=`Bearer ${r.jwt}`);const c=(a=r==null?void 0:r.query)!==null&&a!==void 0?a:{};r!=null&&r.redirectTo&&(c.redirect_to=r.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",g=await aM(n,e,i+h,{headers:l,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(g):{data:Object.assign({},g),error:null}}async function aM(n,e,i,r,a,l){const c=oM(e,r,a,l);let h;try{h=await n(i,Object.assign({},c))}catch(g){throw console.error(g),new ad(Li(g),0)}if(h.ok||await K0(h),r!=null&&r.noResolveJson)return h;try{return await h.json()}catch(g){await K0(g)}}function an(n){var e;let i=null;cM(n)&&(i=Object.assign({},n),n.expires_at||(i.expires_at=HR(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:i,user:r},error:null}}function Q0(n){const e=an(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((i,r)=>i&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function fi(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function lM(n){return{data:n,error:null}}function uM(n){const{action_link:e,email_otp:i,hashed_token:r,redirect_to:a,verification_type:l}=n,c=Qs(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:i,hashed_token:r,redirect_to:a,verification_type:l},g=Object.assign({},c);return{data:{properties:h,user:g},error:null}}function X0(n){return n}function cM(n){return n.access_token&&n.refresh_token&&n.expires_in}const Pc=["global","local","others"];class dM{constructor({url:e="",headers:i={},fetch:r}){this.url=e,this.headers=i,this.fetch=Hv(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,i=Pc[0]){if(Pc.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Pc.join(", ")}`);try{return await he(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,i={}){try{return await he(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:fi})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:i}=e,r=Qs(e,["options"]),a=Object.assign(Object.assign({},r),i);return"newEmail"in r&&(a.new_email=r==null?void 0:r.newEmail,delete a.newEmail),await he(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:uM,redirectTo:i==null?void 0:i.redirectTo})}catch(i){if(le(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(e){try{return await he(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:fi})}catch(i){if(le(i))return{data:{user:null},error:i};throw i}}async listUsers(e){var i,r,a,l,c,h,g;try{const p={nextPage:null,lastPage:0,total:0},_=await he(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(i=e==null?void 0:e.page)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:X0});if(_.error)throw _.error;const x=await _.json(),b=(c=_.headers.get("x-total-count"))!==null&&c!==void 0?c:0,E=(g=(h=_.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&g!==void 0?g:[];return E.length>0&&(E.forEach(w=>{const N=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),I=JSON.parse(w.split(";")[1].split("=")[1]);p[`${I}Page`]=N}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},x),p),error:null}}catch(p){if(le(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){ks(e);try{return await he(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:fi})}catch(i){if(le(i))return{data:{user:null},error:i};throw i}}async updateUserById(e,i){ks(e);try{return await he(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:i,headers:this.headers,xform:fi})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,i=!1){ks(e);try{return await he(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:i},xform:fi})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){ks(e.userId);try{const{data:i,error:r}=await he(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:i,error:r}}catch(i){if(le(i))return{data:null,error:i};throw i}}async _deleteFactor(e){ks(e.userId),ks(e.id);try{return{data:await he(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(i){if(le(i))return{data:null,error:i};throw i}}async _listOAuthClients(e){var i,r,a,l,c,h,g;try{const p={nextPage:null,lastPage:0,total:0},_=await he(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(i=e==null?void 0:e.page)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:X0});if(_.error)throw _.error;const x=await _.json(),b=(c=_.headers.get("x-total-count"))!==null&&c!==void 0?c:0,E=(g=(h=_.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&g!==void 0?g:[];return E.length>0&&(E.forEach(w=>{const N=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),I=JSON.parse(w.split(";")[1].split("=")[1]);p[`${I}Page`]=N}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},x),p),error:null}}catch(p){if(le(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(le(i))return{data:null,error:i};throw i}}async _getOAuthClient(e){try{return await he(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(le(i))return{data:null,error:i};throw i}}async _updateOAuthClient(e,i){try{return await he(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:i,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(le(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await he(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(le(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(e){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(le(i))return{data:null,error:i};throw i}}}function Z0(n={}){return{getItem:e=>n[e]||null,setItem:(e,i)=>{n[e]=i},removeItem:e=>{delete n[e]}}}const Ds={debug:!!(globalThis&&Vv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class zv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class fM extends zv{}async function hM(n,e,i){Ds.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ds.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async a=>{if(a){Ds.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,a.name);try{return await i()}finally{Ds.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,a.name)}}else{if(e===0)throw Ds.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new fM(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Ds.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function pM(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function $v(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function mM(n){return parseInt(n,16)}function gM(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function yM(n){var e;const{chainId:i,domain:r,expirationTime:a,issuedAt:l=new Date,nonce:c,notBefore:h,requestId:g,resources:p,scheme:_,uri:x,version:b}=n;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const E=$v(n.address),w=_?`${_}://${r}`:r,N=n.statement?`${n.statement}
`:"",I=`${w} wants you to sign in with your Ethereum account:
${E}

${N}`;let P=`URI: ${x}
Version: ${b}
Chain ID: ${i}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(a&&(P+=`
Expiration Time: ${a.toISOString()}`),h&&(P+=`
Not Before: ${h.toISOString()}`),g&&(P+=`
Request ID: ${g}`),p){let k=`
Resources:`;for(const A of p){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);k+=`
- ${A}`}P+=k}return`${I}
${P}`}class ct extends Error{constructor({message:e,code:i,cause:r,name:a}){var l;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(l=a??(r instanceof Error?r.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=i}}class Va extends ct{constructor(e,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:e}),this.name="WebAuthnUnknownError",this.originalError=i}}function vM({error:n,options:e}){var i,r,a;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ct({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((i=l.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new ct({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((r=l.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ct({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new ct({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new ct({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new ct({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return l.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new ct({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new ct({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const c=window.location.hostname;if(Fv(c)){if(l.rp.id!==c)return new ct({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new ct({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new ct({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function _M({error:n,options:e}){const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ct({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new ct({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const r=window.location.hostname;if(Fv(r)){if(i.rpId!==r)return new ct({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new ct({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class xM{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const bM=new xM;function SM(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:i,excludeCredentials:r}=n,a=Qs(n,["challenge","user","excludeCredentials"]),l=Hs(e).buffer,c=Object.assign(Object.assign({},i),{id:Hs(i.id).buffer}),h=Object.assign(Object.assign({},a),{challenge:l,user:c});if(r&&r.length>0){h.excludeCredentials=new Array(r.length);for(let g=0;g<r.length;g++){const p=r[g];h.excludeCredentials[g]=Object.assign(Object.assign({},p),{id:Hs(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return h}function EM(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:i}=n,r=Qs(n,["challenge","allowCredentials"]),a=Hs(e).buffer,l=Object.assign(Object.assign({},r),{challenge:a});if(i&&i.length>0){l.allowCredentials=new Array(i.length);for(let c=0;c<i.length;c++){const h=i[c];l.allowCredentials[c]=Object.assign(Object.assign({},h),{id:Hs(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return l}function TM(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const i=n;return{id:n.id,rawId:n.id,response:{attestationObject:Vi(new Uint8Array(n.response.attestationObject)),clientDataJSON:Vi(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=i.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function wM(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const i=n,r=n.getClientExtensionResults(),a=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:Vi(new Uint8Array(a.authenticatorData)),clientDataJSON:Vi(new Uint8Array(a.clientDataJSON)),signature:Vi(new Uint8Array(a.signature)),userHandle:a.userHandle?Vi(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=i.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Fv(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function W0(){var n,e;return!!(xt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function CM(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Va("Browser returned unexpected credential type",e)}:{data:null,error:new Va("Empty credential response",e)}}catch(e){return{data:null,error:vM({error:e,options:n})}}}async function AM(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Va("Browser returned unexpected credential type",e)}:{data:null,error:new Va("Empty credential response",e)}}catch(e){return{data:null,error:_M({error:e,options:n})}}}const NM={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},RM={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ha(...n){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),i=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),r={};for(const a of n)if(a)for(const l in a){const c=a[l];if(c!==void 0)if(Array.isArray(c))r[l]=c;else if(i(c))r[l]=c;else if(e(c)){const h=r[l];e(h)?r[l]=Ha(h,c):r[l]=Ha(c)}else r[l]=c}return r}function MM(n,e){return Ha(NM,n,e||{})}function IM(n,e){return Ha(RM,n,e||{})}class kM{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:i,friendlyName:r,signal:a},l){try{const{data:c,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:i});if(!c)return{data:null,error:h};const g=a??bM.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:p}=c.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${r}`),p.displayName||(p.displayName=p.name)}switch(c.webauthn.type){case"create":{const p=MM(c.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:_,error:x}=await CM({publicKey:p,signal:g});return _?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:_}},error:null}:{data:null,error:x}}case"request":{const p=IM(c.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:_,error:x}=await AM(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:p,signal:g}));return _?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:_}},error:null}:{data:null,error:x}}}}catch(c){return le(c)?{data:null,error:c}:{data:null,error:new Bi("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:i,webauthn:r}){return this.client.mfa.verify({factorId:i,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!i)return{data:null,error:new to("rpId is required for WebAuthn authentication")};try{if(!W0())return{data:null,error:new Bi("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this.challenge({factorId:e,webauthn:{rpId:i,rpOrigins:r},signal:a},{request:l});if(!c)return{data:null,error:h};const{webauthn:g}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:g.type,rpId:i,rpOrigins:r,credential_response:g.credential_response}})}catch(c){return le(c)?{data:null,error:c}:{data:null,error:new Bi("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!i)return{data:null,error:new to("rpId is required for WebAuthn registration")};try{if(!W0())return{data:null,error:new Bi("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(_=>{var x;return(x=_.data)===null||x===void 0?void 0:x.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===e&&b.status!=="unverified")}).then(_=>_?this.client.mfa.unenroll({factorId:_==null?void 0:_.id}):void 0),{data:null,error:h};const{data:g,error:p}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:i,rpOrigins:r},signal:a},{create:l});return g?this._verify({factorId:c.id,challengeId:g.challengeId,webauthn:{rpId:i,rpOrigins:r,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:p}}catch(c){return le(c)?{data:null,error:c}:{data:null,error:new Bi("Unexpected error in register",c)}}}}pM();const DM={url:RR,storageKey:MR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:IR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function ey(n,e,i){return await i()}const Us={};class no{get jwks(){var e,i;return(i=(e=Us[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(e){Us[this.storageKey]=Object.assign(Object.assign({},Us[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,i;return(i=(e=Us[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Us[this.storageKey]=Object.assign(Object.assign({},Us[this.storageKey]),{cachedAt:e})}constructor(e){var i,r,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},DM),e);if(this.storageKey=l.storageKey,this.instanceID=(i=no.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,no.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&xt()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new dM({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=Hv(l.fetch),this.lock=l.lock||ey,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:xt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=hM:this.lock=ey,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new kM(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:Vv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Z0(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Z0(this.memoryStorage)),xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Gv}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let i={},r="none";if(xt()&&(i=$R(window.location.href),this._isImplicitGrantCallback(i)?r="implicit":await this._isPKCECallback(i)&&(r="pkce")),xt()&&this.detectSessionInUrl&&r!=="none"){const{data:a,error:l}=await this._getSessionFromURL(i,r);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),LR(l)){const g=(e=l.details)===null||e===void 0?void 0:e.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:h}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return le(i)?this._returnResult({error:i}):this._returnResult({error:new Bi("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var i,r,a;try{const l=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:an}),{data:c,error:h}=l;if(h||!c)return this._returnResult({data:{user:null,session:null},error:h});const g=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(l){if(le(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var i,r,a;try{let l;if("email"in e){const{email:_,password:x,options:b}=e;let E=null,w=null;this.flowType==="pkce"&&([E,w]=await Is(this.storage,this.storageKey)),l=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:_,password:x,data:(i=b==null?void 0:b.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:E,code_challenge_method:w},xform:an})}else if("phone"in e){const{phone:_,password:x,options:b}=e;l=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:x,data:(r=b==null?void 0:b.data)!==null&&r!==void 0?r:{},channel:(a=b==null?void 0:b.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:an})}else throw new Ma("You must provide either an email or phone number and a password");const{data:c,error:h}=l;if(h||!c)return this._returnResult({data:{user:null,session:null},error:h});const g=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(l){if(le(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let i;if("email"in e){const{email:l,password:c,options:h}=e;i=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Q0})}else if("phone"in e){const{phone:l,password:c,options:h}=e;i=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Q0})}else throw new Ma("You must provide either an email or phone number and a password");const{data:r,error:a}=i;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!r||!r.session||!r.user){const l=new Ms;return this._returnResult({data:{user:null,session:null},error:l})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(i){if(le(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(e){var i,r,a,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:i}=e;switch(i){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(e){var i,r,a,l,c,h,g,p,_,x,b;let E,w;if("message"in e)E=e.message,w=e.signature;else{const{chain:N,wallet:I,statement:P,options:k}=e;let A;if(xt())if(typeof I=="object")A=I;else{const K=window;if("ethereum"in K&&typeof K.ethereum=="object"&&"request"in K.ethereum&&typeof K.ethereum.request=="function")A=K.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof I!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=I}const j=new URL((i=k==null?void 0:k.url)!==null&&i!==void 0?i:window.location.href),D=await A.request({method:"eth_requestAccounts"}).then(K=>K).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Y=$v(D[0]);let G=(r=k==null?void 0:k.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!G){const K=await A.request({method:"eth_chainId"});G=mM(K)}const W={domain:j.host,address:Y,statement:P,uri:j.href,version:"1",chainId:G,nonce:(a=k==null?void 0:k.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(c=(l=k==null?void 0:k.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(h=k==null?void 0:k.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(g=k==null?void 0:k.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(p=k==null?void 0:k.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(_=k==null?void 0:k.signInWithEthereum)===null||_===void 0?void 0:_.resources};E=yM(W),w=await A.request({method:"personal_sign",params:[gM(E),Y]})}try{const{data:N,error:I}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:w},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:an});if(I)throw I;if(!N||!N.session||!N.user){const P=new Ms;return this._returnResult({data:{user:null,session:null},error:P})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:I})}catch(N){if(le(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(e){var i,r,a,l,c,h,g,p,_,x,b,E;let w,N;if("message"in e)w=e.message,N=e.signature;else{const{chain:I,wallet:P,statement:k,options:A}=e;let j;if(xt())if(typeof P=="object")j=P;else{const Y=window;if("solana"in Y&&typeof Y.solana=="object"&&("signIn"in Y.solana&&typeof Y.solana.signIn=="function"||"signMessage"in Y.solana&&typeof Y.solana.signMessage=="function"))j=Y.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=P}const D=new URL((i=A==null?void 0:A.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in j&&j.signIn){const Y=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A==null?void 0:A.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),k?{statement:k}:null));let G;if(Array.isArray(Y)&&Y[0]&&typeof Y[0]=="object")G=Y[0];else if(Y&&typeof Y=="object"&&"signedMessage"in Y&&"signature"in Y)G=Y;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in G&&"signature"in G&&(typeof G.signedMessage=="string"||G.signedMessage instanceof Uint8Array)&&G.signature instanceof Uint8Array)w=typeof G.signedMessage=="string"?G.signedMessage:new TextDecoder().decode(G.signedMessage),N=G.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${D.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(a=(r=A==null?void 0:A.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=A==null?void 0:A.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((c=A==null?void 0:A.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((h=A==null?void 0:A.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((g=A==null?void 0:A.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((p=A==null?void 0:A.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((x=(_=A==null?void 0:A.signInWithSolana)===null||_===void 0?void 0:_.resources)===null||x===void 0)&&x.length?["Resources",...A.signInWithSolana.resources.map(G=>`- ${G}`)]:[]].join(`
`);const Y=await j.signMessage(new TextEncoder().encode(w),"utf8");if(!Y||!(Y instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=Y}}try{const{data:I,error:P}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Vi(N)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(E=e.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:an});if(P)throw P;if(!I||!I.session||!I.user){const k=new Ms;return this._returnResult({data:{user:null,session:null},error:k})}return I.session&&(await this._saveSession(I.session),await this._notifyAllSubscribers("SIGNED_IN",I.session)),this._returnResult({data:Object.assign({},I),error:P})}catch(I){if(le(I))return this._returnResult({data:{user:null,session:null},error:I});throw I}}async _exchangeCodeForSession(e){const i=await Oi(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(i??"").split("/");try{const{data:l,error:c}=await he(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:an});if(await di(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!l||!l.session||!l.user){const h=new Ms;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:c})}catch(l){if(le(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:i,provider:r,token:a,access_token:l,nonce:c}=e,h=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:an}),{data:g,error:p}=h;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!g||!g.session||!g.user){const _=new Ms;return this._returnResult({data:{user:null,session:null},error:_})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:p})}catch(i){if(le(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(e){var i,r,a,l,c;try{if("email"in e){const{email:h,options:g}=e;let p=null,_=null;this.flowType==="pkce"&&([p,_]=await Is(this.storage,this.storageKey));const{error:x}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(i=g==null?void 0:g.data)!==null&&i!==void 0?i:{},create_user:(r=g==null?void 0:g.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:p,code_challenge_method:_},redirectTo:g==null?void 0:g.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in e){const{phone:h,options:g}=e,{data:p,error:_}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(a=g==null?void 0:g.data)!==null&&a!==void 0?a:{},create_user:(l=g==null?void 0:g.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(c=g==null?void 0:g.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:_})}throw new Ma("You must provide either an email or phone number.")}catch(h){if(le(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(e){var i,r;try{let a,l;"options"in e&&(a=(i=e.options)===null||i===void 0?void 0:i.redirectTo,l=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:c,error:h}=await he(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:an});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const g=c.session,p=c.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(a){if(le(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var i,r,a,l,c;try{let h=null,g=null;this.flowType==="pkce"&&([h,g]=await Is(this.storage,this.storageKey));const p=await he(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(i=e.options)===null||i===void 0?void 0:i.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:g}),headers:this.headers,xform:lM});return!((l=p.data)===null||l===void 0)&&l.url&&xt()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(h){if(le(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:i},error:r}=e;if(r)throw r;if(!i)throw new Vt;const{error:a}=await he(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(le(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const i=`${this.url}/resend`;if("email"in e){const{email:r,type:a,options:l}=e,{error:c}=await he(this.fetch,"POST",i,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:r,type:a,options:l}=e,{data:c,error:h}=await he(this.fetch,"POST",i,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h})}throw new Ma("You must provide either an email or phone number and a type")}catch(i){if(le(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(e,i){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await r,await i()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=i();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await e(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const i=await Oi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?e=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Ic:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const c=await Oi(this.userStorage,this.storageKey+"-user");c!=null&&c.user?e.user=c.user:e.user=Uc()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=sM(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:fi}):await this._useSession(async i=>{var r,a,l;const{data:c,error:h}=i;if(h)throw h;return!(!((r=c.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vt}:await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:fi})})}catch(i){if(le(i))return OR(i)&&(await this._removeSession(),await di(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(e,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,i))}async _updateUser(e,i={}){try{return await this._useSession(async r=>{const{data:a,error:l}=r;if(l)throw l;if(!a.session)throw new Vt;const c=a.session;let h=null,g=null;this.flowType==="pkce"&&e.email!=null&&([h,g]=await Is(this.storage,this.storageKey));const{data:p,error:_}=await he(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i==null?void 0:i.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:g}),jwt:c.access_token,xform:fi});if(_)throw _;return c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(r){if(le(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Vt;const i=Date.now()/1e3;let r=i,a=!0,l=null;const{payload:c}=Dc(e.access_token);if(c.exp&&(r=c.exp,a=r<=i),a){const{data:h,error:g}=await this._callRefreshToken(e.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!h)return{data:{user:null,session:null},error:null};l=h}else{const{data:h,error:g}=await this._getUser(e.access_token);if(g)throw g;l={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:r-i,expires_at:r},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(i){if(le(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async i=>{var r;if(!e){const{data:c,error:h}=i;if(h)throw h;e=(r=c.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Vt;const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(le(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(e,i){try{if(!xt())throw new Ia("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ia(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new H0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ia("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new H0("No code detected.");const{data:k,error:A}=await this._exchangeCodeForSession(e.code);if(A)throw A;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:l,refresh_token:c,expires_in:h,expires_at:g,token_type:p}=e;if(!l||!h||!c||!p)throw new Ia("No session defined in URL");const _=Math.round(Date.now()/1e3),x=parseInt(h);let b=_+x;g&&(b=parseInt(g));const E=b-_;E*1e3<=Ps&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${x}s`);const w=b-x;_-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,b,_):_-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,b,_);const{data:N,error:I}=await this._getUser(l);if(I)throw I;const P={provider_token:r,provider_refresh_token:a,access_token:l,expires_in:x,expires_at:b,refresh_token:c,token_type:p,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:P,redirectType:e.type},error:null})}catch(r){if(le(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const i=await Oi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&i)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async i=>{var r;const{data:a,error:l}=i;if(l)return this._returnResult({error:l});const c=(r=a.session)===null||r===void 0?void 0:r.access_token;if(c){const{error:h}=await this.admin.signOut(c,e);if(h&&!(PR(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return e!=="others"&&(await this._removeSession(),await di(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const i=zR(),r={id:i,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async i=>{var r,a;try{const{data:{session:l},error:c}=i;if(c)throw c;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,i={}){let r=null,a=null;this.flowType==="pkce"&&([r,a]=await Is(this.storage,this.storageKey,!0));try{return await he(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(l){if(le(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:i,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=i.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(i){if(le(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var i;try{const{data:r,error:a}=await this._useSession(async l=>{var c,h,g,p,_;const{data:x,error:b}=l;if(b)throw b;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(g=e.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await he(this.fetch,"GET",E,{headers:this.headers,jwt:(_=(p=x.session)===null||p===void 0?void 0:p.access_token)!==null&&_!==void 0?_:void 0})});if(a)throw a;return xt()&&!(!((i=e.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(le(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async i=>{var r;try{const{error:a,data:{session:l}}=i;if(a)throw a;const{options:c,provider:h,token:g,access_token:p,nonce:_}=e,x=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=l==null?void 0:l.access_token)!==null&&r!==void 0?r:void 0,body:{provider:h,id_token:g,access_token:p,nonce:_,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:an}),{data:b,error:E}=x;return E?this._returnResult({data:{user:null,session:null},error:E}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new Ms}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:E}))}catch(a){if(le(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async i=>{var r,a;const{data:l,error:c}=i;if(c)throw c;return await he(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0})})}catch(i){if(le(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(e){const i=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{const r=Date.now();return await YR(async a=>(a>0&&await JR(200*Math.pow(2,a-1)),this._debug(i,"refreshing attempt",a),await he(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:an})),(a,l)=>{const c=200*Math.pow(2,a);return l&&kc(l)&&Date.now()+c-r<Ps})}catch(r){if(this._debug(i,"error",r),le(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(i,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,i){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",i,"url",r),xt()&&!i.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,i;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const a=await Oi(this.storage,this.storageKey);if(a&&this.userStorage){let c=await Oi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await Os(this.userStorage,this.storageKey+"-user",c)),a.user=(e=c==null?void 0:c.user)!==null&&e!==void 0?e:Uc()}else if(a&&!a.user&&!a.user){const c=await Oi(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(a.user=c.user,await di(this.storage,this.storageKey+"-user"),await Os(this.storage,this.storageKey,a)):a.user=Uc()}if(this._debug(r,"session from storage",a),!this._isValidSession(a)){this._debug(r,"session is not valid"),a!==null&&await this._removeSession();return}const l=((i=a.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Ic;if(this._debug(r,`session has${l?"":" not"} expired with margin of ${Ic}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),kc(c)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:h}=await this._getUser(a.access_token);!h&&(c!=null&&c.user)?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(r,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(r,"error",a),console.error(a);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var i,r;if(!e)throw new Vt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new el;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new Vt;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const h={data:l.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(l){if(this._debug(a,"error",l),le(l)){const c={data:null,error:l};return kc(l)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(c),c}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,i,r=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",i,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:i});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,i)}catch(g){l.push(g)}});if(await Promise.all(c),l.length>0){for(let h=0;h<l.length;h+=1)console.error(l[h]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const i=Object.assign({},e),r=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&i.user&&await Os(this.userStorage,this.storageKey+"-user",{user:i.user});const a=Object.assign({},i);delete a.user;const l=Y0(a);await Os(this.storage,this.storageKey,l)}else{const a=Y0(i);await Os(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await di(this.storage,this.storageKey),await di(this.storage,this.storageKey+"-code-verifier"),await di(this.storage,this.storageKey+"-user"),this.userStorage&&await di(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&xt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ps);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async i=>{const{data:{session:r}}=i;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-e)/Ps);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ps}ms, refresh threshold is ${rd} ticks`),a<=rd&&await this._callRefreshToken(r.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof zv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const i=`#_onVisibilityChanged(${e})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,i,r){const a=[`provider=${encodeURIComponent(i)}`];if(r!=null&&r.redirectTo&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[l,c]=await Is(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(h.toString())}if(r!=null&&r.queryParams){const l=new URLSearchParams(r.queryParams);a.push(l.toString())}return r!=null&&r.skipBrowserRedirect&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async i=>{var r;const{data:a,error:l}=i;return l?this._returnResult({data:null,error:l}):await he(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(i){if(le(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(e){try{return await this._useSession(async i=>{var r,a;const{data:l,error:c}=i;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:g,error:p}=await he(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(r=l==null?void 0:l.session)===null||r===void 0?void 0:r.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&g.type==="totp"&&(!((a=g==null?void 0:g.totp)===null||a===void 0)&&a.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(i){if(le(i))return this._returnResult({data:null,error:i});throw i}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var r;const{data:a,error:l}=i;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?TM(e.webauthn.credential_response):wM(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:g}=await he(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:g}))})}catch(i){if(le(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var r;const{data:a,error:l}=i;if(l)return this._returnResult({data:null,error:l});const c=await he(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});if(c.error)return c;const{data:h}=c;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:SM(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:EM(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(le(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(e){const{data:i,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:i.id,code:e.code})}async _listFactors(){var e;const{data:{user:i},error:r}=await this.getUser();if(r)return{data:null,error:r};const a={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=i==null?void 0:i.factors)!==null&&e!==void 0?e:[])a.all.push(l),l.status==="verified"&&a[l.factor_type].push(l);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,i;const{data:{session:r},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Dc(r.access_token);let c=null;l.aal&&(c=l.aal);let h=c;((i=(e=r.user.factors)===null||e===void 0?void 0:e.filter(_=>_.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(h="aal2");const p=l.amr||[];return{data:{currentLevel:c,nextLevel:h,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async i=>{const{data:{session:r},error:a}=i;return a?this._returnResult({data:null,error:a}):r?await he(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Vt})})}catch(i){if(le(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(e,i){try{return await this._useSession(async r=>{const{data:{session:a},error:l}=r;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new Vt});const c=await he(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&xt()&&!(i!=null&&i.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(r){if(le(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,i){try{return await this._useSession(async r=>{const{data:{session:a},error:l}=r;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new Vt});const c=await he(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&xt()&&!(i!=null&&i.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(r){if(le(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:i},error:r}=e;return r?this._returnResult({data:null,error:r}):i?await he(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Vt})})}catch(e){if(le(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async i=>{const{data:{session:r},error:a}=i;return a?this._returnResult({data:null,error:a}):r?(await he(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Vt})})}catch(i){if(le(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(e,i={keys:[]}){let r=i.keys.find(h=>h.kid===e);if(r)return r;const a=Date.now();if(r=this.jwks.keys.find(h=>h.kid===e),r&&this.jwks_cached_at+DR>a)return r;const{data:l,error:c}=await he(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,r=l.keys.find(h=>h.kid===e),!r)?null:r}async getClaims(e,i={}){try{let r=e;if(!r){const{data:E,error:w}=await this.getSession();if(w||!E.session)return this._returnResult({data:null,error:w});r=E.session.access_token}const{header:a,payload:l,signature:c,raw:{header:h,payload:g}}=Dc(r);i!=null&&i.allowExpired||tM(l.exp);const p=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,i!=null&&i.keys?{keys:i.keys}:i==null?void 0:i.jwks);if(!p){const{error:E}=await this.getUser(r);if(E)throw E;return{data:{claims:l,header:a,signature:c},error:null}}const _=nM(a.alg),x=await crypto.subtle.importKey("jwk",p,_,!0,["verify"]);if(!await crypto.subtle.verify(_,x,c,VR(`${h}.${g}`)))throw new ld("Invalid JWT signature");return{data:{claims:l,header:a,signature:c},error:null}}catch(r){if(le(r))return this._returnResult({data:null,error:r});throw r}}}no.nextInstanceID={};const UM=no;class PM extends UM{constructor(e){super(e)}}class OM{constructor(e,i,r){var a,l,c;this.supabaseUrl=e,this.supabaseKey=i;const h=NR(e);if(!i)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const g=`sb-${h.hostname.split(".")[0]}-auth-token`,p={db:xR,realtime:SR,auth:Object.assign(Object.assign({},bR),{storageKey:g}),global:_R},_=AR(r??{},p);this.storageKey=(a=_.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=_.global.headers)!==null&&l!==void 0?l:{},_.accessToken?(this.accessToken=_.accessToken,this.auth=new Proxy({},{get:(x,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=_.auth)!==null&&c!==void 0?c:{},this.headers,_.global.fetch),this.fetch=wR(i,this._getAccessToken.bind(this),_.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},_.realtime)),this.accessToken&&this.accessToken().then(x=>this.realtime.setAuth(x)).catch(x=>console.warn("Failed to set initial Realtime auth token:",x)),this.rest=new S2(new URL("rest/v1",h).href,{headers:this.headers,schema:_.db.schema,fetch:this.fetch}),this.storage=new gR(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),_.accessToken||this._listenForAuthEvents()}get functions(){return new v2(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,i={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,i,r)}channel(e,i={config:{}}){return this.realtime.channel(e,i)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,i;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(i=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&i!==void 0?i:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:i,detectSessionInUrl:r,storage:a,userStorage:l,storageKey:c,flowType:h,lock:g,debug:p,throwOnError:_},x,b){const E={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new PM({url:this.authUrl.href,headers:Object.assign(Object.assign({},E),x),storageKey:c,autoRefreshToken:e,persistSession:i,detectSessionInUrl:r,storage:a,userStorage:l,flowType:h,lock:g,debug:p,throwOnError:_,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new G2(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,r)=>{this._handleTokenChanged(i,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,i,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Jv=(n,e,i)=>new OM(n,e,i);function LM(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}LM()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Oc={finance:{id:"finance",name:"Emma IA  BOURSE",systemPrompt:ji,avatarId:qa,voiceName:Ad,temperature:.6},ceo:{id:"ceo",name:"CEO Simulator",systemPrompt:Kc,avatarId:"Tyler-incasualsuit-20220721",voiceName:"Charon",temperature:.7},critic:{id:"critic",name:"Avocat du Diable",systemPrompt:Qy,avatarId:"Kristy-inpublic-20220810",voiceName:"Kore",temperature:.8},geek:{id:"geek",name:"Emma  GEEK",systemPrompt:Cd,avatarId:qa,voiceName:"Zephyr",temperature:.5},researcher:{id:"researcher",name:"Morgane Recherchiste",systemPrompt:Ky,avatarId:"Angela-inT-20220820",voiceName:"Puck",temperature:.4},writer:{id:"writer",name:"Emma  RDACTION",systemPrompt:Yy,avatarId:"Angela-inT-20220820",voiceName:"Fenrir",temperature:.7},tavus:{id:"tavus",name:"Emma  NATURELLE",systemPrompt:Zy,avatarId:"tavus-replica-id-default",voiceName:"natural",temperature:.7}};class Yv{constructor(e){this.supabase=null,this.memoryCache={...Oc},e.supabaseUrl&&e.supabaseKey&&(this.supabase=Jv(e.supabaseUrl,e.supabaseKey))}async loadAllConfigs(){if(!this.supabase)return console.log("ConfigService: No DB, using defaults."),this.memoryCache;try{const{data:e,error:i}=await this.supabase.from("section_configs").select("*");if(i)throw i;e&&e.forEach(r=>{this.memoryCache[r.id]={id:r.id,name:r.name,systemPrompt:r.system_prompt,avatarId:r.avatar_id,voiceName:r.voice_name,temperature:r.temperature,customField1:r.custom_field_1,customField2:r.custom_field_2}})}catch(e){console.error("Failed to load configs from Supabase:",e)}return this.memoryCache}async saveConfig(e){if(this.memoryCache[e.id]=e,!this.supabase)return console.warn("ConfigService: Saving to memory only (No DB)."),!0;try{const{error:i}=await this.supabase.from("section_configs").upsert({id:e.id,name:e.name,system_prompt:e.systemPrompt,avatar_id:e.avatarId,voice_name:e.voiceName,temperature:e.temperature,custom_field_1:e.customField1,custom_field_2:e.customField2,updated_at:new Date().toISOString()});if(i)throw i;return!0}catch(i){return console.error("Failed to save config to Supabase:",i),!1}}getConfig(e){return this.memoryCache[e]||Oc[e]||Oc.finance}}function Kv(n){var e,i,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(i=Kv(n[e]))&&(r&&(r+=" "),r+=i)}else for(i in n)n[i]&&(r&&(r+=" "),r+=i);return r}function be(){for(var n,e,i=0,r="",a=arguments.length;i<a;i++)(n=arguments[i])&&(e=Kv(n))&&(r&&(r+=" "),r+=e);return r}class qM{constructor(e,i,r="medium",a="Friendly",l=!1){this.peerConnection=null,this.sessionId=null,this.token=e,this.avatarId=i,this.quality=r,this.emotion=a,this.removeBackground=l}async createSession(){console.log(`Creating HeyGen session for avatar: ${this.avatarId} (${this.quality}, ${this.emotion})`);const e=await fetch("https://api.heygen.com/v1/streaming.new",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.token}`},body:JSON.stringify({quality:this.quality,avatar_name:this.avatarId,voice:{rate:1,emotion:this.emotion},version:"v2",video_encoding:"H264",disable_idle_timeout:!0,background:this.removeBackground?{color:"#00FF00"}:void 0})});if(!e.ok){const r=await e.json();throw new Error(`HeyGen Session Error: ${e.statusText} - ${JSON.stringify(r)}`)}return(await e.json()).data}async startSession(e){try{const i=await this.createSession();this.sessionId=i.sessionId,this.peerConnection=new RTCPeerConnection({iceServers:i.ice_servers||[]}),this.peerConnection.ontrack=a=>{a.streams&&a.streams[0]&&(e.srcObject=a.streams[0])},this.peerConnection.onicecandidate=({candidate:a})=>{a&&this.sendIceCandidate(a)},await this.peerConnection.setRemoteDescription(new RTCSessionDescription(i.sdp));const r=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(r),await fetch("https://api.heygen.com/v1/streaming.start",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.token}`},body:JSON.stringify({session_id:this.sessionId,sdp:r})}),console.log("HeyGen Session Started")}catch(i){throw console.error("HeyGen connection failed",i),i}}async sendIceCandidate(e){this.sessionId&&await fetch("https://api.heygen.com/v1/streaming.ice",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.token}`},body:JSON.stringify({session_id:this.sessionId,candidate:e})})}async speak(e){if(this.sessionId)try{await fetch("https://api.heygen.com/v1/streaming.task",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.token}`},body:JSON.stringify({session_id:this.sessionId,text:e})})}catch(i){console.error("Failed to send speak task",i)}}async close(){var e;if(this.sessionId)try{await fetch("https://api.heygen.com/v1/streaming.stop",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.token}`},body:JSON.stringify({session_id:this.sessionId})})}catch(i){console.warn(i)}(e=this.peerConnection)==null||e.close(),this.peerConnection=null,this.sessionId=null}}class GM{constructor(e){this.stream=null,this.token=e}async startSession(e){console.log("Initializing Akool Session..."),await new Promise(i=>setTimeout(i,1500)),console.log("Akool Session Ready (Mock)")}async speak(e){console.log(`Akool speaking: ${e}`)}async close(){console.log("Akool Session Closed")}}const Qv=({state:n,volume:e,config:i,lastMessage:r})=>{const a=n===et.CONNECTED,l=$.useRef(null),c=$.useRef(null),h=$.useRef(null),g=$.useRef(null),[p,_]=$.useState("idle"),[x,b]=$.useState(null),[E,w]=$.useState("idle"),[N,I]=$.useState(null),P=e>10;$.useEffect(()=>{!r||!a||(p==="active"&&h.current&&h.current.speak(r).catch(K=>console.error("HeyGen Speak Error:",K)),E==="active"&&g.current&&g.current.speak(r).catch(K=>console.error("Akool Speak Error:",K)))},[r,a,p,E]),$.useEffect(()=>()=>{var K,te;(K=h.current)==null||K.close(),(te=g.current)==null||te.close()},[]);const k=async()=>{if(!i.heygenToken){_("error"),b("Token HeyGen manquant dans la configuration.");return}try{_("loading"),b(null),h.current=new qM(i.heygenToken,i.heygenAvatarId,i.heygenQuality,i.heygenEmotion,i.heygenRemoveBackground),l.current&&(await h.current.startSession(l.current),_("active"),l.current.play().catch(K=>{console.error("Video Play Error:",K),_("error"),b("Lecture vido bloque (Autoplay policy ?)")}))}catch(K){console.error(K),_("error"),b(K.message||"Erreur d'initialisation HeyGen")}},A=async()=>{if(!i.akoolToken){w("error"),I("Token Akool manquant dans la configuration.");return}try{w("loading"),I(null),g.current=new GM(i.akoolToken),c.current&&(await g.current.startSession(c.current),w("active"))}catch(K){console.error(K),w("error"),I(K.message||"Erreur d'initialisation Akool")}},j=K=>{const te=`Erreur de flux vido ${K} (Codec/Rseau)`;console.error(te),K==="HeyGen"?(_("error"),b(te)):(w("error"),I(te))},D=i.activeProvider==="both"||i.activeProvider==="heygen",Y=i.activeProvider==="both"||i.activeProvider==="akool",G=i.activeProvider==="both",W=({type:K,videoRef:te,status:ue,errorMsg:oe,onStart:ve,hasToken:je,avatarId:Ve,details:B,isActiveSpeaker:Q})=>y.jsxs("div",{className:be("relative flex flex-col items-center justify-center rounded-2xl overflow-hidden bg-slate-900/60 backdrop-blur-sm transition-all duration-500 shadow-2xl group",G?"w-full h-full":"w-full max-w-3xl aspect-video",Q?"border-2 border-blue-500 shadow-[0_0_50px_rgba(59,130,246,0.3)] ring-1 ring-blue-400/50 scale-[1.01]":"border border-slate-700/50 opacity-90 scale-100"),children:[y.jsx("video",{ref:te,className:be("absolute inset-0 w-full h-full object-cover transition-opacity duration-500",ue==="active"?"opacity-100":"opacity-0 pointer-events-none"),autoPlay:!0,playsInline:!0,onError:()=>j(K)}),ue==="active"&&y.jsxs("div",{className:"absolute top-4 left-4 z-10 flex flex-col gap-1",children:[y.jsxs("div",{className:be("px-2 py-1 rounded text-[10px] font-bold text-white shadow-sm flex items-center gap-1 w-fit transition-all duration-300",Q?"bg-green-600 scale-105":K==="HeyGen"?"bg-blue-600/80":"bg-purple-600/80"),children:[Q?y.jsx(Ka,{className:"w-3 h-3 animate-pulse"}):y.jsx(Hi,{className:"w-3 h-3 text-slate-300"}),K," ",Q?"PARLE":"LIVE"]}),B&&y.jsx("div",{className:"px-2 py-0.5 rounded text-[9px] font-mono text-slate-300 bg-black/50 backdrop-blur w-fit border border-white/10",children:B})]}),y.jsxs("div",{className:be("relative z-10 flex flex-col items-center justify-center text-center p-6 transition-all duration-500",ue==="active"?"opacity-0 hover:opacity-100 bg-black/60 w-full h-full backdrop-blur-sm":"opacity-100"),children:[ue!=="active"&&y.jsx("div",{className:"w-24 h-24 md:w-32 md:h-32 rounded-full mb-6 border-4 border-slate-700/50 shadow-2xl overflow-hidden relative",style:{transform:`scale(${1+e/500})`},children:y.jsx("img",{src:Be.professional,alt:K,className:"w-full h-full object-cover grayscale opacity-60 group-hover:grayscale-0 group-hover:opacity-100 transition-all duration-700"})}),y.jsxs("h3",{className:"text-2xl font-light text-slate-200 mb-1 tracking-tight",children:[K," AI Avatar"]}),y.jsxs("p",{className:"text-xs text-slate-500 font-mono mb-6 flex items-center gap-1",children:[y.jsx(zy,{className:"w-3 h-3"})," ",Ve]}),y.jsxs("div",{className:"space-y-4 max-w-md mx-auto",children:[ue==="loading"&&y.jsxs("div",{className:"flex flex-col items-center gap-2",children:[y.jsx(S0,{className:"w-6 h-6 text-blue-400 animate-spin"}),y.jsx("span",{className:"text-xs text-blue-300 font-medium",children:"Initialisation Secure Stream..."})]}),ue==="error"&&y.jsxs("div",{className:"flex flex-col items-center bg-red-950/40 p-4 rounded-xl border border-red-500/30 animate-in fade-in zoom-in-95",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2 text-red-400",children:[y.jsx(Xa,{className:"w-5 h-5"}),y.jsx("span",{className:"text-sm font-bold",children:"chec de connexion"})]}),y.jsx("p",{className:"text-xs text-red-300/80 mb-3 text-center leading-relaxed",children:oe||"Une erreur inconnue est survenue lors de l'tablissement du flux."}),y.jsxs("button",{onClick:ve,className:"px-4 py-1.5 bg-red-900/50 hover:bg-red-800/50 border border-red-700 text-red-200 text-xs rounded-lg transition-colors flex items-center gap-2",children:[y.jsx(S0,{className:"w-3 h-3"})," Ressayer"]})]}),ue==="idle"&&(je?y.jsxs("button",{onClick:ve,className:be("flex items-center gap-2 px-8 py-3 rounded-xl text-sm font-bold transition-all transform hover:scale-105 shadow-xl hover:shadow-2xl border border-white/10",K==="HeyGen"?"bg-gradient-to-r from-blue-700 to-blue-600 hover:from-blue-600 hover:to-blue-500":"bg-gradient-to-r from-purple-700 to-purple-600 hover:from-purple-600 hover:to-purple-500"),children:[y.jsx(dN,{className:"w-4 h-4 fill-current"})," Activer Stream"]}):y.jsx("div",{className:"flex flex-col items-center gap-2",children:y.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400 bg-slate-900/80 px-4 py-2 rounded-full border border-slate-700",children:[y.jsx(Py,{className:"w-3 h-3 text-orange-400"})," Token Requis (Voir Admin)"]})}))]})]})]});return y.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-4 md:p-8 relative",children:[G&&y.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-30 bg-black/40 backdrop-blur-md border border-white/10 px-6 py-2 rounded-full flex items-center gap-3 shadow-2xl animate-in fade-in slide-in-from-top-4",children:[y.jsx(qy,{className:"w-4 h-4 text-blue-400"}),y.jsxs("span",{className:"text-xs text-slate-200 font-medium tracking-wide",children:[y.jsx("span",{className:"text-blue-400",children:"MODE DUO ACTIF :"})," Les deux avatars analysent et rpondent simultanment."]})]}),y.jsxs("div",{className:be("w-full max-w-7xl transition-all duration-500",G?"grid grid-cols-1 md:grid-cols-2 gap-6 h-[75vh]":"flex justify-center h-auto"),children:[D&&y.jsx(W,{type:"HeyGen",videoRef:l,status:p,errorMsg:x,onStart:k,hasToken:!!i.heygenToken,avatarId:i.heygenAvatarId,details:`${i.heygenQuality.toUpperCase()}  ${i.heygenEmotion}`,isActiveSpeaker:P&&p==="active"}),Y&&y.jsx(W,{type:"Akool",videoRef:c,status:E,errorMsg:N,onStart:A,hasToken:!!i.akoolToken,avatarId:i.akoolAvatarId,details:`REGION: ${i.akoolRegion.toUpperCase()}`,isActiveSpeaker:P&&E==="active"})]}),G&&a&&y.jsxs("div",{className:"mt-4 flex items-center gap-4 text-[10px] text-slate-500 font-mono animate-pulse",children:[y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})," Assistant Principal (HeyGen)"]}),y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"})," Backup (Akool)"]})]})]})},Xv=({state:n,onConnect:e,onDisconnect:i,onEmail:r,onOpenAdmin:a,onToggleInsights:l,showInsights:c})=>{const h=n===et.CONNECTED,g=n===et.CONNECTING;return y.jsxs("div",{className:"flex items-center justify-center gap-6 p-6 bg-slate-900/50 backdrop-blur-md border-t border-slate-800/50 w-full max-w-3xl mx-auto rounded-full mb-8 shadow-2xl relative z-40",children:[!h&&!g&&y.jsx("button",{onClick:e,className:"group flex items-center justify-center w-16 h-16 rounded-full bg-blue-600 hover:bg-blue-500 transition-all duration-300 shadow-[0_0_20px_rgba(37,99,235,0.3)] hover:shadow-[0_0_30px_rgba(37,99,235,0.5)] active:scale-95","aria-label":"Start Conversation",children:y.jsx(Ka,{className:"w-8 h-8 text-white group-hover:scale-110 transition-transform"})}),g&&y.jsx("div",{className:"flex flex-col items-center justify-center",children:y.jsx("div",{className:"w-12 h-12 border-4 border-blue-500/30 border-t-blue-500 rounded-full animate-spin"})}),h&&y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:l,className:`p-4 rounded-full border transition-all active:scale-95 group relative ${c?"bg-purple-600/20 text-purple-400 border-purple-500/50":"bg-slate-800/50 text-slate-300 hover:text-white border-slate-700 hover:border-purple-500/50"}`,title:"Activer la perception IA",children:y.jsx(bN,{className:"w-6 h-6"})}),y.jsx("button",{onClick:r,className:"p-4 rounded-full bg-slate-800/50 text-slate-300 hover:text-white hover:bg-slate-700 border border-slate-700 hover:border-blue-500/50 transition-all active:scale-95 group relative",title:"Envoyer le rsum par courriel",children:y.jsx(Ed,{className:"w-6 h-6 group-hover:text-blue-400 transition-colors"})}),y.jsx("button",{onClick:i,className:"flex items-center justify-center w-16 h-16 rounded-full bg-red-500/10 hover:bg-red-500/20 border border-red-500/30 transition-all active:scale-95 shadow-[0_0_15px_rgba(239,68,68,0.2)]","aria-label":"End Conversation",children:y.jsx(uN,{className:"w-8 h-8 text-red-400"})}),y.jsx("button",{onClick:a,className:"p-4 rounded-full bg-slate-800/50 text-slate-300 hover:text-white hover:bg-slate-700 border border-slate-700 hover:border-blue-500/50 transition-all active:scale-95",children:y.jsx(Jc,{className:"w-6 h-6"})})]})]})},BM=n=>{const e=n.toLowerCase(),i=["hausse","gain","profit","positif","excellent","croissance","opportunit","rentable","super","bon","stable","prometteur","gnial","parfait","d'accord","succs","performant"],r=["baisse","perte","chute","ngatif","risque","crise","attention","mauvais","incertain","erreur","problme","difficile","complexe","dangereux","effondrement"];let a=0;return i.forEach(l=>{e.includes(l)&&a++}),r.forEach(l=>{e.includes(l)&&a--}),a>0?"positive":a<0?"negative":"neutral"},Zv=({messages:n})=>{const e=$.useRef(null);return $.useEffect(()=>{e.current&&(e.current.scrollTop=e.current.scrollHeight)},[n]),n.length===0?y.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-500 opacity-50",children:[y.jsx(eN,{className:"w-12 h-12 mb-2"}),y.jsx("p",{children:"L'historique apparatra ici..."})]}):y.jsxs("div",{className:"flex flex-col h-full bg-slate-800/30 rounded-2xl border border-slate-700/50 backdrop-blur-sm overflow-hidden",children:[y.jsxs("div",{className:"p-4 border-b border-slate-700/50 bg-slate-800/50 flex justify-between items-center",children:[y.jsx("h3",{className:"font-medium text-slate-200",children:"Transcription"}),y.jsx("span",{className:"text-[10px] text-slate-500 font-mono uppercase",children:"Live Feed"})]}),y.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 custom-scrollbar",ref:e,children:n.map(i=>{if(i.role==="assistant"&&i.text.match(/\[Emma IA  (?:BOURSE|MACRO|POLITIQUE|RECHERCHE)\]:/)){const l=i.text.split(/(\[Emma IA  (?:BOURSE|MACRO|POLITIQUE|RECHERCHE)\]:)/g).filter(Boolean);let c="Emma IA";return y.jsx("div",{className:"flex flex-col gap-3 items-start max-w-[95%]",children:l.map((h,g)=>{if(h.match(/^\[.*\]:$/))return c=h.replace(/[\[\]:]/g,""),null;if(!h.trim())return null;let p="text-blue-300 border-blue-500/30 bg-blue-900/20",_="bg-blue-600 text-white";return c.includes("MACRO")&&(p="text-green-300 border-green-500/30 bg-green-900/20",_="bg-green-600 text-white"),c.includes("POLITIQUE")&&(p="text-orange-300 border-orange-500/30 bg-orange-900/20",_="bg-orange-600 text-white"),c.includes("RECHERCHE")&&(p="text-purple-300 border-purple-500/30 bg-purple-900/20",_="bg-purple-600 text-white"),y.jsxs("div",{className:`flex flex-col rounded-xl border ${p} w-full shadow-md`,children:[y.jsxs("div",{className:`px-3 py-1 text-[10px] font-bold uppercase tracking-widest ${_} rounded-t-xl w-full flex items-center gap-2`,children:[y.jsx(Yc,{className:"w-3 h-3"}),c]}),y.jsx("div",{className:"px-4 py-3 text-sm text-slate-200 leading-relaxed",children:h.trim()})]},g)})},i.id)}const a=i.role==="assistant"?BM(i.text):void 0;return y.jsxs("div",{className:be("flex flex-col max-w-[85%]",i.role==="user"?"self-end items-end":"self-start items-start"),children:[y.jsxs("div",{className:be("px-4 py-2 rounded-2xl text-sm leading-relaxed relative group transition-all duration-300",i.role==="user"?"bg-blue-600 text-white rounded-br-none shadow-lg shadow-blue-900/20":i.role==="assistant"?"bg-slate-700 text-slate-100 rounded-bl-none shadow-md":"bg-transparent text-slate-500 italic w-full text-center text-xs"),children:[i.text,i.role==="assistant"&&a&&y.jsxs("div",{className:be("absolute -right-2 -top-2 p-1 rounded-full border shadow-sm scale-0 group-hover:scale-100 transition-transform duration-200",a==="positive"?"bg-green-500/20 border-green-500/50 text-green-400":a==="negative"?"bg-red-500/20 border-red-500/50 text-red-400":"bg-slate-500/20 border-slate-500/50 text-slate-400"),children:[a==="positive"&&y.jsx(Qa,{className:"w-3 h-3"}),a==="negative"&&y.jsx($y,{className:"w-3 h-3"}),a==="neutral"&&y.jsx(jy,{className:"w-3 h-3"})]})]}),i.role!=="system"&&y.jsxs("div",{className:"flex items-center gap-2 mt-1 px-1",children:[y.jsx("span",{className:"text-[10px] text-slate-500",children:i.role==="user"?"Vous":"Emma IA"}),i.role==="assistant"&&y.jsx("span",{className:be("text-[9px] font-medium opacity-60",a==="positive"?"text-green-400":a==="negative"?"text-red-400":"text-slate-500"),children:a==="positive"?"Positif":a==="negative"?"Ngatif":""})]})]},i.id)})})]})};class jM{constructor(e){this.supabase=null,this.config=e,e.supabaseUrl&&e.supabaseKey&&(this.supabase=Jv(e.supabaseUrl,e.supabaseKey))}async logSession(e,i){if(!this.supabase){console.warn("Supabase not configured. Skipping log.");return}const r=e.filter(h=>h.role==="user");e.filter(h=>h.role==="assistant");const a=r.length>5?"Positive":"Neutral",l=`Session de ${Math.floor(i/60)} min avec ${e.length} changes.`,{error:c}=await this.supabase.from("chat_logs").insert({date:new Date().toISOString(),duration:`${i}s`,summary:l,sentiment:a,message_count:e.length,transcript:JSON.stringify(e)});c&&console.error("Error logging to Supabase:",c)}async getHistory(){if(!this.supabase)return[{id:"1",date:new Date(Date.now()-864e5).toISOString(),duration:"12m",summary:"Discussion sur le NASDAQ",sentiment:"Positive",messageCount:24},{id:"2",date:new Date(Date.now()-1728e5).toISOString(),duration:"5m",summary:"Question rapide sur l'inflation",sentiment:"Neutral",messageCount:8},{id:"3",date:new Date(Date.now()-2592e5).toISOString(),duration:"22m",summary:"Plainte client service",sentiment:"Critical",messageCount:45}];const{data:e,error:i}=await this.supabase.from("chat_logs").select("*").order("date",{ascending:!1}).limit(10);return i?(console.error("Error fetching history:",i),[]):e}async sendSMS(e){return!this.config.twilioAccountSid||!this.config.twilioAuthToken?(console.log("Mock SMS Sent:",e),!0):(console.log(`Calling Backend to Send SMS to ${this.config.userPhoneNumber}: ${e}`),!0)}async sendEmail(e,i){return this.config.resendApiKey?(console.log(`Calling Backend to Send Email to ${this.config.userEmail}: ${e}`),!0):(console.log("Mock Email Sent:",e),!0)}}const VM=({config:n,onSave:e,onClose:i})=>{const[r,a]=$.useState(n),[l,c]=$.useState("persona"),[h,g]=$.useState([]),[p,_]=$.useState(!1),[x,b]=$.useState("ceo"),[E,w]=$.useState(null),N=new jM(n.integrationConfig),I=new Yv(n.integrationConfig);$.useEffect(()=>{l==="history"&&(_(!0),N.getHistory().then(D=>{g(D),_(!1)}))},[l]),$.useEffect(()=>{if(l==="sections"){const D=I.getConfig(x);w(D)}},[l,x]);const P=async()=>{e(r),E&&await I.saveConfig(E),i()},k=D=>{const Y=pi.find(G=>G.id===D);Y&&a(G=>({...G,systemInstruction:Y.systemPrompt,heygenAvatarId:Y.avatarId,geminiVoice:Y.voiceName}))},A=D=>{switch(D){case"finance":return Be.professional;case"economy":return Be.professional;case"politics":return Be.professional;case"researcher":return Be.professional;default:return Be.professional}},j=({id:D,label:Y,icon:G})=>y.jsxs("button",{onClick:()=>c(D),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium transition-all whitespace-nowrap border-b-2 ${l===D?"border-blue-500 text-blue-400 bg-slate-800/80":"border-transparent text-slate-400 hover:text-slate-200 hover:bg-slate-800/30"}`,children:[y.jsx(G,{className:"w-4 h-4"}),Y]});return y.jsx("div",{className:"fixed inset-0 z-50 bg-slate-950/95 backdrop-blur-md flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-slate-900 border border-slate-700 w-full max-w-6xl h-[90vh] rounded-2xl shadow-2xl flex flex-col overflow-hidden ring-1 ring-slate-800",children:[y.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-center bg-slate-900",children:[y.jsxs("div",{children:[y.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2 tracking-tight",children:[y.jsx(E0,{className:"w-5 h-5 text-blue-500"}),"Console Administration"]}),y.jsx("p",{className:"text-slate-500 text-xs mt-1 font-mono uppercase tracking-wider",children:"Financial Grade  V2.2 Enterprise"})]}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{onClick:i,className:"px-4 py-2 text-slate-400 hover:text-white transition-colors text-sm",children:"Annuler"}),y.jsxs("button",{onClick:P,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg font-medium transition-colors shadow-lg shadow-blue-900/20 text-sm",children:[y.jsx(vN,{className:"w-4 h-4"})," Appliquer"]})]})]}),y.jsxs("div",{className:"flex border-b border-slate-800 overflow-x-auto bg-slate-900/50 custom-scrollbar",children:[y.jsx(j,{id:"persona",label:"Persona Hub",icon:Yc}),y.jsx(j,{id:"brain",label:"Cerveau (LLM)",icon:x0}),y.jsx(j,{id:"sections",label:"Configuration par Section",icon:Gy}),y.jsx(j,{id:"history",label:"Historique",icon:Oy}),y.jsx(j,{id:"integration",label:"Intgrations",icon:b0})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 space-y-8 bg-slate-900 custom-scrollbar",children:[l==="sections"&&E&&y.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[y.jsx("div",{className:"flex gap-4 mb-6 overflow-x-auto pb-2",children:["ceo","critic","finance","researcher","writer","tavus"].map(D=>y.jsx("button",{onClick:()=>b(D),className:`px-4 py-2 rounded-lg text-sm font-bold uppercase tracking-wider border transition-all ${x===D?"bg-blue-600 border-blue-500 text-white":"bg-slate-800 border-slate-700 text-slate-400 hover:bg-slate-700"}`,children:D},D))}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsxs("h3",{className:"text-white font-bold flex items-center gap-2",children:[y.jsx(Td,{className:"w-4 h-4 text-purple-400"})," Paramtres Section: ",x.toUpperCase()]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs text-slate-400 block mb-1",children:"Nom Affich"}),y.jsx("input",{value:E.name,onChange:D=>w({...E,name:D.target.value}),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-sm"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs text-slate-400 block mb-1",children:"Avatar ID (HeyGen/Tavus)"}),y.jsx("input",{value:E.avatarId,onChange:D=>w({...E,avatarId:D.target.value}),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-sm font-mono"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs text-slate-400 block mb-1",children:"Voix (Gemini/Tavus)"}),y.jsxs("select",{value:E.voiceName,onChange:D=>w({...E,voiceName:D.target.value}),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-sm",children:[w0.map(D=>y.jsx("option",{value:D,children:D},D)),y.jsx("option",{value:"natural",children:"Natural (Tavus)"})]})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"text-xs text-slate-400 block mb-1",children:["Temprature (",E.temperature,")"]}),y.jsx("input",{type:"range",min:"0",max:"2",step:"0.1",value:E.temperature,onChange:D=>w({...E,temperature:parseFloat(D.target.value)}),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-blue-500"})]})]}),y.jsxs("div",{className:"lg:col-span-2",children:[y.jsx("label",{className:"text-xs text-slate-400 block mb-2",children:"System Prompt (Spcifique  cette section)"}),y.jsx("textarea",{value:E.systemPrompt,onChange:D=>w({...E,systemPrompt:D.target.value}),className:"w-full h-96 bg-slate-950 border border-slate-700 rounded-xl p-4 text-sm font-mono text-slate-300 leading-relaxed custom-scrollbar focus:border-blue-500 outline-none",spellCheck:!1})]})]}),y.jsxs("div",{className:"bg-blue-900/20 p-4 rounded-lg border border-blue-500/30 text-xs text-blue-200 flex items-center gap-2",children:[y.jsx(E0,{className:"w-4 h-4"}),"Les modifications sauvegardes ici seront persistes dans la base de donnes Supabase (Table: section_configs)."]})]}),l==="persona"&&y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 animate-in fade-in",children:pi.map(D=>y.jsxs("div",{onClick:()=>k(D.id),className:`p-6 rounded-xl border-2 cursor-pointer transition-all hover:scale-[1.02] group relative overflow-hidden flex flex-col ${r.geminiVoice===D.voiceName?"border-blue-500 bg-blue-900/10":"border-slate-700 bg-slate-800/40 hover:border-slate-600"}`,children:[r.geminiVoice===D.voiceName&&y.jsx("div",{className:"absolute top-0 right-0 p-2 bg-blue-600 rounded-bl-xl shadow-lg",children:y.jsx(Uy,{className:"w-4 h-4 text-white"})}),y.jsxs("div",{className:"flex flex-col items-center gap-4 mb-4 text-center",children:[y.jsx("div",{className:"w-20 h-20 rounded-full border-2 border-slate-600 overflow-hidden shadow-lg group-hover:border-blue-400 transition-colors",children:y.jsx("img",{src:A(D.id),alt:D.name,className:"w-full h-full object-cover"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-white group-hover:text-blue-400 transition-colors text-lg leading-tight",children:D.name}),y.jsx("p",{className:"text-xs text-slate-400 mt-1",children:D.role})]})]}),y.jsx("div",{className:"bg-slate-950/50 p-3 rounded-lg border border-slate-800 mb-4 flex-1",children:y.jsx("p",{className:"text-xs text-slate-300 leading-relaxed",children:D.description})}),y.jsxs("div",{className:"flex items-center justify-between mt-auto pt-2 border-t border-slate-800/50 w-full",children:[y.jsxs("div",{className:"text-[10px] text-slate-500 font-mono flex items-center gap-1",children:[y.jsx(Yc,{className:"w-3 h-3"})," ",D.avatarId.split("-")[0]]}),y.jsxs("div",{className:"text-[10px] text-slate-500 font-mono flex items-center gap-1",children:[y.jsx(IN,{className:"w-3 h-3"})," ",D.voiceName]})]})]},D.id))}),l==="history"&&y.jsxs("div",{className:"animate-in fade-in space-y-4",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h3",{className:"text-lg font-medium text-white",children:"Historique des Sessions"}),p&&y.jsx("div",{className:"text-xs text-blue-400 animate-pulse",children:"Chargement..."})]}),y.jsx("div",{className:"bg-slate-800/40 rounded-xl border border-slate-700 overflow-hidden",children:y.jsxs("table",{className:"w-full text-left text-sm text-slate-300",children:[y.jsx("thead",{className:"bg-slate-900/50 text-slate-400 font-medium uppercase text-xs",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-3",children:"Date"}),y.jsx("th",{className:"px-6 py-3",children:"Dure"}),y.jsx("th",{className:"px-6 py-3",children:"Rsum"}),y.jsx("th",{className:"px-6 py-3",children:"Sentiment"}),y.jsx("th",{className:"px-6 py-3",children:"Messages"})]})}),y.jsx("tbody",{className:"divide-y divide-slate-700/50",children:h.map(D=>y.jsxs("tr",{className:"hover:bg-slate-700/20 transition-colors",children:[y.jsx("td",{className:"px-6 py-4 font-mono text-xs text-slate-500",children:new Date(D.date).toLocaleDateString()}),y.jsx("td",{className:"px-6 py-4",children:D.duration}),y.jsx("td",{className:"px-6 py-4 max-w-xs truncate",children:D.summary}),y.jsx("td",{className:"px-6 py-4",children:y.jsx("span",{className:`px-2 py-1 rounded-full text-[10px] font-bold ${D.sentiment==="Positive"?"bg-green-500/20 text-green-400":D.sentiment==="Critical"?"bg-red-500/20 text-red-400":"bg-slate-500/20 text-slate-400"}`,children:D.sentiment})}),y.jsx("td",{className:"px-6 py-4",children:D.messageCount})]},D.id))})]})})]}),l==="integration"&&y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 animate-in fade-in",children:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("h3",{className:"text-white font-medium flex items-center gap-2",children:[y.jsx(b0,{className:"w-4 h-4 text-green-500"})," Supabase (Database)"]}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("input",{type:"text",placeholder:"Supabase URL",value:r.integrationConfig.supabaseUrl,onChange:D=>a({...r,integrationConfig:{...r.integrationConfig,supabaseUrl:D.target.value}}),className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-4 py-2 text-sm focus:border-green-500 outline-none"}),y.jsx("input",{type:"password",placeholder:"Supabase Anon Key",value:r.integrationConfig.supabaseKey,onChange:D=>a({...r,integrationConfig:{...r.integrationConfig,supabaseKey:D.target.value}}),className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-4 py-2 text-sm focus:border-green-500 outline-none"})]})]})}),l==="brain"&&y.jsx("div",{className:"space-y-6 animate-in fade-in",children:y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[y.jsx("div",{className:"space-y-6",children:y.jsxs("div",{className:"bg-slate-800/40 p-5 rounded-xl border border-slate-700",children:[y.jsxs("h3",{className:"text-sm font-semibold text-slate-300 uppercase tracking-wider mb-4 flex items-center gap-2",children:[y.jsx(bd,{className:"w-4 h-4"})," Modle & Crativit"]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-2",children:"Modle Actif"}),y.jsxs("select",{value:r.llmModel,onChange:D=>a({...r,llmModel:D.target.value}),className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-3 py-2 text-sm focus:border-blue-500 outline-none text-white",children:[y.jsx("option",{value:Vs,children:"Gemini 2.5 Flash"}),y.jsx("option",{value:Jy,children:"Gemini 2.0 Pro"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-2",children:"Voix Gemini"}),y.jsx("select",{value:r.geminiVoice,onChange:D=>a({...r,geminiVoice:D.target.value}),className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-3 py-2 text-sm focus:border-blue-500 outline-none text-white",children:w0.map(D=>y.jsx("option",{value:D,children:D},D))})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"block text-xs font-medium text-slate-400 mb-2 flex justify-between",children:[y.jsx("span",{children:"Temprature"}),y.jsx("span",{className:"text-blue-400 font-mono",children:r.llmTemperature})]}),y.jsx("input",{type:"range",min:"0",max:"2",step:"0.1",value:r.llmTemperature,onChange:D=>a({...r,llmTemperature:parseFloat(D.target.value)}),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-blue-500"})]})]})]})}),y.jsxs("div",{className:"lg:col-span-2 bg-slate-800/40 p-5 rounded-xl border border-slate-700 flex flex-col h-full",children:[y.jsxs("h3",{className:"text-sm font-semibold text-slate-300 uppercase tracking-wider mb-4 flex items-center gap-2",children:[y.jsx(x0,{className:"w-4 h-4"})," System Instructions (Dfaut)"]}),y.jsx("textarea",{value:r.systemInstruction,onChange:D=>a({...r,systemInstruction:D.target.value}),className:"flex-1 w-full bg-slate-950/50 border border-slate-700 rounded-lg p-4 text-sm font-mono text-slate-300 focus:border-blue-500 outline-none resize-none leading-relaxed",spellCheck:!1})]})]})})]})]})})},Wv=({personalityData:n,contextItems:e,isLoading:i})=>{const[r,a]=$.useState("context"),l=$.useRef(null);$.useEffect(()=>{r==="context"&&l.current&&(l.current.scrollTop=0)},[e,r]);const c=p=>p<30?"text-green-400 bg-green-500/20 border-green-500/30":p<60?"text-blue-400 bg-blue-500/20 border-blue-500/30":p<80?"text-orange-400 bg-orange-500/20 border-orange-500/30":"text-red-400 bg-red-500/20 border-red-500/30",h=p=>{if(!p)return"bg-slate-700 text-slate-300";const _=p.toLowerCase();return _.includes("tech")||_.includes("ai")?"bg-blue-600/20 text-blue-300 border-blue-500/30":_.includes("ner")||_.includes("oil")?"bg-yellow-600/20 text-yellow-300 border-yellow-500/30":_.includes("bourse")||_.includes("fi")?"bg-green-600/20 text-green-300 border-green-500/30":_.includes("pol")||_.includes("go")?"bg-red-600/20 text-red-300 border-red-500/30":_.includes("cryp")?"bg-purple-600/20 text-purple-300 border-purple-500/30":"bg-slate-700 text-slate-300"},g=({status:p})=>{if(!p)return null;const _=p.toLowerCase().includes("vrifi")||p.toLowerCase().includes("interne");return y.jsxs("div",{className:be("flex items-center gap-1 text-[9px] font-bold px-1.5 py-0.5 rounded border uppercase tracking-wider",_?"bg-green-500/10 text-green-400 border-green-500/30":"bg-yellow-500/10 text-yellow-400 border-yellow-500/30"),children:[_?y.jsx(zy,{className:"w-3 h-3"}):y.jsx(Xa,{className:"w-3 h-3"}),p]})};return y.jsxs("div",{className:"w-full h-full flex flex-col shadow-2xl animate-in slide-in-from-right duration-500 z-40 bg-transparent",children:[y.jsxs("div",{className:"flex border-b border-slate-800 bg-slate-950/80",children:[y.jsxs("button",{onClick:()=>a("context"),className:be("flex-1 py-4 text-xs font-bold uppercase tracking-wider flex items-center justify-center gap-2 transition-all",r==="context"?"text-blue-400 border-b-2 border-blue-500 bg-blue-500/10":"text-slate-500 hover:text-slate-300"),children:[y.jsx(Vy,{className:"w-4 h-4"})," Flux Live"]}),y.jsxs("button",{onClick:()=>a("psych"),className:be("flex-1 py-4 text-xs font-bold uppercase tracking-wider flex items-center justify-center gap-2 transition-all",r==="psych"?"text-purple-400 border-b-2 border-purple-500 bg-purple-500/10":"text-slate-500 hover:text-slate-300"),children:[y.jsx(Ya,{className:"w-4 h-4"})," Perception"]})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6 custom-scrollbar",ref:l,children:[r==="context"&&y.jsxs("div",{className:"space-y-4",children:[e.length===0&&y.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-slate-600 opacity-60",children:[y.jsx(_d,{className:"w-12 h-12 mb-3 animate-pulse"}),y.jsx("p",{className:"text-xs font-mono uppercase",children:"En attente de donnes..."}),y.jsx("p",{className:"text-[10px] mt-1",children:"L'IA scanne le contexte en temps rel"})]}),e.map((p,_)=>{var b;let x=((b=p.metadata)==null?void 0:b.verificationStatus)||"Estimation";return y.jsxs("div",{className:be("bg-slate-800/40 rounded-xl border overflow-hidden animate-in fade-in slide-in-from-right duration-500 transition-all hover:border-slate-500/50 group",_===0?"border-blue-500/50 shadow-lg shadow-blue-900/10 ring-1 ring-blue-500/20":"border-slate-700/50 opacity-80"),children:[y.jsxs("div",{className:"px-3 py-2 bg-slate-900/40 border-b border-slate-700/50 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:be("w-1.5 h-1.5 rounded-full",_===0?"bg-blue-400 animate-pulse":"bg-slate-600")}),y.jsx("span",{className:be("text-[10px] font-bold px-2 py-0.5 rounded uppercase",p.type==="news"?"text-red-300":p.type==="chart"?"text-green-300":"text-blue-300"),children:p.type})]}),y.jsx("span",{className:"text-[9px] text-slate-500 font-mono",children:p.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})})]}),y.jsxs("div",{className:"p-3",children:[y.jsx("h4",{className:"text-sm font-medium text-slate-100 mb-2 leading-tight",children:p.title}),y.jsxs("div",{className:"flex items-center gap-2 mb-3 flex-wrap",children:[p.topic&&y.jsxs("div",{className:be("text-[9px] font-bold px-1.5 py-0.5 rounded border uppercase tracking-wider flex items-center gap-1",h(p.topic)),children:[y.jsx(PN,{className:"w-2.5 h-2.5"})," ",p.topic]}),y.jsx(g,{status:x})]}),p.type==="chart"&&y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"h-24 w-full flex items-end justify-between gap-1 px-1 border-b border-l border-slate-700/50",children:[35,50,45,70,60,85,80,95].map((E,w)=>y.jsxs("div",{className:"flex-1 bg-green-500/20 group-hover:bg-green-500/40 transition-all rounded-t-sm relative group/bar",children:[y.jsx("div",{className:"absolute bottom-0 w-full bg-green-500/50 h-0 transition-all duration-1000 group-hover/bar:h-full",style:{height:`${E}%`}}),y.jsx("div",{className:"w-full h-full bg-green-500/20",style:{height:`${E}%`}})]},w))}),y.jsxs("div",{className:"text-[9px] text-slate-500 mt-1 flex justify-between",children:[y.jsx("span",{children:"OPEN"}),y.jsx("span",{children:"CLOSE"})]})]}),p.type==="news"&&y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsx("p",{className:"text-xs text-slate-300 leading-relaxed line-clamp-4",children:p.content}),p.url&&y.jsxs("a",{href:p.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 mt-2 pt-2 border-t border-slate-700/50 text-blue-400 hover:text-blue-300 transition-all group/link bg-slate-800/30 hover:bg-slate-800/60 p-2 rounded-lg",children:[y.jsx("div",{className:"bg-blue-500/10 p-1.5 rounded-md group-hover/link:bg-blue-500/20 transition-colors",children:y.jsx(B1,{className:"w-3.5 h-3.5"})}),y.jsxs("div",{className:"flex flex-col overflow-hidden",children:[y.jsx("span",{className:"text-[9px] font-bold uppercase tracking-wider text-slate-500 group-hover/link:text-blue-400 transition-colors",children:"Source Externe"}),y.jsx("span",{className:"text-[10px] truncate w-full opacity-70 group-hover/link:opacity-100 font-mono",children:p.url})]})]})]}),p.type==="citation"&&y.jsxs("div",{className:"flex gap-3 bg-slate-900/30 p-2 rounded border border-slate-700/30",children:[y.jsx(mN,{className:"w-4 h-4 text-slate-600 shrink-0"}),y.jsxs("p",{className:"text-xs text-slate-300 italic font-serif",children:['"',p.content,'"']})]})]})]},p.id)})]}),r==="psych"&&n&&y.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[y.jsxs("div",{className:"bg-slate-800/40 rounded-xl p-4 border border-slate-700/50",children:[y.jsx("div",{className:"text-[10px] text-slate-500 uppercase mb-2 font-bold tracking-wider",children:"Analyse Psychomtrique"}),y.jsxs("p",{className:"text-sm text-slate-300 italic",children:['"',n.summary,'"']})]}),y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mb-1",children:[y.jsx("span",{children:"Aversion au risque"}),y.jsxs("span",{className:c(n.riskScore).split(" ")[0],children:[n.riskScore,"/100"]})]}),y.jsx("div",{className:"h-1.5 bg-slate-800 rounded-full overflow-hidden",children:y.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-red-500",style:{width:`${n.riskScore}%`}})})]}),y.jsx("div",{className:"grid grid-cols-1 gap-2",children:n.keyTraits.map(p=>y.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-300 bg-slate-800/30 px-3 py-2 rounded border border-slate-700/30",children:[y.jsx(zN,{className:"w-3 h-3 text-purple-400"})," ",p]},p))})]})]})]})},HM=({state:n,temperature:e,latencyMs:i,isSpeaking:r})=>{const a=n===et.CONNECTED;return y.jsxs("div",{className:"flex items-center gap-3 bg-slate-900/80 backdrop-blur border border-slate-700/50 rounded-full px-4 py-1.5 shadow-lg",children:[y.jsxs("div",{className:"flex items-center gap-2 pr-3 border-r border-slate-700/50",children:[y.jsx("div",{className:be("w-2 h-2 rounded-full",a?r?"bg-green-500 animate-pulse":"bg-blue-500":"bg-slate-500")}),y.jsx("span",{className:"text-[10px] font-bold text-slate-300 uppercase tracking-wide",children:a?r?"SPEAKING":"LISTENING":"OFFLINE"})]}),y.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-slate-400 font-mono",children:[y.jsx(QN,{className:"w-3 h-3"}),a?`${i}ms`:"--"]}),y.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-slate-400 font-mono pl-2",children:[y.jsx(LN,{className:"w-3 h-3 text-orange-400"}),e.toFixed(1)]})]})},ty={TrendingUp:Qa,Newspaper:oN,ShieldAlert:AN,Mail:Ed,Zap:Hi,Briefcase:Dy,Search:La,Smile:DN},zM=({actions:n,onAction:e,onUpdateActions:i})=>{const[r,a]=$.useState("main"),[l,c]=$.useState(!1),h=_=>{i(n.filter(x=>x.id!==_))},g=_=>{const x={..._,id:Date.now().toString()};i([...n,x]),c(!1)},p=()=>{const _=prompt("Entrez la commande  envoyer  l'IA :");if(!_)return;const x=prompt("Nom du bouton (Court) :")||"Custom",b={id:Date.now().toString(),label:x,command:_,icon:"Zap"};i([...n,b]),c(!1)};return r==="email"?y.jsxs("div",{className:"flex gap-2 w-full max-w-2xl px-4 mb-2 animate-in slide-in-from-bottom-2 fade-in duration-300",children:[y.jsx("button",{onClick:()=>a("main"),className:"p-3 rounded-xl bg-slate-800/80 border border-slate-700 hover:bg-slate-700 text-slate-300 transition-colors",title:"Retour",children:y.jsx(On,{className:"w-4 h-4"})}),y.jsxs("button",{onClick:()=>{e("OPEN_EMAIL_MODAL"),a("main")},className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-blue-600/20 hover:bg-blue-600/30 border border-blue-500/50 text-blue-300 rounded-xl transition-all text-sm font-medium shadow-lg hover:shadow-blue-900/20",children:[y.jsx(Ed,{className:"w-4 h-4"})," Rsum de Courriel"]}),y.jsxs("button",{onClick:()=>{e("Je voudrais que tu m'aides  rdiger une rponse  un courriel professionnel. Pose-moi des questions sur le contexte et le destinataire."),a("main")},className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-purple-600/20 hover:bg-purple-600/30 border border-purple-500/50 text-purple-300 rounded-xl transition-all text-sm font-medium shadow-lg hover:shadow-purple-900/20",children:[y.jsx(Dy,{className:"w-4 h-4"})," Rdiger Rponse"]})]}):r==="config"?y.jsx("div",{className:"w-full max-w-2xl px-4 animate-in fade-in zoom-in-95 duration-300",children:y.jsxs("div",{className:"bg-slate-900/90 border border-slate-700 rounded-2xl p-4 shadow-2xl backdrop-blur-md",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4 pb-2 border-b border-slate-700",children:[y.jsxs("h3",{className:"text-sm font-bold text-white flex items-center gap-2",children:[y.jsx(Jc,{className:"w-4 h-4 text-blue-400"})," Personnaliser les Actions"]}),y.jsx("button",{onClick:()=>a("main"),className:"text-xs bg-slate-800 px-3 py-1 rounded-full text-slate-300 hover:bg-slate-700",children:"Terminer"})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[n.map(_=>{const x=ty[_.icon]||Hi;return y.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-800 rounded-lg border border-slate-700 group",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(x,{className:"w-4 h-4 text-slate-400"}),y.jsx("span",{className:"text-xs text-slate-200",children:_.label})]}),y.jsx("button",{onClick:()=>h(_.id),className:"p-1 hover:bg-red-500/20 rounded text-slate-500 hover:text-red-400 transition-colors",children:y.jsx(GN,{className:"w-3.5 h-3.5"})})]},_.id)}),n.length<4&&y.jsxs("button",{onClick:()=>c(!0),className:"flex items-center justify-center gap-2 p-2 border border-dashed border-slate-600 rounded-lg text-xs text-slate-400 hover:text-blue-400 hover:border-blue-500/50 transition-colors",children:[y.jsx(hN,{className:"w-4 h-4"})," Ajouter"]})]}),l&&y.jsxs("div",{className:"bg-slate-950 p-3 rounded-xl border border-slate-800 animate-in slide-in-from-top-2",children:[y.jsx("div",{className:"text-[10px] text-slate-500 uppercase font-bold mb-2",children:"Choisir un Preset"}),y.jsx("div",{className:"grid grid-cols-2 gap-2 mb-3",children:a2.map(_=>y.jsx("button",{onClick:()=>g(_),className:"text-left text-xs p-2 bg-slate-900 hover:bg-slate-800 rounded border border-slate-800 text-slate-300",children:_.label},_.id))}),y.jsx("button",{onClick:p,className:"w-full py-2 bg-blue-600/20 text-blue-300 border border-blue-500/30 rounded text-xs font-medium hover:bg-blue-600/30",children:"+ Crer commande personnalise"})]})]})}):y.jsxs("div",{className:"flex gap-3 w-full max-w-2xl px-4 animate-in slide-in-from-bottom-4 fade-in duration-500",children:[y.jsx("div",{className:"grid grid-cols-4 gap-3 flex-1",children:n.map(_=>{const x=ty[_.icon]||Hi;return y.jsxs("button",{onClick:()=>{_.command==="OPEN_EMAIL_MODAL"?a("email"):e(_.command)},className:be("flex items-center justify-center gap-2 px-2 py-3 border rounded-xl transition-all text-xs font-medium backdrop-blur-sm shadow-sm hover:shadow-md",_.isSystem?"bg-gradient-to-r from-slate-800 to-slate-700 hover:from-slate-700 hover:to-slate-600 border-slate-600 text-white":"bg-slate-800/60 hover:bg-slate-700 border-slate-700 text-slate-300"),children:[y.jsx(x,{className:be("w-3.5 h-3.5",_.label==="Marchs"?"text-green-400":_.label==="Actualits"?"text-blue-400":_.label==="Risques"?"text-orange-400":"text-slate-200")}),y.jsx("span",{className:"truncate",children:_.label})]},_.id)})}),y.jsx("button",{onClick:()=>a("config"),className:"p-3 bg-slate-900/50 hover:bg-slate-800 border border-slate-800 hover:border-slate-600 rounded-xl text-slate-500 hover:text-white transition-colors",title:"Configurer les boutons",children:y.jsx(Jc,{className:"w-4 h-4"})})]})},$M=({onClose:n,onProcess:e})=>{const[i,r]=$.useState(""),a=l=>{l.preventDefault(),i.trim()&&e(i)};return y.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:y.jsxs("div",{className:"w-full max-w-2xl bg-slate-900 border border-slate-700 rounded-2xl shadow-2xl overflow-hidden ring-1 ring-slate-800 animate-in zoom-in-95 duration-200",children:[y.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-800 bg-slate-900/50",children:[y.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[y.jsx(Ly,{className:"w-5 h-5 text-blue-500"}),"Analyse de Courriel / Document"]}),y.jsx("button",{onClick:n,className:"p-2 text-slate-400 hover:text-white rounded-full hover:bg-slate-800 transition-colors",children:y.jsx(wd,{className:"w-5 h-5"})})]}),y.jsxs("form",{onSubmit:a,className:"p-6 space-y-4",children:[y.jsx("p",{className:"text-sm text-slate-400",children:"Collez le contenu du courriel ou du document ci-dessous. Chlo l'analysera, en fera un rsum et proposera des actions."}),y.jsx("textarea",{value:i,onChange:l=>r(l.target.value),placeholder:"Collez le texte ici...",className:"w-full h-64 bg-slate-950 border border-slate-700 rounded-xl p-4 text-sm text-slate-300 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none resize-none font-mono leading-relaxed custom-scrollbar",autoFocus:!0}),y.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[y.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium text-slate-400 hover:text-white transition-colors",children:"Annuler"}),y.jsxs("button",{type:"submit",disabled:!i.trim(),className:"flex items-center gap-2 px-6 py-2 bg-blue-600 hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg font-medium transition-colors shadow-lg shadow-blue-900/20",children:[y.jsx(Ys,{className:"w-4 h-4"})," Analyser"]})]})]})]})})},FM=({startTime:n,stats:e})=>{const[i,r]=$.useState("00:00");return $.useEffect(()=>{if(!n)return;const a=setInterval(()=>{const c=Math.floor((new Date().getTime()-n.getTime())/1e3),h=Math.floor(c/60).toString().padStart(2,"0"),g=(c%60).toString().padStart(2,"0");r(`${h}:${g}`)},1e3);return()=>clearInterval(a)},[n]),n?y.jsxs("div",{className:"flex items-center gap-4 bg-slate-900/80 backdrop-blur border border-slate-700/50 rounded-full px-4 py-1.5 shadow-lg",children:[y.jsxs("div",{className:"flex items-center gap-2 border-r border-slate-700/50 pr-4",children:[y.jsx(Oy,{className:"w-3 h-3 text-slate-400"}),y.jsx("span",{className:"text-xs font-mono text-slate-200",children:i})]}),y.jsxs("div",{className:"flex items-center gap-3 text-[10px] font-mono",children:[y.jsxs("div",{className:"flex items-center gap-1 text-blue-300",children:[y.jsx(JN,{className:"w-3 h-3"}),y.jsxs("span",{children:["MOI: ",e.userTime,"s"]})]}),y.jsxs("div",{className:"flex items-center gap-1 text-purple-300",children:[y.jsx(Ka,{className:"w-3 h-3"}),y.jsxs("span",{children:["IA: ",Object.values(e.aiTime).reduce((a,l)=>a+l,0),"s"]})]})]})]}):null},JM=({suggestions:n,onSelect:e})=>n.length===0?null:y.jsx("div",{className:"w-full max-w-2xl px-4 flex gap-3 overflow-x-auto pb-2 animate-in slide-in-from-bottom-4 fade-in duration-700 custom-scrollbar",children:n.map(i=>y.jsxs("button",{onClick:()=>e(i),className:"flex-shrink-0 bg-slate-800/80 hover:bg-slate-700 border border-slate-600/50 hover:border-blue-500/50 rounded-xl p-3 flex flex-col gap-2 w-64 text-left transition-all group backdrop-blur-sm shadow-lg",children:[y.jsxs("div",{className:"flex items-center justify-between w-full",children:[y.jsx("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded uppercase tracking-wider ${i.type==="news"?"bg-red-500/20 text-red-300":"bg-yellow-500/20 text-yellow-300"}`,children:i.category}),y.jsx(Iy,{className:"w-3 h-3 text-slate-500 group-hover:text-blue-400 -translate-x-2 group-hover:translate-x-0 transition-transform opacity-0 group-hover:opacity-100"})]}),y.jsx("p",{className:"text-xs text-slate-200 font-medium leading-relaxed line-clamp-2",children:i.text})]},i.id))}),e_=({onClose:n})=>{Cc.find(r=>r.type==="core");const e=Cc.filter(r=>r.type==="avatar"),i=Cc.filter(r=>r.type==="tool");return y.jsxs("div",{className:"fixed inset-0 z-[60] bg-slate-950/95 backdrop-blur-xl flex items-center justify-center p-4 overflow-hidden",children:[y.jsx("button",{onClick:n,className:"absolute top-6 right-6 text-slate-400 hover:text-white transition-colors",children:"Fermer"}),y.jsxs("div",{className:"w-full max-w-7xl h-full flex flex-col items-center justify-center relative",children:[y.jsxs("h2",{className:"text-3xl font-black text-white mb-10 tracking-tighter uppercase flex items-center gap-3",children:[y.jsx(Ya,{className:"w-8 h-8 text-blue-500"})," Architecture Neurale Chlo.AI"]}),y.jsxs("div",{className:"relative w-full h-[600px] flex items-center justify-center",children:[y.jsxs("div",{className:"absolute z-20 w-48 h-48 bg-blue-600 rounded-full flex flex-col items-center justify-center shadow-[0_0_60px_rgba(37,99,235,0.4)] animate-pulse-slow border-4 border-blue-400/30",children:[y.jsx("span",{className:"text-4xl mb-2",children:""}),y.jsx("span",{className:"font-bold text-white text-lg",children:"GEMINI 2.5"}),y.jsx("span",{className:"text-xs text-blue-200 uppercase tracking-widest mt-1",children:"Cerveau Central"})]}),e.map((r,a)=>{const l=a/e.length*Math.PI*2,c=280,h=Math.cos(l)*c,g=Math.sin(l)*c;return y.jsxs("div",{className:"absolute flex flex-col items-center group cursor-pointer hover:scale-110 transition-transform duration-300 z-10",style:{transform:`translate(${h}px, ${g}px)`},children:[y.jsx("div",{className:`w-20 h-20 rounded-2xl ${r.color} flex items-center justify-center shadow-lg mb-2 text-2xl`,children:""}),y.jsx("div",{className:"bg-slate-900/80 px-3 py-1 rounded text-xs font-bold text-white border border-slate-700 whitespace-nowrap",children:r.label}),y.jsx("div",{className:"absolute w-1 h-[200px] bg-gradient-to-t from-transparent to-blue-500/20 -z-10 bottom-10 origin-bottom",style:{transform:`rotate(${l+Math.PI/2}rad)`}})]},r.id)}),y.jsx("div",{className:"absolute bottom-0 flex gap-6",children:i.map(r=>y.jsxs("div",{className:"flex flex-col items-center opacity-80 hover:opacity-100 transition-opacity",children:[y.jsx("div",{className:`w-12 h-12 rounded-lg ${r.color} flex items-center justify-center mb-2 shadow-md`,children:""}),y.jsx("span",{className:"text-[10px] uppercase font-bold text-slate-400",children:r.label})]},r.id))})]}),y.jsxs("div",{className:"absolute bottom-10 flex items-center gap-2 text-xs text-slate-500",children:[y.jsx(qy,{className:"w-4 h-4"}),y.jsx("span",{children:"Tous les modules sont connects au Core via l'API Live bidirectionnelle."})]})]})]})},YM=({onSelect:n,onOpenDevGuide:e,onOpenGallery:i,customImages:r})=>{const[a,l]=ny.useState(!1),c=({mode:h,title:g,desc:p,icon:_,image:x,delay:b,filterClass:E})=>y.jsxs("button",{onClick:()=>n(h),className:be("group relative h-80 rounded-3xl overflow-hidden transition-all duration-500 hover:scale-[1.02] shadow-2xl border border-white/10 hover:border-white/30",b),children:[y.jsxs("div",{className:"absolute inset-0",children:[y.jsx("img",{src:x,alt:g,className:be("w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",E)}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-950 via-slate-950/60 to-transparent opacity-90 group-hover:opacity-80 transition-opacity"})]}),y.jsxs("div",{className:"absolute inset-0 p-6 flex flex-col justify-end items-start text-left z-10",children:[y.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white/10 backdrop-blur-md flex items-center justify-center mb-4 border border-white/10 group-hover:bg-blue-600 group-hover:border-blue-500 transition-colors",children:y.jsx(_,{className:"w-6 h-6 text-white"})}),y.jsx("h3",{className:"text-2xl font-bold text-white mb-2 leading-tight group-hover:text-blue-200 transition-colors",children:g}),y.jsx("p",{className:"text-sm text-slate-300 line-clamp-2 opacity-80 group-hover:opacity-100 mb-4 font-light",children:p}),y.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold uppercase tracking-widest text-blue-400 opacity-0 group-hover:opacity-100 transform translate-y-4 group-hover:translate-y-0 transition-all duration-300",children:["Commencer ",y.jsx(Iy,{className:"w-3 h-3"})]})]})]});return y.jsxs("div",{className:"min-h-screen relative flex flex-col p-4 md:p-8 overflow-y-auto custom-scrollbar",children:[a&&y.jsx(e_,{onClose:()=>l(!1)}),y.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-center mb-12 animate-in fade-in slide-in-from-top-10 duration-1000 mt-8 max-w-7xl mx-auto w-full",children:[y.jsxs("div",{className:"text-center md:text-left mb-6 md:mb-0",children:[y.jsx("h1",{className:"text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-gradient-to-r from-white via-blue-200 to-slate-400 mb-2 tracking-tighter",children:"Emma IA"}),y.jsx("p",{className:"text-lg text-blue-200/60 font-light max-w-xl",children:"Plateforme d'Intelligence Financire Multimodale"})]}),y.jsxs("div",{className:"flex gap-4",children:[y.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-5 py-3 rounded-full bg-white/5 hover:bg-white/10 border border-white/10 backdrop-blur-md transition-all hover:scale-105 group",children:[y.jsx(Gn,{className:"w-5 h-5 text-blue-400 group-hover:scale-110 transition-transform"}),y.jsx("span",{className:"text-sm font-medium text-slate-200",children:"Galerie"})]}),y.jsxs("button",{onClick:e,className:"flex items-center gap-2 px-5 py-3 rounded-full bg-white/5 hover:bg-white/10 border border-white/10 backdrop-blur-md transition-all hover:scale-105 group",children:[y.jsx(ky,{className:"w-5 h-5 text-purple-400 group-hover:scale-110 transition-transform"}),y.jsx("span",{className:"text-sm font-medium text-slate-200",children:"Guide"})]}),y.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-5 py-3 rounded-full bg-white/5 hover:bg-white/10 border border-white/10 backdrop-blur-md transition-all hover:scale-105 group",children:[y.jsx(Ya,{className:"w-5 h-5 text-blue-400 group-hover:rotate-180 transition-transform duration-700"}),y.jsx("span",{className:"text-sm font-medium text-slate-200",children:"Architecture"})]})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 w-full max-w-7xl mx-auto pb-12",children:[y.jsx(c,{mode:"text-chat",title:"Chat Expert",desc:"Analyse textuelle profonde avec Gemini 2.0 Pro.",icon:By,image:r.finance||Be.professional,delay:"animate-in fade-in slide-in-from-bottom-4 duration-700",filterClass:"grayscale group-hover:grayscale-0"}),y.jsx(c,{mode:"avatar-hybrid",title:"Live Vocal",desc:"Communication vocale avec HeyGen & Akool.",icon:nN,image:r.finance||Be.natural,delay:"animate-in fade-in slide-in-from-bottom-4 duration-700 delay-100",filterClass:"grayscale-0"}),y.jsx(c,{mode:"tavus-video",title:"Emma Naturelle",desc:"Vido native bidirectionnelle. Empathie maximale.",icon:Fy,image:r.tavus||Be.natural,delay:"animate-in fade-in slide-in-from-bottom-4 duration-700 delay-200",filterClass:"grayscale-0 contrast-110"}),y.jsx(c,{mode:"ceo-mode",title:"CEO Simulator",desc:"Simulez une rencontre avec un dirigeant d'entreprise.",icon:xd,image:r.ceo||Be.professional,delay:"animate-in fade-in slide-in-from-bottom-4 duration-700 delay-300",filterClass:"grayscale group-hover:grayscale-0"}),y.jsx(c,{mode:"researcher",title:"Recherchiste",desc:"Veille stratgique 24/7 et alertes marchs.",icon:Sd,image:r.researcher||Be.professional,delay:"animate-in fade-in slide-in-from-bottom-4 duration-700 delay-400",filterClass:"sepia-[.3] group-hover:sepia-0"}),y.jsx(c,{mode:"letter-writer",title:"Rdactrice",desc:"Cration collaborative de documents financiers.",icon:Ly,image:r.writer||Be.professional,delay:"animate-in fade-in slide-in-from-bottom-4 duration-700 delay-500",filterClass:"grayscale contrast-125"}),y.jsx(c,{mode:"critic-mode",title:"L'Avocat du Diable",desc:"Challengez vos ides avec une critique impitoyable.",icon:Hy,image:r.critic||Be.professional,delay:"animate-in fade-in slide-in-from-bottom-4 duration-700 delay-600",filterClass:"grayscale contrast-150 brightness-75"}),y.jsx(c,{mode:"technical-analyst",title:"Emma Geek",desc:"Analyse technique pure. RSI, MACD, Patterns.",icon:_d,image:r.geek||Be.geek,delay:"animate-in fade-in slide-in-from-bottom-4 duration-700 delay-700",filterClass:"grayscale-0"})]}),y.jsx("div",{className:"mt-auto text-center pb-6 opacity-40",children:y.jsx("p",{className:"text-[10px] uppercase tracking-widest font-mono",children:"Propuls par JSLAI partout"})})]})},t_=({activeId:n,onSelect:e,className:i})=>y.jsx("div",{className:be("flex gap-4 overflow-x-auto pb-2 custom-scrollbar",i),children:pi.map(r=>{const a=n===r.id;return y.jsxs("button",{onClick:()=>e(r.id),className:be("group flex flex-col items-center gap-2 min-w-[80px] transition-all",a?"scale-105 opacity-100":"opacity-60 hover:opacity-90 hover:scale-105"),children:[y.jsxs("div",{className:be("w-12 h-12 rounded-full p-0.5 transition-all shadow-lg overflow-hidden relative",a?"bg-gradient-to-tr from-blue-500 to-purple-500 ring-2 ring-blue-400 ring-offset-2 ring-offset-slate-900":"bg-slate-700 border border-slate-600"),children:[y.jsx("img",{src:r.image,alt:r.name,className:be("w-full h-full object-cover rounded-full",!a&&"grayscale")}),a&&y.jsx("div",{className:"absolute inset-0 bg-blue-500/10 animate-pulse rounded-full"})]}),y.jsx("div",{className:"flex flex-col items-center",children:y.jsx("span",{className:be("text-[10px] font-bold uppercase tracking-wider text-center leading-tight max-w-[90px]",a?"text-blue-300":"text-slate-500 group-hover:text-slate-300"),children:r.name.replace("Emma IA  ","")})})]},r.id)})}),KM=({onBack:n,avatarImage:e,onOpenGallery:i})=>{const[r,a]=$.useState([]),[l,c]=$.useState(""),[h,g]=$.useState(!1),[p,_]=$.useState(e2),[x,b]=$.useState([]),[E,w]=$.useState(!1),[N,I]=$.useState("finance"),P=$.useRef(null);$.useEffect(()=>{},[]);const k=G=>{I(G),a(W=>{var K;return[...W,{id:Date.now().toString(),role:"system",text:`Changement de profil : ${(K=pi.find(te=>te.id===G))==null?void 0:K.name}`,timestamp:new Date}]})},A=async(G=l)=>{if(!G.trim()||!P.current)return;c(""),g(!0);const W={id:Date.now().toString(),role:"user",text:G,timestamp:new Date};a(ue=>[...ue,W]);const K=pi.find(ue=>ue.id===N),te=K?K.systemPrompt:ji;try{const{response:ue,contextItems:oe}=await P.current.sendMessage(G,p,te);a(ve=>[...ve,{id:Date.now().toString(),role:"assistant",text:ue,timestamp:new Date}]),oe.length>0&&b(ve=>[...oe,...ve])}catch(ue){console.error(ue),a(oe=>[...oe,{id:Date.now().toString(),role:"system",text:"Erreur de communication avec le modle.",timestamp:new Date}])}finally{g(!1)}},j=js.find(G=>G.id===p)||js[0],D=pi.find(G=>G.id===N)||pi[0],Y=Ks.finance;return y.jsxs("div",{className:"flex h-screen bg-slate-950 text-white overflow-hidden",children:[y.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col border-r border-slate-800 bg-slate-900/80 backdrop-blur-xl",children:[y.jsxs("div",{className:"p-4 border-b border-slate-800 bg-slate-900 relative z-50 flex flex-col gap-4 shadow-xl",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("button",{onClick:n,className:"p-2 hover:bg-slate-800 rounded-full transition-colors",children:y.jsx(On,{className:"w-5 h-5 text-slate-400"})}),y.jsxs("div",{children:[y.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[y.jsx(By,{className:"w-5 h-5 text-blue-500"}),"Chat Expert"]}),y.jsx("p",{className:"text-[10px] text-slate-500 uppercase",children:"Mode Textuel"})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{className:"p-2 bg-slate-800 hover:bg-slate-700 rounded-lg border border-slate-700 transition-colors",title:"Paramtres",children:y.jsx(Td,{className:"w-4 h-4 text-slate-400"})}),i&&y.jsx("button",{onClick:i,className:"p-2 bg-slate-800 hover:bg-slate-700 rounded-lg border border-slate-700 transition-colors",children:y.jsx(Gn,{className:"w-4 h-4 text-slate-400"})}),y.jsxs("div",{className:"relative",children:[y.jsxs("button",{onClick:()=>w(!E),className:"flex items-center gap-2 bg-slate-800 hover:bg-slate-700 px-3 py-2 rounded-lg border border-slate-700 transition-colors",children:[y.jsx(bd,{className:"w-4 h-4 text-purple-400"}),y.jsx("span",{className:"text-xs font-bold text-slate-200",children:j.name})]}),E&&y.jsx("div",{className:"absolute top-full right-0 mt-2 w-72 bg-slate-900 border border-slate-700 rounded-xl shadow-2xl overflow-hidden z-[60]",children:js.filter(G=>G.type==="directional").map(G=>y.jsxs("button",{onClick:()=>{_(G.id),w(!1)},className:"w-full text-left p-3 hover:bg-slate-800 border-b border-slate-800/50 flex items-start gap-3",children:[y.jsx("div",{className:be("mt-1 w-3 h-3 rounded-full border",p===G.id?"bg-blue-500 border-blue-400":"border-slate-600")}),y.jsx("span",{className:"text-sm font-bold text-slate-200",children:G.name})]},G.id))})]})]})]}),y.jsx("div",{className:"w-full pt-2 border-t border-slate-800/50",children:y.jsx(t_,{activeId:N,onSelect:k})})]}),y.jsxs("div",{className:"flex-1 overflow-hidden relative flex flex-col",children:[y.jsx(Zv,{messages:r}),h&&y.jsx("div",{className:"absolute bottom-4 left-6 text-xs text-blue-400 animate-pulse bg-slate-900/80 px-3 py-1 rounded-full border border-blue-900/50",children:"Analyse en cours..."})]}),y.jsxs("div",{className:"p-4 bg-slate-900 border-t border-slate-800",children:[y.jsx("div",{className:"flex gap-2 overflow-x-auto pb-3 custom-scrollbar",children:Y==null?void 0:Y.map((G,W)=>y.jsx("button",{onClick:()=>A(G),className:"whitespace-nowrap px-3 py-1.5 rounded-full bg-slate-800 border border-slate-700 text-[10px] text-slate-300 hover:text-white hover:border-blue-500 hover:bg-slate-700 transition-all",children:G},W))}),y.jsxs("div",{className:"relative max-w-4xl mx-auto",children:[y.jsx("input",{type:"text",value:l,onChange:G=>c(G.target.value),onKeyDown:G=>G.key==="Enter"&&A(),placeholder:`Posez votre question  ${D.name}...`,className:"w-full bg-slate-950 border border-slate-700 rounded-xl pl-4 pr-12 py-4 focus:border-blue-500 outline-none text-sm shadow-lg",disabled:h}),y.jsx("button",{onClick:()=>A(),disabled:h||!l.trim(),className:"absolute right-2 top-2 bottom-2 aspect-square bg-blue-600 hover:bg-blue-500 text-white rounded-lg flex items-center justify-center transition-colors",children:y.jsx(Ys,{className:"w-5 h-5"})})]})]})]}),y.jsx("div",{className:"w-1/2 hidden lg:block border-l border-slate-800/50 bg-slate-950/40",children:y.jsx(Wv,{personalityData:null,contextItems:x,isLoading:h})})]})};class QM{constructor(e,i,r){this.conversation=null,this.replicaId=e,this.personaName=i,this.context=r}async startConversation(){console.log("Starting Tavus Conversation..."),console.log(`Replica: ${this.replicaId}, Name: ${this.personaName}`),window.DailyIframe?(console.log("Daily.co SDK found. Ready to connect."),alert("Tavus integration requires a valid conversation URL generated from the backend.")):console.warn("Daily.co SDK not found.")}async endConversation(){console.log("Ending Tavus Conversation"),this.conversation&&(this.conversation.destroy(),this.conversation=null)}}const XM=({onBack:n,config:e,avatarImage:i,onOpenGallery:r})=>{const[a,l]=$.useState(!1),c=(e==null?void 0:e.avatarId)||i2,h=(e==null?void 0:e.name)||s2,g=(e==null?void 0:e.systemPrompt)||Zy,p=new QM(c,h,g),_=async()=>{l(!0),await p.startConversation()},x=()=>{p.endConversation(),l(!1),n()};return y.jsxs("div",{className:"h-screen w-full relative bg-[#F5F5F0] overflow-hidden flex flex-col items-center justify-center",children:[y.jsxs("div",{className:"absolute inset-0 z-0",children:[y.jsx("img",{src:"https://images.unsplash.com/photo-1598520106830-8c45c2035460?q=80&w=2000&auto=format&fit=crop",className:"w-full h-full object-cover opacity-20 filter blur-sm scale-105",alt:"Cozy Room"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#F5F5F0] via-transparent to-[#F5F5F0] opacity-80"})]}),y.jsxs("div",{className:"absolute top-0 left-0 right-0 p-8 flex justify-between items-center z-20",children:[y.jsx("div",{className:"flex gap-4",children:y.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 bg-white/80 hover:bg-white text-slate-600 rounded-full shadow-sm backdrop-blur transition-all hover:scale-105",children:[y.jsx(On,{className:"w-4 h-4"})," ",y.jsx("span",{className:"text-sm font-medium",children:"Retour"})]})}),y.jsxs("div",{className:"flex items-center gap-4",children:[r&&y.jsx("button",{onClick:r,className:"p-2 bg-white/50 hover:bg-white rounded-full transition-colors shadow-sm",title:"Changer Avatar",children:y.jsx(Gn,{className:"w-5 h-5 text-slate-600"})}),y.jsxs("div",{className:"flex flex-col items-end",children:[y.jsxs("h2",{className:"text-xl font-serif text-slate-800 tracking-tight flex items-center gap-2",children:[y.jsx(z1,{className:"w-5 h-5 text-rose-400"}),h]}),y.jsx("p",{className:"text-xs text-slate-500 font-medium uppercase tracking-widest",children:"Vido Native  Haute Empathie"})]})]})]}),y.jsx("div",{className:"relative z-10 w-full max-w-5xl aspect-video bg-white rounded-3xl shadow-2xl overflow-hidden ring-8 ring-white/50",children:y.jsx("div",{id:"tavus-container",className:"w-full h-full bg-slate-100 flex items-center justify-center relative",children:a?y.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/5",children:[y.jsx("div",{className:"w-16 h-16 border-4 border-rose-400 border-t-transparent rounded-full animate-spin mb-4"}),y.jsx("p",{className:"text-slate-500 font-medium animate-pulse",children:"Connexion  Phoenix Engine..."})]}):y.jsxs("div",{className:"text-center p-10 animate-in fade-in zoom-in duration-700",children:[y.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden mx-auto mb-6 shadow-xl border-4 border-white",children:y.jsx("img",{src:i||Be.natural,className:"w-full h-full object-cover"})}),y.jsx("h1",{className:"text-4xl font-serif text-slate-800 mb-4",children:"Bonjour."}),y.jsx("p",{className:"text-slate-500 max-w-md mx-auto mb-8 text-lg font-light leading-relaxed",children:"Je suis Emma. Je suis ici pour discuter avec vous, comprendre vos besoins et rflchir ensemble, en toute simplicit."}),y.jsxs("button",{onClick:_,className:"px-8 py-4 bg-rose-500 hover:bg-rose-400 text-white rounded-full font-bold shadow-lg shadow-rose-200 transition-all hover:scale-105 flex items-center gap-3 mx-auto",children:[y.jsx(Fy,{className:"w-5 h-5"})," Dmarrer la conversation"]})]})})}),y.jsx("div",{className:"absolute bottom-8 text-center z-10 opacity-40",children:y.jsxs("p",{className:"text-xs text-slate-500 font-mono flex items-center justify-center gap-2",children:[y.jsx(Ka,{className:"w-3 h-3"})," Propuls par JSLAI partout"]})})]})},ZM=({document:n})=>n?y.jsxs("div",{className:"h-full overflow-y-auto p-8 bg-white text-slate-900 shadow-2xl font-serif max-w-[210mm] mx-auto min-h-[297mm]",children:[y.jsxs("div",{className:"border-b-2 border-slate-900 pb-4 mb-8 flex justify-between items-end",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:n.title}),y.jsx("p",{className:"text-sm text-slate-600 mt-1",children:n.date})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("div",{className:"text-xs font-bold uppercase tracking-widest text-slate-500",children:"Emma IA Enterprise"}),y.jsx("div",{className:"text-[10px] text-slate-400",children:"Financial Advisory"})]})]}),y.jsx("div",{className:"space-y-6",children:n.sections.map((e,i)=>y.jsxs("div",{children:[y.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-2 border-b border-slate-200 pb-1",children:e.heading}),y.jsx("div",{className:"text-sm leading-relaxed text-slate-700 whitespace-pre-wrap text-justify",children:e.content})]},i))}),y.jsxs("div",{className:"mt-12 pt-8 border-t border-slate-200 text-center",children:[y.jsx("p",{className:"text-xs text-slate-400 italic",children:n.footer}),y.jsx("p",{className:"text-[10px] text-slate-300 mt-1 uppercase",children:"Propuls par JSLAI"})]})]}):y.jsx("div",{className:"flex items-center justify-center h-full text-slate-500 bg-white/5 border border-dashed border-slate-700 rounded-xl m-4",children:y.jsx("p",{className:"text-sm",children:"Le document apparatra ici..."})}),tl=({currentModelId:n,availableModels:e,googleSearch:i,onModelChange:r,onGoogleSearchChange:a,accentColor:l="cyan"})=>{const[c,h]=$.useState(!1),g=e.find(b=>b.id===n)||e[0],p={orange:{bg:"bg-orange-950/50",border:"border-orange-900/50",text:"text-orange-400",hover:"hover:bg-orange-900/50"},emerald:{bg:"bg-emerald-950/50",border:"border-emerald-900/50",text:"text-emerald-400",hover:"hover:bg-emerald-900/50"},red:{bg:"bg-red-950/50",border:"border-red-900/50",text:"text-red-400",hover:"hover:bg-red-900/50"},cyan:{bg:"bg-cyan-950/50",border:"border-cyan-900/50",text:"text-cyan-400",hover:"hover:bg-cyan-900/50"}},_=p[l]||p.cyan,x=b=>{switch(b){case"gemini":return y.jsx(bd,{className:"w-3 h-3"});case"perplexity":return y.jsx(La,{className:"w-3 h-3"});default:return y.jsx(Hi,{className:"w-3 h-3"})}};return y.jsxs("div",{className:"relative",children:[y.jsxs("button",{onClick:()=>h(!c),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg ${_.bg} border ${_.border} ${_.hover} transition-all text-xs`,title:"Changer de modle IA",children:[x(g.provider),y.jsx("span",{className:`font-medium ${_.text}`,children:g.name}),y.jsx(I1,{className:`w-3 h-3 transition-transform ${c?"rotate-180":""}`})]}),c&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>h(!1)}),y.jsxs("div",{className:`absolute top-full right-0 mt-2 w-72 ${_.bg} backdrop-blur-xl border ${_.border} rounded-xl shadow-2xl z-50 overflow-hidden`,children:[y.jsx("div",{className:"p-2 space-y-1 max-h-64 overflow-y-auto",children:e.map(b=>y.jsxs("button",{onClick:()=>{r(b.id),h(!1)},className:`w-full text-left p-3 rounded-lg transition-all ${b.id===n?`${_.bg} border ${_.border}`:"hover:bg-white/5"}`,children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[x(b.provider),y.jsx("span",{className:`font-medium text-sm ${b.id===n?_.text:"text-white"}`,children:b.name}),b.id===n&&y.jsx("span",{className:`ml-auto text-[10px] ${_.text} bg-white/10 px-1.5 py-0.5 rounded`,children:"Actif"})]}),y.jsx("p",{className:"text-[10px] text-gray-400 line-clamp-2",children:b.description}),y.jsx("div",{className:"flex gap-1 mt-1.5",children:b.capabilities.slice(0,3).map(E=>y.jsx("span",{className:"text-[9px] bg-white/5 text-gray-500 px-1.5 py-0.5 rounded",children:E},E))})]},b.id))}),g.provider==="gemini"&&y.jsxs("div",{className:`p-3 border-t ${_.border}`,children:[y.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Sd,{className:`w-4 h-4 ${i?_.text:"text-gray-500"}`}),y.jsx("span",{className:"text-xs text-gray-300",children:"Google Search (Grounding)"})]}),y.jsx("div",{className:`w-10 h-5 rounded-full transition-colors relative ${i?"bg-emerald-600":"bg-gray-700"}`,onClick:()=>a(!i),children:y.jsx("div",{className:`absolute w-4 h-4 bg-white rounded-full top-0.5 transition-transform ${i?"translate-x-5":"translate-x-0.5"}`})})]}),y.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:"Enrichit les rponses avec des donnes web en temps rel"})]}),g.provider==="perplexity"&&y.jsx("div",{className:`p-3 border-t ${_.border}`,children:y.jsxs("div",{className:"flex items-center gap-2 text-xs text-blue-400",children:[y.jsx(La,{className:"w-4 h-4"}),y.jsx("span",{children:"Recherche web intgre + Citations"})]})})]})]})]})},Lc="emma-mode-configs";function nl(n){const[e,i]=$.useState(()=>{try{const l=localStorage.getItem(Lc);if(l){const c=JSON.parse(l);if(c[n])return c[n]}}catch(l){console.error("Error loading mode config:",l)}return WN[n]}),r=l=>{i(c=>{const h={...c,...l};try{const g=localStorage.getItem(Lc),p=g?JSON.parse(g):{};p[n]=h,localStorage.setItem(Lc,JSON.stringify(p))}catch(g){console.error("Error saving mode config:",g)}return h})},a=js.find(l=>l.id===e.modelId)||js[0];return{config:e,setConfig:r,currentModel:a,availableModels:js.filter(l=>l.type==="directional")}}var Od={};const WM="https://api.perplexity.ai/chat/completions",eI="https://api.openai.com/v1/chat/completions",tI="https://api.anthropic.com/v1/messages";function nI(n){return n.startsWith("gemini")?"gemini":n.startsWith("sonar")?"perplexity":n.startsWith("gpt")||n.startsWith("o1")?"openai":n.startsWith("claude")?"anthropic":"gemini"}async function il(n){switch(nI(n.modelId)){case"perplexity":return sI(n);case"openai":return rI(n);case"anthropic":return oI(n);default:return iI(n)}}async function iI(n){const{modelId:e,prompt:i,systemInstruction:r,googleSearch:a}=n;throw new Error("Gemini API key not configured (API_KEY)")}async function sI(n){var g,p,_,x;const{modelId:e,prompt:i,systemInstruction:r}=n,a=Od.PERPLEXITY_API_KEY;if(!a)throw new Error("Perplexity API key not configured (PERPLEXITY_API_KEY)");const l=[];r&&l.push({role:"system",content:r}),l.push({role:"user",content:i});const c=await fetch(WM,{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({model:e,messages:l,return_citations:!0})});if(!c.ok){const b=await c.json().catch(()=>({}));throw new Error(`Perplexity: ${((g=b.error)==null?void 0:g.message)||c.statusText}`)}const h=await c.json();return{text:((x=(_=(p=h.choices)==null?void 0:p[0])==null?void 0:_.message)==null?void 0:x.content)||"",citations:h.citations||[]}}async function rI(n){var g,p,_,x;const{modelId:e,prompt:i,systemInstruction:r}=n,a=Od.OPENAI_API_KEY;if(!a)throw new Error("OpenAI API key not configured (OPENAI_API_KEY)");const l=[];r&&l.push({role:"system",content:r}),l.push({role:"user",content:i});const c=await fetch(eI,{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({model:e,messages:l})});if(!c.ok){const b=await c.json().catch(()=>({}));throw new Error(`OpenAI: ${((g=b.error)==null?void 0:g.message)||c.statusText}`)}return{text:((x=(_=(p=(await c.json()).choices)==null?void 0:p[0])==null?void 0:_.message)==null?void 0:x.content)||""}}async function oI(n){var p,_;const{modelId:e,prompt:i,systemInstruction:r}=n,a=Od.ANTHROPIC_API_KEY;if(!a)throw new Error("Anthropic API key not configured (ANTHROPIC_API_KEY)");const c=await fetch(tI,{method:"POST",headers:{"x-api-key":a,"anthropic-version":"2023-06-01","Content-Type":"application/json"},body:JSON.stringify({model:e,max_tokens:4096,system:r||"",messages:[{role:"user",content:i}]})});if(!c.ok){const x=await c.json().catch(()=>({}));throw new Error(`Anthropic: ${((p=x.error)==null?void 0:p.message)||c.statusText}`)}const g=(_=(await c.json()).content)==null?void 0:_.find(x=>x.type==="text");return{text:(g==null?void 0:g.text)||""}}const aI=({onBack:n,avatarImage:e,onOpenGallery:i})=>{const[r,a]=$.useState([]),[l,c]=$.useState(""),[h,g]=$.useState(!1),[p,_]=$.useState(null),x=$.useRef(null),{config:b,setConfig:E,currentModel:w,availableModels:N}=nl("writer");$.useEffect(()=>{x.current&&(x.current.scrollTop=x.current.scrollHeight)},[r]);const I=async(k=l)=>{if(!k.trim()||h)return;const A={id:Date.now().toString(),role:"user",text:k,timestamp:new Date};a(j=>[...j,A]),c(""),g(!0);try{const D=`Historique:
${r.map(te=>`${te.role==="user"?"User":"Editor"}: ${te.text}`).join(`
`)}

User: ${A.text}`,Y=await il({modelId:b.modelId,prompt:D,systemInstruction:Yy,googleSearch:b.googleSearch}),G=Y.text||"",W=G.match(/###DOC_UPDATE_START###([\s\S]*?)###DOC_UPDATE_END###/);let K=G.replace(/###DOC_UPDATE_START###[\s\S]*?###DOC_UPDATE_END###/g,"").trim();if(W&&W[1])try{_(JSON.parse(W[1]))}catch(te){console.error(te)}a(te=>[...te,{id:Date.now().toString(),role:"assistant",text:K,timestamp:new Date,citations:Y.citations}])}catch(j){console.error(j),a(D=>[...D,{id:Date.now().toString(),role:"assistant",text:` Erreur: ${j instanceof Error?j.message:"Erreur inconnue"}`,timestamp:new Date}])}finally{g(!1)}},P=Ks.writer;return y.jsxs("div",{className:"flex h-screen text-white overflow-hidden glass-panel rounded-none",children:[y.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col border-r border-emerald-900/30 bg-slate-950/60 backdrop-blur-xl",children:[y.jsxs("div",{className:"p-6 border-b border-emerald-900/30 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("button",{onClick:n,className:"p-2 hover:bg-white/10 rounded-full transition-colors",title:"Retour au menu",children:y.jsx(On,{className:"w-5 h-5 text-emerald-400"})}),y.jsx("div",{className:"w-12 h-12 rounded-full border-2 border-emerald-500/50 overflow-hidden shadow-[0_0_15px_rgba(16,185,129,0.3)]",children:y.jsx("img",{src:e||Be.professional,alt:"Emma - Rdactrice",className:"w-full h-full object-cover"})}),y.jsxs("div",{children:[y.jsx("h2",{className:"font-bold flex items-center gap-2 text-emerald-500",children:"Emma  RDACTION"}),y.jsx("p",{className:"text-[10px] text-emerald-300 uppercase tracking-widest font-mono",children:"Secrtaire Financire"})]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx(tl,{currentModelId:b.modelId,availableModels:N,googleSearch:b.googleSearch,onModelChange:k=>E({modelId:k}),onGoogleSearchChange:k=>E({googleSearch:k}),accentColor:"emerald"}),i&&y.jsx("button",{onClick:i,className:"p-2 bg-emerald-950/30 hover:bg-emerald-900/50 rounded-lg border border-emerald-900/30 transition-colors",title:"Galerie d'images",children:y.jsx(Gn,{className:"w-4 h-4 text-emerald-400"})})]})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",ref:x,children:[r.map(k=>y.jsxs("div",{className:be("p-3 rounded-xl text-sm max-w-[90%]",k.role==="user"?"bg-slate-700 text-white self-end ml-auto":"bg-emerald-950/30 text-emerald-100 border border-emerald-900/30"),children:[k.text,k.citations&&k.citations.length>0&&y.jsxs("div",{className:"mt-2 pt-2 border-t border-emerald-900/30 text-[10px] text-emerald-400",children:[" Sources: ",k.citations.length," rfrence(s)"]})]},k.id)),h&&y.jsxs("div",{className:"text-xs text-emerald-500 animate-pulse px-4",children:["Rdaction en cours avec ",w.name,"..."]})]}),y.jsxs("div",{className:"p-6 border-t border-emerald-900/30 bg-slate-900/30",children:[y.jsx("div",{className:"flex gap-2 overflow-x-auto pb-3 custom-scrollbar",children:P==null?void 0:P.map((k,A)=>y.jsx("button",{onClick:()=>I(k),className:"whitespace-nowrap px-3 py-1.5 rounded-full bg-emerald-950/40 border border-emerald-900/50 text-[10px] text-emerald-200 hover:text-white hover:bg-emerald-900/60 transition-all",children:k},A))}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"text",value:l,onChange:k=>c(k.target.value),onKeyDown:k=>k.key==="Enter"&&I(),className:"w-full bg-slate-950 border border-emerald-900/30 rounded-xl py-3 pl-4 pr-10 text-sm focus:border-emerald-500 outline-none shadow-inner",placeholder:"Instructions...",disabled:h}),y.jsx("button",{onClick:()=>I(),className:"absolute right-2 top-2 p-1.5 text-emerald-500 hover:bg-emerald-500/20 rounded-lg transition-colors",disabled:h,title:"Envoyer",children:y.jsx(Ys,{className:"w-4 h-4"})})]})]})]}),y.jsx("div",{className:"hidden lg:flex w-1/2 bg-slate-900/90 overflow-y-auto p-12 justify-center backdrop-blur-sm",children:y.jsx(ZM,{document:p})})]})},lI=({data:n})=>n?y.jsxs("div",{className:"p-8 max-w-4xl mx-auto space-y-8 animate-in fade-in duration-700",children:[y.jsxs("div",{className:"flex items-center justify-between border-b border-slate-800 pb-6",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-black text-white tracking-tighter uppercase",children:"Daily Briefing"}),y.jsxs("p",{className:"text-slate-500 font-mono text-xs mt-1",children:[new Date().toLocaleDateString(),"  LIVE UPDATE"]})]}),y.jsxs("div",{className:be("px-4 py-2 rounded-lg border flex items-center gap-2",n.marketSentiment==="Bullish"?"bg-green-900/20 border-green-500/50 text-green-400":n.marketSentiment==="Bearish"?"bg-red-900/20 border-red-500/50 text-red-400":"bg-slate-800 border-slate-700 text-slate-400"),children:[n.marketSentiment==="Bullish"?y.jsx(Qa,{className:"w-5 h-5"}):n.marketSentiment==="Bearish"?y.jsx($y,{className:"w-5 h-5"}):y.jsx(jy,{className:"w-5 h-5"}),y.jsx("span",{className:"font-bold uppercase tracking-wider",children:n.marketSentiment})]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:n.topMovers.map((e,i)=>y.jsxs("div",{className:"bg-slate-900 border border-slate-800 p-4 rounded-xl flex flex-col",children:[y.jsx("span",{className:"text-xs text-slate-500 font-bold",children:e.ticker}),y.jsxs("div",{className:"flex justify-between items-end mt-2",children:[y.jsx("span",{className:"text-lg font-mono text-white",children:e.price}),y.jsx("span",{className:be("text-sm font-bold",e.change.startsWith("+")?"text-green-400":"text-red-400"),children:e.change})]})]},i))}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider flex items-center gap-2",children:[y.jsx(Hi,{className:"w-4 h-4 text-yellow-500"})," Breaking News"]}),y.jsx("div",{className:"grid grid-cols-1 gap-3",children:n.breakingNews.map((e,i)=>y.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 p-4 rounded-xl flex gap-4 items-start hover:bg-slate-800 transition-colors",children:[y.jsx("span",{className:"text-xs font-mono text-slate-500 pt-1",children:e.time}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-slate-200 font-medium leading-relaxed",children:e.headline}),y.jsxs("span",{className:be("text-[10px] uppercase font-bold mt-1 inline-block",e.impact==="High"?"text-red-400":"text-slate-500"),children:[e.impact," Impact"]})]})]},i))})]}),n.portfolioAlerts.length>0&&y.jsxs("div",{className:"bg-blue-900/10 border border-blue-900/30 p-4 rounded-xl",children:[y.jsx("h3",{className:"text-sm font-bold text-blue-400 uppercase tracking-wider mb-3",children:"Portfolio Alerts"}),y.jsx("ul",{className:"space-y-2",children:n.portfolioAlerts.map((e,i)=>y.jsxs("li",{className:"text-sm text-blue-200 flex items-center gap-2",children:[y.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"})," ",e]},i))})]})]}):y.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-600",children:[y.jsx(Sd,{className:"w-16 h-16 mb-4 opacity-20"}),y.jsx("h3",{className:"text-xl font-bold uppercase tracking-widest",children:"Global Briefing"}),y.jsx("p",{className:"text-sm mt-2",children:"En attente des donnes de march..."})]}),uI=({onBack:n,avatarImage:e,onOpenGallery:i})=>{const[r,a]=$.useState([]),[l,c]=$.useState(""),[h,g]=$.useState(null),[p,_]=$.useState(!1),[x,b]=$.useState(!1),{config:E,setConfig:w,currentModel:N,availableModels:I}=nl("researcher"),P=async(A=l)=>{if(!A.trim()||p)return;const j={id:Date.now().toString(),role:"user",text:A,timestamp:new Date};a(D=>[...D,j]),c(""),_(!0);try{const D=await il({modelId:E.modelId,prompt:A,systemInstruction:Ky,googleSearch:E.googleSearch}),Y=D.text||"",G=Y.match(/###BRIEFING_UPDATE_START###([\s\S]*?)###BRIEFING_UPDATE_END###/);G&&G[1]&&g(JSON.parse(G[1]));const W=Y.replace(/###BRIEFING_UPDATE_START###[\s\S]*?###BRIEFING_UPDATE_END###/g,"").trim(),K={id:Date.now().toString(),role:"assistant",text:W,timestamp:new Date,citations:D.citations};a(te=>[...te,K])}catch(D){console.error(D),a(Y=>[...Y,{id:Date.now().toString(),role:"assistant",text:` Erreur: ${D instanceof Error?D.message:"Erreur inconnue"}`,timestamp:new Date}])}finally{_(!1)}},k=Ks.researcher;return y.jsxs("div",{className:"flex h-screen text-white overflow-hidden glass-panel rounded-none",children:[y.jsxs("div",{className:"w-full lg:w-1/2 border-r border-orange-900/20 flex flex-col bg-slate-950/60 backdrop-blur-xl",children:[y.jsxs("div",{className:"p-6 border-b border-orange-900/20 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("button",{onClick:n,className:"p-2 hover:bg-white/10 rounded-full transition-colors",title:"Retour au menu",children:y.jsx(On,{className:"w-5 h-5 text-orange-400"})}),y.jsx("div",{className:"w-12 h-12 rounded-full border-2 border-orange-500/50 overflow-hidden shadow-[0_0_15px_rgba(249,115,22,0.3)]",children:y.jsx("img",{src:e||Be.professional,alt:"Morgane - Recherchiste",className:"w-full h-full object-cover"})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-lg font-bold flex items-center gap-2 text-orange-500",children:"Morgane"}),y.jsx("p",{className:"text-[10px] text-orange-300 uppercase tracking-widest font-mono",children:"Recherchiste 24/7"})]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx(tl,{currentModelId:E.modelId,availableModels:I,googleSearch:E.googleSearch,onModelChange:A=>w({modelId:A}),onGoogleSearchChange:A=>w({googleSearch:A}),accentColor:"orange"}),i&&y.jsx("button",{onClick:i,className:"p-2 bg-orange-950/30 hover:bg-orange-900/50 rounded-lg border border-orange-900/30 transition-colors",title:"Galerie d'images",children:y.jsx(Gn,{className:"w-4 h-4 text-orange-400"})})]})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 custom-scrollbar",children:[r.map(A=>y.jsxs("div",{className:`p-3 rounded-xl text-xs leading-relaxed ${A.role==="user"?"bg-slate-700 text-white self-end ml-auto max-w-[90%]":"bg-orange-950/40 text-orange-100 border border-orange-900/30"}`,children:[A.text,A.citations&&A.citations.length>0&&y.jsxs("div",{className:"mt-2 pt-2 border-t border-orange-900/30",children:[y.jsx("p",{className:"text-[10px] text-orange-400 mb-1",children:" Sources:"}),A.citations.map((j,D)=>y.jsx("a",{href:j,target:"_blank",rel:"noopener noreferrer",className:"block text-[10px] text-blue-400 hover:underline truncate",children:j},D))]})]},A.id)),p&&y.jsxs("div",{className:"text-xs text-orange-500 animate-pulse px-4",children:["Recherche en cours avec ",N.name,"..."]})]}),y.jsxs("div",{className:"p-4 border-t border-orange-900/20 bg-slate-900/30",children:[y.jsx("div",{className:"flex gap-2 overflow-x-auto pb-3 custom-scrollbar",children:k==null?void 0:k.map((A,j)=>y.jsx("button",{onClick:()=>P(A),className:"whitespace-nowrap px-3 py-1.5 rounded-full bg-orange-950/40 border border-orange-900/50 text-[10px] text-orange-200 hover:text-white hover:bg-orange-900/60 transition-all",children:A},j))}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"text",value:l,onChange:A=>c(A.target.value),onKeyDown:A=>A.key==="Enter"&&P(),className:"w-full bg-slate-950 border border-orange-900/30 rounded-xl py-3 pl-4 pr-10 text-xs focus:border-orange-500 outline-none shadow-inner",placeholder:"Commande de recherche...",disabled:p}),y.jsx("button",{onClick:()=>P(),className:"absolute right-2 top-2 p-1.5 bg-orange-600/20 text-orange-500 rounded-lg hover:bg-orange-600 hover:text-white transition-all",disabled:p,title:"Envoyer",children:y.jsx(Ys,{className:"w-4 h-4"})})]})]})]}),y.jsx("div",{className:"hidden lg:block w-1/2 overflow-y-auto bg-slate-950/80 backdrop-blur-sm",children:y.jsx(lI,{data:h})})]})},cI=()=>{const[n,e]=$.useState(2);return y.jsx("div",{className:"fixed top-6 right-20 z-50",children:y.jsxs("button",{className:"relative p-2 bg-slate-800/80 hover:bg-slate-700 border border-slate-600 rounded-full transition-all group",children:[y.jsx(b1,{className:"w-5 h-5 text-slate-300 group-hover:text-white"}),n>0&&y.jsx("span",{className:"absolute top-0 right-0 w-3 h-3 bg-red-500 rounded-full animate-pulse border-2 border-slate-900"})]})})},dI=({onBack:n,onInjectPrompt:e,avatarImage:i,onOpenGallery:r})=>{var E;const[a,l]=$.useState("config"),[c,h]=$.useState({name:"",ticker:"",industry:""}),g=Wy(),p=c.name?`https://logo.clearbit.com/${c.name.replace(/\s+/g,"").toLowerCase()}.com`:"",_=()=>{const w=Kc.replace("{{COMPANY_NAME}}",c.name).replace("{{TICKER}}",c.ticker);e(w);const N={systemInstruction:w,llmModel:Vs,llmTemperature:.7,geminiVoice:"Charon",activeProvider:"heygen",heygenAvatarId:"Tyler-incasualsuit-20220721",akoolAvatarId:Xy,heygenQuality:"high",heygenEmotion:"Serious",heygenRemoveBackground:!1,heygenToken:"",akoolToken:"",akoolRegion:"us-west",akoolFaceEnhance:!0,muteGeminiAudio:!1,integrationConfig:Kr,chatMode:"solo"};g.connect(N),l("live")},x=()=>{g.disconnect(),l("config")},b=Ks["ceo-mode"];return a==="config"?y.jsxs("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center p-4 relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-900/20 via-slate-950 to-blue-900/20 animate-gradient-x"}),y.jsx("button",{onClick:n,className:"absolute top-6 left-6 bg-white/5 hover:bg-white/10 p-3 rounded-full text-white border border-white/10 backdrop-blur transition-all z-10",title:"Retour au menu",children:y.jsx(On,{className:"w-5 h-5"})}),y.jsxs("div",{className:"w-full max-w-lg bg-slate-900/60 border border-white/10 rounded-3xl p-10 shadow-2xl relative backdrop-blur-xl",children:[y.jsxs("div",{className:"text-center mb-10",children:[y.jsx("div",{className:"w-24 h-24 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-6 border border-white/10 shadow-inner overflow-hidden backdrop-blur-md",children:c.name?y.jsx("img",{src:p,className:"w-full h-full object-contain p-3",onError:w=>w.currentTarget.src=""}):y.jsx(xd,{className:"w-10 h-10 text-cyan-400 opacity-50"})}),y.jsx("h1",{className:"text-3xl font-bold text-white tracking-tight",children:"CEO Simulator"}),y.jsx("p",{className:"text-sm text-cyan-200/60 mt-2",children:"Simulation de haute fidlit. Entrez les paramtres."})]}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest ml-1",children:"Entreprise"}),y.jsx("input",{type:"text",value:c.name,onChange:w=>h({...c,name:w.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-4 text-white mt-2 focus:border-cyan-500 outline-none transition-all focus:bg-black/60",placeholder:"Ex: Tesla Inc."})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest ml-1",children:"Ticker"}),y.jsx("input",{type:"text",value:c.ticker,onChange:w=>h({...c,ticker:w.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-4 text-white mt-2 focus:border-cyan-500 outline-none font-mono transition-all focus:bg-black/60",placeholder:"Ex: TSLA"})]}),y.jsx("button",{onClick:_,disabled:!c.name||!c.ticker,className:"w-full py-4 bg-gradient-to-r from-cyan-600 to-blue-600 hover:scale-[1.02] text-white rounded-xl font-bold transition-all disabled:opacity-50 mt-6 shadow-xl shadow-cyan-900/20",children:"Entrer dans la Board Room"})]})]})]}):y.jsxs("div",{className:"flex flex-col h-screen bg-slate-950 relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 z-0 opacity-40 bg-[url('https://images.unsplash.com/photo-1497366216548-37526070297c?q=80&w=1600&auto=format&fit=crop')] bg-cover bg-center filter blur-sm scale-110 animate-pulse-slow"}),y.jsx("div",{className:"absolute inset-0 z-0 bg-gradient-to-b from-slate-950/60 via-slate-950/80 to-slate-950"}),y.jsxs("div",{className:"relative z-20 p-6 flex justify-between items-center bg-gradient-to-b from-black/60 to-transparent",children:[y.jsxs("div",{className:"flex items-center gap-6",children:[y.jsx("button",{onClick:x,className:"bg-white/5 hover:bg-white/10 p-3 rounded-full text-white border border-white/10 backdrop-blur transition-all",children:y.jsx(On,{className:"w-5 h-5"})}),y.jsxs("div",{className:"flex items-center gap-4 bg-white/5 px-6 py-2 rounded-2xl border border-white/10 backdrop-blur-md",children:[y.jsx("img",{src:p,className:"w-8 h-8 rounded bg-white p-1 object-contain",onError:w=>w.currentTarget.style.display="none"}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-xl font-bold text-white leading-none",children:c.name}),y.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-mono text-cyan-300 mt-1 uppercase tracking-widest",children:[y.jsx("span",{children:c.ticker}),"  ",y.jsx("span",{className:"text-green-400 animate-pulse",children:"LIVE CONNECTED"})]})]})]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{className:"p-3 bg-white/10 hover:bg-white/20 rounded-lg border border-white/10 transition-colors backdrop-blur-md",children:y.jsx(Td,{className:"w-5 h-5 text-white"})}),r&&y.jsx("button",{onClick:r,className:"p-3 bg-white/10 hover:bg-white/20 rounded-lg border border-white/10 transition-colors backdrop-blur-md",children:y.jsx(Gn,{className:"w-5 h-5 text-white"})})]})]}),y.jsx("div",{className:"flex-1 relative z-10 flex items-center justify-center",children:y.jsx(Qv,{state:g.connectionState,volume:g.assistantVolume,config:{systemInstruction:"",llmModel:Vs,llmTemperature:.7,geminiVoice:"Charon",heygenAvatarId:"Tyler-incasualsuit-20220721",heygenQuality:"high",heygenEmotion:"Serious",activeProvider:"heygen",heygenRemoveBackground:!1,heygenToken:"",akoolToken:"",akoolAvatarId:"",akoolRegion:"us-west",akoolFaceEnhance:!1,muteGeminiAudio:!1,integrationConfig:Kr,chatMode:"solo"},lastMessage:((E=g.messages.slice().reverse().find(w=>w.role==="assistant"))==null?void 0:E.text)||""})}),y.jsxs("div",{className:"relative z-20 pb-10 flex flex-col items-center",children:[y.jsx("div",{className:"flex gap-2 overflow-x-auto pb-3 custom-scrollbar mb-4",children:b==null?void 0:b.map((w,N)=>y.jsx("button",{onClick:()=>g.sendText(w),className:"whitespace-nowrap px-4 py-2 rounded-full bg-black/40 border border-white/10 text-xs text-white hover:bg-white/10 transition-all backdrop-blur-md",children:w},N))}),y.jsx(Xv,{state:g.connectionState,onConnect:()=>g.connect({systemInstruction:Kc.replace("{{COMPANY_NAME}}",c.name).replace("{{TICKER}}",c.ticker),llmModel:Vs,llmTemperature:.7,geminiVoice:"Charon",activeProvider:"heygen",heygenToken:"",heygenAvatarId:"Tyler-incasualsuit-20220721",heygenQuality:"high",heygenEmotion:"Serious",heygenRemoveBackground:!1,akoolToken:"",akoolAvatarId:"",akoolRegion:"us-west",akoolFaceEnhance:!1,muteGeminiAudio:!1,integrationConfig:Kr,chatMode:"solo"}),onDisconnect:x,onEmail:()=>{},onOpenAdmin:()=>{},onToggleInsights:()=>{},showInsights:!1}),y.jsx("div",{className:"mt-4 text-[10px] text-white/30 uppercase tracking-widest",children:"Propuls par JSLAI partout"})]})]})},fI=({onBack:n,avatarImage:e,onOpenGallery:i})=>{const[r,a]=$.useState([]),[l,c]=$.useState(""),[h,g]=$.useState(!1),[p,_]=$.useState(null),x=$.useRef(null),{config:b,setConfig:E,currentModel:w,availableModels:N}=nl("critic");$.useEffect(()=>{x.current&&(x.current.scrollTop=x.current.scrollHeight)},[r]);const I=async(k=l)=>{if(!k.trim()||h)return;c(""),g(!0);const A={id:Date.now().toString(),role:"user",text:k,timestamp:new Date};a(j=>[...j,A]);try{const D=`HISTORIQUE:
${r.map(te=>`${te.role==="user"?"User":"Avocat"}: ${te.text}`).join(`
`)}

USER ARGUMENT: ${k}`,G=(await il({modelId:b.modelId,prompt:D,systemInstruction:Qy,googleSearch:b.googleSearch})).text||"",W=G.match(/###RISK_REPORT_START###([\s\S]*?)###RISK_REPORT_END###/),K=G.replace(/###RISK_REPORT_START###[\s\S]*?###RISK_REPORT_END###/g,"").trim();if(W&&W[1])try{_(JSON.parse(W[1]))}catch(te){console.error(te)}a(te=>[...te,{id:Date.now().toString(),role:"assistant",text:K,timestamp:new Date}])}catch(j){console.error(j),a(D=>[...D,{id:Date.now().toString(),role:"assistant",text:` Erreur: ${j instanceof Error?j.message:"Erreur inconnue"}`,timestamp:new Date}])}finally{g(!1)}},P=Ks["critic-mode"];return y.jsxs("div",{className:"flex h-screen text-white overflow-hidden glass-panel rounded-none",children:[y.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col border-r border-red-900/30 bg-slate-950/50 backdrop-blur-xl relative",children:[y.jsxs("div",{className:"p-6 border-b border-red-900/30 flex items-center justify-between bg-gradient-to-r from-red-950/40 to-transparent",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("button",{onClick:n,className:"p-2 hover:bg-white/10 rounded-full transition-colors",title:"Retour au menu",children:y.jsx(On,{className:"w-5 h-5 text-red-400"})}),y.jsx("div",{className:"w-12 h-12 rounded-full border-2 border-red-500/50 overflow-hidden shadow-[0_0_15px_rgba(239,68,68,0.4)]",children:y.jsx("img",{src:e||Be.professional,alt:"Emma - L'Avocat du Diable",className:"w-full h-full object-cover grayscale contrast-125"})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-lg font-bold flex items-center gap-2 text-red-500 tracking-tight",children:"Emma  CRITIQUE"}),y.jsx("p",{className:"text-[10px] text-red-300 uppercase font-mono tracking-widest",children:"Avocat du Diable"})]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx(tl,{currentModelId:b.modelId,availableModels:N,googleSearch:b.googleSearch,onModelChange:k=>E({modelId:k}),onGoogleSearchChange:k=>E({googleSearch:k}),accentColor:"red"}),i&&y.jsx("button",{onClick:i,className:"p-2 bg-red-950/30 hover:bg-red-900/50 rounded-lg border border-red-900/30 transition-colors",title:"Galerie d'images",children:y.jsx(Gn,{className:"w-4 h-4 text-red-400"})})]})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 custom-scrollbar",ref:x,children:[r.map(k=>y.jsx("div",{className:be("p-4 rounded-2xl text-sm leading-relaxed shadow-lg max-w-[90%]",k.role==="user"?"bg-slate-700 text-white self-end ml-auto":"bg-red-950/60 border border-red-900/40 text-red-50"),children:k.text},k.id)),h&&y.jsxs("div",{className:"text-xs text-red-500 animate-pulse flex items-center gap-2 ml-4",children:[y.jsx(La,{className:"w-3 h-3"})," Analyse avec ",w.name,"..."]})]}),y.jsxs("div",{className:"p-6 border-t border-red-900/30 bg-slate-900/40 backdrop-blur-md",children:[y.jsx("div",{className:"flex gap-2 overflow-x-auto pb-3 custom-scrollbar",children:P==null?void 0:P.map((k,A)=>y.jsx("button",{onClick:()=>I(k),className:"whitespace-nowrap px-3 py-1.5 rounded-full bg-red-950/40 border border-red-900/50 text-[10px] text-red-200 hover:text-white hover:bg-red-900/60 transition-all",children:k},A))}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"text",value:l,onChange:k=>c(k.target.value),onKeyDown:k=>k.key==="Enter"&&I(),className:"w-full bg-slate-950/80 border border-red-900/30 rounded-xl py-4 pl-6 pr-12 text-sm focus:border-red-500 outline-none shadow-inner",placeholder:"Dfiez-moi avec une action...",disabled:h}),y.jsx("button",{onClick:()=>I(),className:"absolute right-3 top-3 p-2 bg-red-600/20 text-red-400 hover:bg-red-600 hover:text-white rounded-lg transition-all",disabled:h,title:"Envoyer",children:y.jsx(Ys,{className:"w-4 h-4"})})]})]})]}),y.jsx("div",{className:"hidden lg:flex w-1/2 bg-slate-950/80 p-10 flex-col relative overflow-hidden backdrop-blur-sm",children:p?y.jsxs("div",{className:"z-10 space-y-8 animate-in fade-in slide-in-from-bottom-8 duration-700 max-w-5xl mx-auto w-full",children:[y.jsxs("div",{className:"bg-red-950/30 border border-red-500/30 p-8 rounded-3xl flex justify-between items-start backdrop-blur-md shadow-2xl relative overflow-hidden",children:[y.jsxs("div",{className:"relative z-10",children:[y.jsx("h2",{className:"text-4xl font-black text-white tracking-tighter uppercase mb-2",children:p.targetEntity}),y.jsxs("div",{className:"text-red-400 font-bold text-xl flex items-center gap-2 bg-red-950/50 px-4 py-2 rounded-lg w-fit border border-red-900/50",children:[y.jsx(Xa,{className:"w-6 h-6"})," ",p.verdict]})]}),y.jsxs("div",{className:"text-right relative z-10",children:[y.jsx("div",{className:"text-xs text-red-400 font-mono uppercase tracking-widest mb-1",children:"Risk Score"}),y.jsxs("div",{className:"text-7xl font-black text-white tracking-tighter",children:[p.overallRiskScore,y.jsx("span",{className:"text-3xl text-red-500/50",children:"/100"})]})]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:p.risks.map((k,A)=>y.jsxs("div",{className:be("p-6 rounded-2xl border flex flex-col gap-3 transition-all hover:scale-[1.02] shadow-lg backdrop-blur-sm",k.severity==="Extrme"?"bg-red-950/40 border-red-500/60":k.severity==="lev"?"bg-orange-950/30 border-orange-500/40":"bg-slate-800/40 border-slate-700"),children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("span",{className:"text-[10px] font-bold px-3 py-1 rounded-full uppercase border",children:k.category}),k.redFlag&&y.jsx(U1,{className:"w-5 h-5 text-red-500"})]}),y.jsx("p",{className:"text-sm text-slate-200 leading-relaxed font-light",children:k.description})]},A))})]}):y.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-700 z-10",children:[y.jsx(Hy,{className:"w-32 h-32 mb-8 opacity-10"}),y.jsx("h3",{className:"text-3xl font-black uppercase",children:"Matrice de Menaces"})]})})]})},hI=({onBack:n,avatarImage:e,onOpenGallery:i})=>{const[r,a]=$.useState([]),[l,c]=$.useState(""),[h,g]=$.useState(!1),[p,_]=$.useState(null),x=$.useRef(null),{config:b,setConfig:E,currentModel:w,availableModels:N}=nl("technical");$.useEffect(()=>{x.current&&(x.current.scrollTop=x.current.scrollHeight)},[r]);const I=async(A=l)=>{if(!A.trim()||h)return;const j={id:Date.now().toString(),role:"user",text:A,timestamp:new Date};a(D=>[...D,j]),c(""),g(!0);try{const Y=`Historique:
${r.map(ue=>`${ue.role==="user"?"User":"Analyste"}: ${ue.text}`).join(`
`)}

User: ${j.text}`,W=(await il({modelId:b.modelId,prompt:Y,systemInstruction:Cd,googleSearch:b.googleSearch})).text||"Erreur d'analyse.",K=W.match(/###TECHNICAL_UPDATE_START###([\s\S]*?)###TECHNICAL_UPDATE_END###/);let te=W.replace(/###TECHNICAL_UPDATE_START###[\s\S]*?###TECHNICAL_UPDATE_END###/g,"").trim();if(K&&K[1])try{_(JSON.parse(K[1]))}catch(ue){console.error(ue)}a(ue=>[...ue,{id:Date.now().toString(),role:"assistant",text:te,timestamp:new Date}])}catch(D){console.error(D),a(Y=>[...Y,{id:Date.now().toString(),role:"assistant",text:` Erreur: ${D instanceof Error?D.message:"Erreur inconnue"}`,timestamp:new Date}])}finally{g(!1)}},P=A=>{switch(A){case"STRONG_BUY":return"text-green-400 border-green-500 bg-green-500/20";case"BUY":return"text-green-300 border-green-500/50 bg-green-500/10";case"SELL":return"text-red-300 border-red-500/50 bg-red-500/10";case"STRONG_SELL":return"text-red-400 border-red-500 bg-red-500/20";default:return"text-slate-300 border-slate-500 bg-slate-500/10"}},k=Ks["technical-analyst"];return y.jsxs("div",{className:"flex h-screen bg-slate-950 text-white font-mono overflow-hidden glass-panel rounded-none",children:[y.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col border-r border-emerald-900/30 bg-slate-950/60 backdrop-blur-xl",children:[y.jsxs("div",{className:"p-6 border-b border-emerald-900/30 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("button",{onClick:n,className:"p-2 hover:bg-white/10 rounded-full transition-colors",title:"Retour au menu",children:y.jsx(On,{className:"w-5 h-5 text-emerald-400"})}),y.jsx("div",{className:"w-12 h-12 rounded-full border-2 border-emerald-500/50 overflow-hidden shadow-[0_0_15px_rgba(16,185,129,0.3)]",children:y.jsx("img",{src:e||Be.geek,alt:"Emma Geek - Analyste Technique",className:"w-full h-full object-cover"})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-lg font-bold text-emerald-400 flex items-center gap-2 tracking-tight",children:"Emma  GEEK"}),y.jsx("p",{className:"text-[10px] text-emerald-600 uppercase tracking-widest",children:"Analyste Technique"})]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx(tl,{currentModelId:b.modelId,availableModels:N,googleSearch:b.googleSearch,onModelChange:A=>E({modelId:A}),onGoogleSearchChange:A=>E({googleSearch:A}),accentColor:"cyan"}),i&&y.jsx("button",{onClick:i,className:"p-2 bg-emerald-950/30 hover:bg-emerald-900/50 rounded-lg border border-emerald-900/30 transition-colors",title:"Galerie d'images",children:y.jsx(Gn,{className:"w-4 h-4 text-emerald-400"})})]})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4 custom-scrollbar",ref:x,children:[r.map(A=>y.jsx("div",{className:be("flex flex-col max-w-[90%]",A.role==="user"?"self-end items-end":"self-start items-start"),children:y.jsx("div",{className:be("px-4 py-3 rounded-xl text-xs leading-relaxed border",A.role==="user"?"bg-emerald-900/20 border-emerald-800 text-emerald-100":"bg-slate-800 border-slate-700 text-slate-300"),children:A.text})},A.id)),h&&y.jsxs("div",{className:"text-xs text-emerald-500 animate-pulse flex items-center gap-2 px-4",children:[y.jsx(_d,{className:"w-3 h-3"})," Calcul avec ",w.name,"..."]})]}),y.jsxs("div",{className:"p-6 border-t border-emerald-900/30 bg-slate-900/30",children:[y.jsx("div",{className:"flex gap-2 overflow-x-auto pb-3 custom-scrollbar",children:k==null?void 0:k.map((A,j)=>y.jsx("button",{onClick:()=>I(A),className:"whitespace-nowrap px-3 py-1.5 rounded-full bg-emerald-950/40 border border-emerald-900/50 text-[10px] text-emerald-200 hover:text-white hover:bg-emerald-900/60 transition-all",children:A},j))}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"text",value:l,onChange:A=>c(A.target.value),onKeyDown:A=>A.key==="Enter"&&I(),placeholder:"Ex: Analyse TSLA RSI...",className:"w-full bg-slate-950 border border-emerald-900/40 rounded-xl py-3 pl-4 pr-12 text-xs focus:border-emerald-500 outline-none font-mono",disabled:h}),y.jsx("button",{onClick:()=>I(),className:"absolute right-2 top-2 p-1.5 bg-emerald-600/20 text-emerald-500 rounded-lg hover:bg-emerald-600 hover:text-white transition-all",disabled:h,title:"Envoyer",children:y.jsx(Ys,{className:"w-4 h-4"})})]})]})]}),y.jsxs("div",{className:"hidden lg:flex w-1/2 bg-black/80 p-8 flex-col overflow-y-auto custom-scrollbar relative",children:[y.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(16,185,129,0.05)_1px,transparent_1px),linear-gradient(90deg,rgba(16,185,129,0.05)_1px,transparent_1px)] bg-[size:20px_20px] pointer-events-none"}),p?y.jsxs("div",{className:"z-10 space-y-6 animate-in fade-in slide-in-from-bottom-8 duration-700",children:[y.jsxs("div",{className:"flex items-center justify-between border-b border-white/10 pb-6",children:[y.jsx("div",{children:y.jsxs("h1",{className:"text-5xl font-black text-white tracking-tighter flex items-center gap-4",children:[p.ticker,y.jsx("span",{className:be("text-sm px-3 py-1 rounded border tracking-widest",P(p.signal)),children:p.signal})]})}),y.jsxs("div",{className:"text-right",children:[y.jsxs("div",{className:"text-4xl font-bold text-emerald-400 font-mono",children:["$",p.price]}),y.jsx("div",{className:"text-xl font-mono flex items-center justify-end gap-1 text-green-500",children:p.change})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[y.jsxs("div",{className:"bg-slate-900/60 border border-white/10 p-6 rounded-2xl backdrop-blur-md",children:[y.jsx("h4",{className:"text-xs text-slate-400 uppercase font-bold mb-4",children:"RSI Momentum"}),y.jsx("div",{className:"text-3xl font-mono text-white",children:p.rsi})]}),y.jsxs("div",{className:"bg-slate-900/60 border border-white/10 p-6 rounded-2xl backdrop-blur-md",children:[y.jsx("h4",{className:"text-xs text-slate-400 uppercase font-bold mb-4",children:"MACD Signal"}),y.jsx("div",{className:"text-3xl font-mono text-white",children:p.macd.value})]})]})]}):y.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-700",children:[y.jsx(Hi,{className:"w-20 h-20 mb-6 opacity-20 animate-pulse"}),y.jsx("h3",{className:"text-xl font-bold uppercase tracking-widest text-slate-600",children:"Terminal Chartiste"})]})]})]})},pI=({onClose:n})=>{const[e,i]=$.useState("overview"),r=({id:a,label:l,icon:c})=>y.jsxs("button",{onClick:()=>i(a),className:`w-full text-left px-4 py-3 rounded-lg flex items-center gap-3 text-sm font-medium transition-all ${e===a?"bg-blue-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[y.jsx(c,{className:"w-4 h-4"})," ",l]});return y.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-950/90 backdrop-blur-md flex items-center justify-center p-4 md:p-10",children:y.jsxs("div",{className:"w-full max-w-6xl h-full bg-slate-900 border border-slate-700 rounded-2xl shadow-2xl flex flex-col md:flex-row overflow-hidden ring-1 ring-white/10",children:[y.jsxs("div",{className:"w-full md:w-64 bg-slate-950 border-r border-slate-800 p-4 flex flex-col",children:[y.jsxs("div",{className:"mb-6 px-2",children:[y.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[y.jsx(ky,{className:"w-5 h-5 text-blue-500"})," Guide Dev"]}),y.jsx("p",{className:"text-[10px] text-slate-500 mt-1 uppercase tracking-wider",children:"Emma IA Enterprise v2.5"})]}),y.jsxs("nav",{className:"space-y-1 flex-1",children:[y.jsx(r,{id:"overview",label:"Vue d'ensemble",icon:Gy}),y.jsx(r,{id:"setup",label:"Configuration & Cls",icon:Y1}),y.jsx(r,{id:"integration",label:"Intgration Web (iFrame)",icon:Vy}),y.jsx(r,{id:"structure",label:"Architecture Code",icon:L1}),y.jsx(r,{id:"models",label:"Modles LLM 2025",icon:T1})]}),y.jsx("div",{className:"pt-4 border-t border-slate-800 text-[10px] text-slate-600 px-2",children:"Documentation gnre automatiquement."})]}),y.jsxs("div",{className:"flex-1 flex flex-col relative bg-slate-900",children:[y.jsx("button",{onClick:n,className:"absolute top-4 right-4 p-2 bg-slate-800 rounded-full hover:bg-slate-700 text-slate-400 hover:text-white z-10",children:y.jsx(wd,{className:"w-5 h-5"})}),y.jsxs("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:[e==="overview"&&y.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4",children:[y.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Emma IA Enterprise Platform"}),y.jsx("p",{className:"text-lg text-slate-400 leading-relaxed",children:"Une suite d'assistants virtuels financiers de nouvelle gnration utilisant les technologies multimodales de Google Gemini 2.5."}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-8",children:[y.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl border border-slate-700",children:[y.jsx("h3",{className:"text-blue-400 font-bold mb-2",children:"Cerveau Central"}),y.jsxs("p",{className:"text-sm text-slate-300",children:["Propuls par ",y.jsx("strong",{children:"Gemini 2.5 Flash Live"})," (Bidirectionnel) pour la voix et ",y.jsx("strong",{children:"Gemini 2.0 Pro"})," pour le raisonnement textuel complexe."]})]}),y.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl border border-slate-700",children:[y.jsx("h3",{className:"text-purple-400 font-bold mb-2",children:"Moteurs d'Avatar"}),y.jsxs("p",{className:"text-sm text-slate-300",children:["Support hybride pour ",y.jsx("strong",{children:"HeyGen Streaming API v2"})," (WebRTC Interactive) et ",y.jsx("strong",{children:"Akool"}),", ainsi qu'une intgration vido native via ",y.jsx("strong",{children:"Tavus Phoenix"}),"."]})]})]})]}),e==="setup"&&y.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4",children:[y.jsx("h2",{className:"text-2xl font-bold text-white",children:"Requis de Configuration"}),y.jsxs("div",{className:"bg-slate-950 p-4 rounded-lg border border-slate-800 font-mono text-xs text-green-400 overflow-x-auto",children:["# .env ( la racine) ",y.jsx("br",{}),y.jsx("br",{}),"API_KEY=AIzaSy... (Google Gemini API Key)",y.jsx("br",{}),y.jsx("br",{}),"# Optionnels (Configurables aussi via UI Admin)",y.jsx("br",{}),"HEYGEN_API_TOKEN=...",y.jsx("br",{}),"AKOOL_API_TOKEN=...",y.jsx("br",{}),"TAVUS_API_KEY=..."]}),y.jsxs("div",{className:"space-y-4 text-sm text-slate-300",children:[y.jsx("h3",{className:"text-white font-bold text-lg",children:"Liste de contrle de dploiement"}),y.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[y.jsx("li",{children:"Vrifier que le domaine est autoris dans la Google Cloud Console (CORS)."}),y.jsxs("li",{children:["Activer l'API ",y.jsx("strong",{children:"Vertex AI"})," ou ",y.jsx("strong",{children:"Google AI Studio"}),"."]}),y.jsx("li",{children:`Pour HeyGen: S'assurer d'avoir un plan "Enterprise" pour l'accs Streaming API.`}),y.jsx("li",{children:`Pour Tavus: Vrifier la cration d'un "Replica" valide via leur dashboard.`})]})]})]}),e==="integration"&&y.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4",children:[y.jsx("h2",{className:"text-2xl font-bold text-white",children:"Guide d'Intgration Web"}),y.jsx("p",{className:"text-slate-400",children:`L'application est conue pour tre "Responsive-First" et fonctionne parfaitement dans un conteneur iFrame ou en tant que SPA autonome.`}),y.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl border border-blue-500/30",children:[y.jsx("h3",{className:"text-white font-bold mb-4",children:"Code d'intgration (iFrame)"}),y.jsxs("div",{className:"bg-black p-4 rounded text-xs font-mono text-slate-300",children:["<iframe ",y.jsx("br",{}),'src="https://emma-ia-enterprise.vercel.app" ',y.jsx("br",{}),'width="100%" ',y.jsx("br",{}),'height="800px" ',y.jsx("br",{}),'allow="microphone; camera; autoplay; clipboard-write" ',y.jsx("br",{}),'style="border:none; border-radius: 12px; box-shadow: 0 20px 50px rgba(0,0,0,0.5);"',y.jsx("br",{}),"></iframe>"]}),y.jsxs("p",{className:"mt-4 text-xs text-yellow-500 flex items-center gap-2",children:[y.jsx(Xa,{className:"w-4 h-4"}),"Important: L'attribut ",y.jsx("code",{children:'allow="microphone"'})," est critique pour le fonctionnement vocal."]})]})]}),e==="models"&&y.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4",children:[y.jsx("h2",{className:"text-2xl font-bold text-white",children:"Matrice des Modles (Standards 2025)"}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left text-sm text-slate-400",children:[y.jsx("thead",{className:"bg-slate-800 text-slate-200 uppercase text-xs font-bold",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-4",children:"ID Modle"}),y.jsx("th",{className:"p-4",children:"Type"}),y.jsx("th",{className:"p-4",children:"Latence"}),y.jsx("th",{className:"p-4",children:"Cas d'usage"})]})}),y.jsxs("tbody",{className:"divide-y divide-slate-800",children:[y.jsxs("tr",{children:[y.jsx("td",{className:"p-4 font-mono text-blue-400",children:"gemini-2.5-flash-native-audio..."}),y.jsx("td",{className:"p-4",children:y.jsx("span",{className:"bg-green-500/20 text-green-400 px-2 py-1 rounded text-xs uppercase",children:"Bidirectionnel"})}),y.jsx("td",{className:"p-4",children:"~300ms"}),y.jsx("td",{className:"p-4",children:"Avatars Vocaux, Interruption Temps Rel"})]}),y.jsxs("tr",{children:[y.jsx("td",{className:"p-4 font-mono text-purple-400",children:"gemini-2.0-pro-exp-02-05"}),y.jsx("td",{className:"p-4",children:y.jsx("span",{className:"bg-blue-500/20 text-blue-400 px-2 py-1 rounded text-xs uppercase",children:"Directionnel"})}),y.jsx("td",{className:"p-4",children:"~1.5s"}),y.jsx("td",{className:"p-4",children:"Raisonnement complexe, Rdaction financire"})]}),y.jsxs("tr",{children:[y.jsx("td",{className:"p-4 font-mono text-yellow-400",children:"gemini-2.5-flash-thinking"}),y.jsx("td",{className:"p-4",children:y.jsx("span",{className:"bg-blue-500/20 text-blue-400 px-2 py-1 rounded text-xs uppercase",children:"Directionnel"})}),y.jsx("td",{className:"p-4",children:"~3s+"}),y.jsx("td",{className:"p-4",children:"Analyse profonde, Chain of Thought (CoT)"})]})]})]})})]})]})]})]})})},mI=({onClose:n,onSelect:e})=>{var g;const[i,r]=$.useState("finance"),[a,l]=$.useState(null),c=[{id:"finance",label:"Finance (Chat/Vocal)"},{id:"economy",label:"Macro"},{id:"politics",label:"Politique"},{id:"researcher",label:"Recherchiste"},{id:"ceo",label:"CEO Simulator"},{id:"critic",label:"Avocat du Diable"},{id:"writer",label:"Rdactrice"},{id:"geek",label:"Geek Technique"},{id:"tavus",label:"Emma Naturelle"}],h=()=>{a&&(e(i,a),n())};return y.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-950/90 backdrop-blur-md flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-slate-900 border border-slate-700 w-full max-w-6xl h-[85vh] rounded-2xl shadow-2xl flex flex-col overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[y.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-center bg-slate-950",children:[y.jsxs("div",{children:[y.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[y.jsx(Gn,{className:"w-5 h-5 text-blue-500"})," Galerie d'Avatars"]}),y.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Personnalisez l'apparence de chaque section (",C0.length," options)."]})]}),y.jsx("button",{onClick:n,className:"p-2 hover:bg-slate-800 rounded-full transition-colors text-slate-400 hover:text-white",children:y.jsx(wd,{className:"w-6 h-6"})})]}),y.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[y.jsxs("div",{className:"w-64 bg-slate-950 border-r border-slate-800 p-4 overflow-y-auto hidden md:block",children:[y.jsx("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-4",children:"Sections"}),y.jsx("div",{className:"space-y-1",children:c.map(p=>y.jsx("button",{onClick:()=>r(p.id),className:be("w-full text-left px-4 py-3 rounded-lg text-sm font-medium transition-colors",i===p.id?"bg-blue-600 text-white":"text-slate-400 hover:bg-slate-800 hover:text-white"),children:p.label},p.id))})]}),y.jsxs("div",{className:"flex-1 p-6 overflow-y-auto bg-slate-900 custom-scrollbar",children:[y.jsxs("div",{className:"md:hidden mb-4",children:[y.jsx("label",{className:"text-xs text-slate-400 block mb-2",children:"Section  modifier"}),y.jsx("select",{value:i,onChange:p=>r(p.target.value),className:"w-full bg-slate-800 border border-slate-700 rounded-lg p-2 text-white text-sm",children:c.map(p=>y.jsx("option",{value:p.id,children:p.label},p.id))})]}),y.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-3",children:C0.map((p,_)=>y.jsxs("button",{onClick:()=>l(p),className:be("relative aspect-square rounded-xl overflow-hidden border-2 transition-all group",a===p?"border-blue-500 ring-4 ring-blue-500/20 scale-95":"border-slate-800 hover:border-slate-600 hover:scale-105"),children:[y.jsx("img",{src:p,className:"w-full h-full object-cover",loading:"lazy",alt:`Avatar ${_}`}),a===p&&y.jsx("div",{className:"absolute inset-0 bg-blue-500/20 flex items-center justify-center",children:y.jsx("div",{className:"bg-blue-600 text-white p-1.5 rounded-full shadow-lg animate-in zoom-in",children:y.jsx(Uy,{className:"w-4 h-4"})})}),y.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors"})]},_))})]})]}),y.jsxs("div",{className:"p-4 border-t border-slate-800 bg-slate-950 flex justify-end gap-3",children:[y.jsx("button",{onClick:n,className:"px-6 py-2 rounded-lg border border-slate-700 text-slate-300 hover:text-white hover:bg-slate-800 transition-colors text-sm",children:"Annuler"}),y.jsxs("button",{onClick:h,disabled:!a,className:"px-6 py-2 rounded-lg bg-blue-600 hover:bg-blue-500 text-white font-medium shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all text-sm",children:["Appliquer  ",(g=c.find(p=>p.id===i))==null?void 0:g.label]})]})]})})},gI=()=>{const[n,e]=$.useState(null),i=Wy(),[r,a]=$.useState(!1),[l,c]=$.useState(!1),[h,g]=$.useState(!1),[p,_]=$.useState(!1),[x,b]=$.useState(!1),[E,w]=$.useState(null),[N,I]=$.useState("finance"),[P,k]=$.useState({systemInstruction:ji,llmModel:Vs,llmTemperature:.6,geminiVoice:Ad,chatMode:"solo",heygenToken:"",heygenAvatarId:qa,heygenQuality:"medium",heygenEmotion:"Friendly",heygenRemoveBackground:!1,akoolToken:"",akoolAvatarId:Xy,akoolRegion:"us-west",akoolFaceEnhance:!0,activeProvider:"both",muteGeminiAudio:!1,integrationConfig:Kr}),[A,j]=$.useState(o2),D=$.useRef(null),Y=$.useRef(null),[G,W]=$.useState(!1),[K,te]=$.useState(null),[ue,oe]=$.useState([]),[ve,je]=$.useState([]),[Ve,B]=$.useState(!1),[Q,se]=$.useState({userTime:0,aiTime:{},lastActive:null}),ge=$.useRef(null),[Te,R]=$.useState(null),[H,X]=$.useState({});$.useEffect(()=>{new Yv(Kr).loadAllConfigs().then(Ye=>w(Ye))},[]);const Z=_e=>{e(_e)},ce=()=>{i.connectionState===et.CONNECTED&&i.disconnect(),D.current&&D.current.endConversation(),e(null)},me=()=>{if(n==="tavus-video")return;let _e={...P};if(E&&(n==="ceo-mode"&&E.ceo?(_e.systemInstruction=E.ceo.systemPrompt,_e.geminiVoice=E.ceo.voiceName):n==="critic-mode"&&E.critic?(_e.systemInstruction=E.critic.systemPrompt,_e.geminiVoice=E.critic.voiceName):n==="technical-analyst"&&E.geek&&(_e.systemInstruction=E.geek.systemPrompt)),n==="avatar-hybrid"){const Ye=pi.find(Xe=>Xe.id===N);Ye&&(_e.systemInstruction=Ye.systemPrompt,_e.geminiVoice=Ye.voiceName,_e.heygenAvatarId=Ye.avatarId)}P.chatMode==="panel"&&(_e.systemInstruction=t2),n==="ceo-mode"&&Te&&(_e.systemInstruction=Te),i.connect(_e),te(null),oe([]),je([]),se({userTime:0,aiTime:{},lastActive:null})},Ae=()=>{i.disconnect()};$.useEffect(()=>{i.connectionState,et.DISCONNECTED},[N]),$.useEffect(()=>(i.connectionState===et.CONNECTED?(Y.current=new Date,ge.current=window.setInterval(()=>{const _e=i.userVolume>10,Ye=i.assistantVolume>10;se(Xe=>{var tt;const De={...Xe};if(_e&&(De.userTime+=1,De.lastActive="User"),Ye){const rt=((tt=i.messages.slice().reverse().find(dn=>dn.role==="assistant"))==null?void 0:tt.text)||"";let $t="Emma IA";rt.includes("[Marc]:")&&($t="Marc"),rt.includes("[Sarah]:")&&($t="Sarah"),De.aiTime[$t]=(De.aiTime[$t]||0)+1,De.lastActive=$t}return De})},1e3)):ge.current&&clearInterval(ge.current),()=>{ge.current&&clearInterval(ge.current)}),[i.connectionState,i.userVolume,i.assistantVolume]),$.useEffect(()=>{var Ye;if(i.connectionState!==et.CONNECTED)return;const _e=i.messages[i.messages.length-1];if(_e&&_e.role==="assistant"){const Xe=_e.text.match(/###VISUAL_JSON_START###([\s\S]*?)###VISUAL_JSON_END###/);if(Xe&&Xe[1])try{const De=JSON.parse(Xe[1]);if(De.title){const tt={id:Date.now().toString(),type:De.type,title:De.title,topic:De.topic||"Gnral",content:((Ye=De.data)==null?void 0:Ye.summary)||De.content||JSON.stringify(De.data),url:De.url,timestamp:new Date,metadata:{...De,verificationStatus:De.verificationStatus}};oe(rt=>[tt,...rt]),W(!0)}De.suggestions&&Array.isArray(De.suggestions)&&je(De.suggestions.map((tt,rt)=>({id:Date.now()+rt+"_sugg",type:tt.category==="News"?"news":"question",text:tt.text,category:tt.category||"Gnral"})).slice(0,3))}catch(De){console.error(De)}}},[i.messages,i.connectionState]);const st=()=>y.jsxs("div",{className:"fixed inset-0 z-[-1] overflow-hidden pointer-events-none",children:[y.jsx("div",{className:"absolute inset-0 animated-bg opacity-40"}),y.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_top,_rgba(59,130,246,0.15),transparent_50%)]"}),y.jsx("div",{className:"absolute bottom-0 right-0 w-full h-full bg-[radial-gradient(ellipse_at_bottom,_rgba(168,85,247,0.15),transparent_50%)]"})]}),He=()=>{var Ye;if(!n)return y.jsx(YM,{onSelect:Z,onOpenDevGuide:()=>c(!0),onOpenGallery:()=>b(!0),customImages:H});const _e=()=>b(!0);return n==="text-chat"?y.jsx(KM,{onBack:ce,avatarImage:H.finance,onOpenGallery:_e}):n==="letter-writer"?y.jsx(aI,{onBack:ce,avatarImage:H.writer,onOpenGallery:_e}):n==="researcher"?y.jsxs(y.Fragment,{children:[y.jsx(cI,{}),y.jsx(uI,{onBack:ce,avatarImage:H.researcher,onOpenGallery:_e})]}):n==="ceo-mode"?y.jsx(dI,{onBack:ce,onInjectPrompt:R,avatarImage:H.ceo,onOpenGallery:_e}):n==="critic-mode"?y.jsx(fI,{onBack:ce,avatarImage:H.critic,onOpenGallery:_e}):n==="technical-analyst"?y.jsx(hI,{onBack:ce,avatarImage:H.geek,onOpenGallery:_e}):n==="tavus-video"?y.jsx(XM,{onBack:ce,config:E?E.tavus:void 0,avatarImage:H.tavus,onOpenGallery:_e}):y.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row relative",children:[y.jsxs("main",{className:"flex-1 flex flex-col relative h-[60vh] md:h-screen transition-all duration-300",children:[y.jsxs("div",{className:"absolute top-0 left-0 right-0 p-6 z-20 flex justify-between items-start pointer-events-none",children:[y.jsx("div",{className:"pointer-events-auto flex items-center gap-4",children:y.jsx("button",{onClick:ce,className:"text-xs bg-slate-800/80 hover:bg-slate-700 text-slate-300 px-3 py-1 rounded-lg border border-white/10 backdrop-blur transition-colors",children:" Menu"})}),y.jsxs("div",{className:"flex flex-col items-end gap-2 pointer-events-auto",children:[y.jsx(HM,{state:i.connectionState,temperature:P.llmTemperature,latencyMs:24,isSpeaking:i.volume>10}),i.connectionState===et.CONNECTED&&y.jsx(FM,{startTime:Y.current,stats:Q})]})]}),i.error&&y.jsxs("div",{className:"absolute top-24 left-1/2 -translate-x-1/2 z-50 bg-red-500/90 border border-red-400 text-white px-6 py-3 rounded-full flex items-center gap-2 backdrop-blur-md shadow-xl animate-bounce",children:[y.jsx(Py,{className:"w-5 h-5"})," ",y.jsx("span",{className:"text-sm font-medium",children:i.error})]}),y.jsx("div",{className:"flex-1 flex items-center justify-center pt-20 md:pt-0",children:y.jsx(Qv,{state:i.connectionState,volume:i.assistantVolume,config:P,lastMessage:((Ye=i.messages.slice().reverse().find(Xe=>Xe.role==="assistant"))==null?void 0:Ye.text)||""})}),y.jsxs("div",{className:"relative z-30 pb-4 md:pb-8 flex flex-col items-center gap-4",children:[i.connectionState!==et.CONNECTED&&y.jsxs("div",{className:"mb-2 animate-in slide-in-from-bottom-4 fade-in",children:[y.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider text-center mb-2",children:"Choisir l'Expert Vocal"}),y.jsx(t_,{activeId:N,onSelect:I,className:"bg-slate-900/60 p-2 rounded-2xl backdrop-blur-md border border-white/10"})]}),i.connectionState===et.CONNECTED&&ve.length>0&&y.jsx(JM,{suggestions:ve,onSelect:Xe=>{i.sendText(Xe.text),je(De=>De.filter(tt=>tt.id!==Xe.id))}}),y.jsx(zM,{actions:A,onAction:Xe=>Xe==="OPEN_EMAIL_MODAL"?_(!0):i.sendText(`[ACTION]: ${Xe}`),onUpdateActions:j}),y.jsx(Xv,{state:i.connectionState,onConnect:me,onDisconnect:Ae,onEmail:()=>_(!0),onOpenAdmin:()=>a(!0),onToggleInsights:()=>W(!G),showInsights:G}),y.jsx("button",{id:"connect-btn-trigger",className:"hidden",onClick:me})]})]}),y.jsxs("aside",{className:"hidden md:flex flex-row h-screen z-20",children:[y.jsx("div",{className:"w-80 border-l border-white/5 bg-slate-950/80 backdrop-blur-xl flex flex-col h-full shadow-2xl",children:y.jsx("div",{className:"flex-1 overflow-hidden p-4",children:y.jsx(Zv,{messages:i.messages})})}),G&&y.jsx(Wv,{personalityData:K,contextItems:ue,isLoading:Ve})]})]})};return y.jsxs(y.Fragment,{children:[y.jsx(st,{}),r&&y.jsx(VM,{config:P,onSave:k,onClose:()=>a(!1)}),l&&y.jsx(pI,{onClose:()=>c(!1)}),h&&y.jsx(e_,{onClose:()=>g(!1)}),x&&y.jsx(mI,{onClose:()=>b(!1),onSelect:(_e,Ye)=>X({...H,[_e]:Ye})}),p&&y.jsx($M,{onClose:()=>_(!1),onProcess:_e=>{_(!1),i.sendText(`[ANALYSE CE COURRIEL]: ${_e}`)}}),He()]})},n_=document.getElementById("root");if(!n_)throw new Error("Could not find root element to mount to");const yI=Lb.createRoot(n_);yI.render(y.jsx(ny.StrictMode,{children:y.jsx(gI,{})}));
