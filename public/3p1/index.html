<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes" />
    <title>JLab 3p1 - Analyse Financière Pro</title>
    <link rel="stylesheet" href="./src/index.css">
    <style>
    </style>
  <!-- Environment Configuration - Must be loaded FIRST -->
  <script src="/js/env-config.js" defer></script>
  <script>
    // Ensure env-config.js is loaded before React modules
    if (typeof window !== 'undefined' && !window.SUPABASE_ANON_KEY && !window.ENV_CONFIG) {
      console.warn('⏳ Waiting for env-config.js to load...');
      // Fallback: set default values if env-config.js fails
      window.SUPABASE_URL = window.SUPABASE_URL || 'https://boyuxgdplbpkknplxbxp.supabase.co';
      window.SUPABASE_ANON_KEY = window.SUPABASE_ANON_KEY || 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJveXV4Z2RwbGJwa2tucGx4YnhwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAzMzU5MTQsImV4cCI6MjA3NTkxMTkxNH0.-M-QdpBFlDtg1CeA00VepQCNzGzvU-tISyVA0yCLBdw';
      if (!window.ENV_CONFIG) {
        window.ENV_CONFIG = {
          SUPABASE_URL: window.SUPABASE_URL,
          SUPABASE_ANON_KEY: window.SUPABASE_ANON_KEY
        };
      }
      console.log('✅ Fallback env config set for localhost');
    }
  </script>
  <script type="importmap">
{
  "imports": {
    "recharts": "https://aistudiocdn.com/recharts@^3.4.1",
    "react": "https://aistudiocdn.com/react@^19.2.0",
    "react/": "https://aistudiocdn.com/react@^19.2.0/",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/",
    "@heroicons/react/": "https://aistudiocdn.com/@heroicons/react@^2.2.0/"
  }
}
</script>
</head>
  <body class="bg-gray-50 text-slate-800 antialiased">
    <div id="root"></div>
  <!-- Redirection vers la version compilée -->
  <script>
    // Rediriger vers la version compilée si elle existe
    if (window.location.pathname.includes('/3p1/index.html') && !window.location.pathname.includes('/dist/')) {
      window.location.href = window.location.pathname.replace('/3p1/index.html', '/3p1/dist/index.html');
    }
  </script>
  <!-- Entry point: Vite will replace this during build -->
  <script type="module" src="./index.tsx"></script>
</body>
</html>