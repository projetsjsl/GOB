# üí° Suggestions de Prompts Intelligentes pour Emma IA‚Ñ¢

## Objectif
Aider l'utilisateur √† d√©couvrir et exploiter toutes les capacit√©s d'Emma avec des suggestions cliquables qui s'ins√®rent dans la zone de texte (sans envoi automatique).

---

## üéØ CAT√âGORIES DE SUGGESTIONS

### 1. üìä ANALYSE RAPIDE (Quick Insights)

```
"Quel est le prix actuel de [TICKER] ?"
"Performance de [TICKER] aujourd'hui"
"R√©sum√© rapide de [TICKER]"
"[TICKER] est-il surachet√© ou survendu ?"
```

**Objectif**: R√©ponses rapides, 800-2000 tokens, donn√©es essentielles

---

### 2. üî¨ ANALYSE APPROFONDIE (Deep Dive)

```
"Analyse approfondie de [TICKER] : fondamentaux, technique, actualit√©s et recommandation"
"√âvalue [TICKER] selon les crit√®res de Warren Buffett"
"Analyse compl√®te du bilan de [TICKER]"
"Force et faiblesses de [TICKER] par rapport √† ses concurrents"
"Qualit√© du management et gouvernance de [TICKER]"
```

**Objectif**: R√©ponses exhaustives, 4000-8000 tokens, analyse multi-dimensionnelle

---

### 3. üìà GRAPHIQUES & VISUALISATIONS

```
"Montre-moi le graphique technique de [TICKER]"
"Visualise la performance de [TICKER] avec chart"
"Heatmap des secteurs du march√© aujourd'hui"
"Affiche le logo et le chart de [TICKER]"
"Compare [ACTION1] et [ACTION2] avec graphiques"
```

**Objectif**: D√©clencher l'utilisation des tags [CHART:...], [LOGO:...], [CHART:FINVIZ:SECTORS]

---

### 4. ‚öñÔ∏è COMPARAISON MULTI-TICKERS

```
"Compare [ACTION1], [ACTION2] et [ACTION3] : valorisation, croissance et dividendes"
"Qui est le meilleur entre [ACTION1] et [ACTION2] ?"
"Analyse comparative des GAFAM avec tableaux"
"Range [ACTION1], [ACTION2], [ACTION3] du meilleur au pire selon le P/E"
"Quelle action offre le meilleur potentiel : [ACTION1], [ACTION2] ou [ACTION3] ?"
```

**Objectif**: R√©ponses structur√©es avec tableaux, comparaisons claires

---

### 5. üíº GESTION DE PORTEFEUILLE

```
"Mon portefeuille contient [ACTION1], [ACTION2], [ACTION3]. Que dois-je surveiller ?"
"Analyse les risques de mon portefeuille : [ACTION1], [ACTION2], [ACTION3]"
"Sugg√®re des actions pour diversifier un portefeuille tech ([ACTION1], [ACTION2])"
"Mon portefeuille [ACTION1], [ACTION2], [ACTION3] est-il trop concentr√© ?"
"Calcule l'allocation optimale entre [ACTION1], [ACTION2] et [ACTION3]"
```

**Objectif**: Conseils personnalis√©s, analyse de risque, diversification

---

### 6. üì∞ ACTUALIT√âS & √âV√âNEMENTS

```
"Quelles sont les derni√®res actualit√©s importantes sur [TICKER] ?"
"Y a-t-il des catalyseurs √† venir pour [TICKER] ?"
"R√©sum√© des r√©sultats trimestriels de [TICKER]"
"[TICKER] a-t-il annonc√© quelque chose r√©cemment ?"
"Calendrier des √©v√©nements importants pour [TICKER] cette semaine"
```

**Objectif**: News fra√Æches, events √† venir, timeline

---

### 7. üéØ SCORING & RECOMMANDATIONS

```
"Calcule le score JSLAI‚Ñ¢ de [TICKER] et explique-le"
"[TICKER] est-il un achat, une conservation ou une vente ?"
"Note [TICKER] sur 10 selon les crit√®res de Peter Lynch"
"Quel est le fair value de [TICKER] ?"
"[TICKER] m√©rite-t-il sa valorisation actuelle ?"
```

**Objectif**: Scoring quantitatif, recommandations claires

---

### 8. üåç SECTEURS & MACRO

```
"Quel est le meilleur secteur √† investir en ce moment ?"
"Performance du secteur technologique vs secteur financier"
"Impact de la hausse des taux sur [TICKER]"
"Quelles actions profitent de la tendance IA ?"
"Analyse macro-√©conomique et implications pour mon portefeuille"
```

**Objectif**: Vue d'ensemble, contexte macro, trends sectoriels

---

### 9. üîÆ PR√âVISIONS & SC√âNARIOS

```
"Pr√©visions pour [TICKER] sur les 6-12 prochains mois"
"Sc√©narios bull/bear pour [TICKER]"
"√Ä quel prix devrais-je acheter [TICKER] ?"
"Stop loss sugg√©r√© pour [TICKER] ?"
"Objectif de prix √† 12 mois pour [TICKER]"
```

**Objectif**: Forward-looking, risques/opportunit√©s, strat√©gie

---

### 10. üìö √âDUCATION & CONCEPTS

```
"Explique-moi le ratio P/E et comment l'interpr√©ter"
"C'est quoi le ROIC et pourquoi c'est important ?"
"Comment analyser le cash flow d'une entreprise ?"
"Quelle est la diff√©rence entre croissance et value investing ?"
"Les crit√®res de Warren Buffett pour s√©lectionner une action"
```

**Objectif**: Apprendre, comprendre, devenir meilleur investisseur

---

## üé® DESIGN & UX

### Affichage

**Layout propos√©** (sous la zone de texte Emma):
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  üí° Suggestions :                                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ üìä Analyse rapide    ‚îÇ  ‚îÇ üî¨ Analyse approfondie  ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ üìà Graphiques        ‚îÇ  ‚îÇ ‚öñÔ∏è Comparaisons         ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ üíº Portefeuille      ‚îÇ  ‚îÇ üì∞ Actualit√©s           ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Comportement au clic

1. **Clic sur une cat√©gorie** ‚Üí Affiche un dropdown avec 3-5 suggestions de cette cat√©gorie
2. **Clic sur une suggestion** ‚Üí Ins√®re le texte dans la zone de texte (avec placeholders)
3. **Utilisateur √©dite** les placeholders [TICKER], [ACTION1], etc.
4. **Utilisateur appuie sur Entr√©e** pour envoyer

### Placeholders √©ditables

Format : `[TEXTE_EN_MAJUSCULES]`

**Exemples** :
- `[TICKER]` ‚Üí AAPL, MSFT, GOOGL, etc.
- `[ACTION1]` ‚Üí AAPL
- `[ACTION2]` ‚Üí MSFT
- `[ACTION3]` ‚Üí GOOGL
- `[SECTEUR]` ‚Üí technologie, finance, sant√©
- `[P√âRIODE]` ‚Üí 6 mois, 1 an, 5 ans

**Auto-focus sur le premier placeholder** apr√®s insertion.

---

## üõ†Ô∏è IMPL√âMENTATION TECHNIQUE

### Structure React

```javascript
const EmmaSuggestions = () => {
    const [selectedCategory, setSelectedCategory] = useState(null);

    const categories = [
        { id: 'quick', label: 'üìä Analyse rapide', icon: 'üìä' },
        { id: 'deep', label: 'üî¨ Analyse approfondie', icon: 'üî¨' },
        { id: 'charts', label: 'üìà Graphiques', icon: 'üìà' },
        { id: 'compare', label: '‚öñÔ∏è Comparaisons', icon: '‚öñÔ∏è' },
        { id: 'portfolio', label: 'üíº Portefeuille', icon: 'üíº' },
        { id: 'news', label: 'üì∞ Actualit√©s', icon: 'üì∞' },
        { id: 'scoring', label: 'üéØ Scoring', icon: 'üéØ' },
        { id: 'sectors', label: 'üåç Secteurs', icon: 'üåç' }
    ];

    const suggestions = {
        quick: [
            "Quel est le prix actuel de [TICKER] ?",
            "Performance de [TICKER] aujourd'hui",
            "R√©sum√© rapide de [TICKER]",
            "[TICKER] est-il surachet√© ou survendu ?"
        ],
        deep: [
            "Analyse approfondie de [TICKER] : fondamentaux, technique, actualit√©s et recommandation",
            "√âvalue [TICKER] selon les crit√®res de Warren Buffett",
            "Force et faiblesses de [TICKER] par rapport √† ses concurrents"
        ],
        charts: [
            "Montre-moi le graphique technique de [TICKER]",
            "Heatmap des secteurs du march√© aujourd'hui",
            "Compare [ACTION1] et [ACTION2] avec graphiques"
        ],
        // ... etc
    };

    const handleSuggestionClick = (text) => {
        // Ins√©rer dans la zone de texte
        setEmmaInput(text);

        // Auto-focus sur le premier placeholder
        const firstPlaceholder = text.match(/\[([^\]]+)\]/);
        if (firstPlaceholder) {
            // S√©lectionner le texte du placeholder
            setTimeout(() => {
                const input = document.querySelector('#emma-input');
                const start = text.indexOf(firstPlaceholder[0]);
                const end = start + firstPlaceholder[0].length;
                input.setSelectionRange(start, end);
                input.focus();
            }, 100);
        }
    };

    return (
        <div className="emma-suggestions">
            <div className="suggestions-header">üí° Suggestions :</div>
            <div className="categories-grid">
                {categories.map(cat => (
                    <button
                        key={cat.id}
                        onClick={() => setSelectedCategory(cat.id)}
                        className="category-button"
                    >
                        {cat.icon} {cat.label}
                    </button>
                ))}
            </div>
            {selectedCategory && (
                <div className="suggestions-dropdown">
                    {suggestions[selectedCategory].map((text, i) => (
                        <div
                            key={i}
                            onClick={() => handleSuggestionClick(text)}
                            className="suggestion-item"
                        >
                            {text}
                        </div>
                    ))}
                </div>
            )}
        </div>
    );
};
```

### Styles CSS

```css
.emma-suggestions {
    margin-top: 10px;
    padding: 15px;
    background: rgba(59, 130, 246, 0.05);
    border-radius: 12px;
    border: 1px solid rgba(59, 130, 246, 0.2);
}

.suggestions-header {
    font-size: 14px;
    font-weight: 600;
    margin-bottom: 10px;
    color: #3b82f6;
}

.categories-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 8px;
}

.category-button {
    padding: 10px 15px;
    background: white;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s;
    font-size: 13px;
    text-align: left;
}

.category-button:hover {
    background: #f3f4f6;
    border-color: #3b82f6;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15);
}

.suggestions-dropdown {
    margin-top: 10px;
    padding: 10px;
    background: white;
    border-radius: 8px;
    border: 1px solid #e5e7eb;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.suggestion-item {
    padding: 12px;
    margin-bottom: 8px;
    background: #f9fafb;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s;
    font-size: 13px;
    color: #374151;
}

.suggestion-item:hover {
    background: #eff6ff;
    border-left: 3px solid #3b82f6;
    transform: translateX(5px);
}

.suggestion-item:last-child {
    margin-bottom: 0;
}

/* Highlight des placeholders dans l'input */
#emma-input::selection {
    background: #bfdbfe;
    color: #1e40af;
}
```

---

## üìä SUGGESTIONS PAR CAT√âGORIE (Liste compl√®te)

### üìä Analyse Rapide (4 suggestions)
1. "Quel est le prix actuel de [TICKER] ?"
2. "Performance de [TICKER] aujourd'hui"
3. "R√©sum√© rapide de [TICKER]"
4. "[TICKER] est-il surachet√© ou survendu ?"

### üî¨ Analyse Approfondie (5 suggestions)
1. "Analyse approfondie de [TICKER] : fondamentaux, technique, actualit√©s et recommandation"
2. "√âvalue [TICKER] selon les crit√®res de Warren Buffett"
3. "Analyse compl√®te du bilan de [TICKER]"
4. "Force et faiblesses de [TICKER] par rapport √† ses concurrents"
5. "Qualit√© du management et gouvernance de [TICKER]"

### üìà Graphiques (5 suggestions)
1. "Montre-moi le graphique technique de [TICKER]"
2. "Visualise la performance de [TICKER] avec chart"
3. "Heatmap des secteurs du march√© aujourd'hui"
4. "Affiche le logo et le chart de [TICKER]"
5. "Compare [ACTION1] et [ACTION2] avec graphiques"

### ‚öñÔ∏è Comparaisons (5 suggestions)
1. "Compare [ACTION1], [ACTION2] et [ACTION3] : valorisation, croissance et dividendes"
2. "Qui est le meilleur entre [ACTION1] et [ACTION2] ?"
3. "Analyse comparative des GAFAM avec tableaux"
4. "Range [ACTION1], [ACTION2], [ACTION3] du meilleur au pire selon le P/E"
5. "Quelle action offre le meilleur potentiel : [ACTION1], [ACTION2] ou [ACTION3] ?"

### üíº Portefeuille (5 suggestions)
1. "Mon portefeuille contient [ACTION1], [ACTION2], [ACTION3]. Que dois-je surveiller ?"
2. "Analyse les risques de mon portefeuille : [ACTION1], [ACTION2], [ACTION3]"
3. "Sugg√®re des actions pour diversifier un portefeuille tech ([ACTION1], [ACTION2])"
4. "Mon portefeuille [ACTION1], [ACTION2], [ACTION3] est-il trop concentr√© ?"
5. "Calcule l'allocation optimale entre [ACTION1], [ACTION2] et [ACTION3]"

### üì∞ Actualit√©s (5 suggestions)
1. "Quelles sont les derni√®res actualit√©s importantes sur [TICKER] ?"
2. "Y a-t-il des catalyseurs √† venir pour [TICKER] ?"
3. "R√©sum√© des r√©sultats trimestriels de [TICKER]"
4. "[TICKER] a-t-il annonc√© quelque chose r√©cemment ?"
5. "Calendrier des √©v√©nements importants pour [TICKER] cette semaine"

### üéØ Scoring (5 suggestions)
1. "Calcule le score JSLAI‚Ñ¢ de [TICKER] et explique-le"
2. "[TICKER] est-il un achat, une conservation ou une vente ?"
3. "Note [TICKER] sur 10 selon les crit√®res de Peter Lynch"
4. "Quel est le fair value de [TICKER] ?"
5. "[TICKER] m√©rite-t-il sa valorisation actuelle ?"

### üåç Secteurs (4 suggestions)
1. "Quel est le meilleur secteur √† investir en ce moment ?"
2. "Performance du secteur technologique vs secteur financier"
3. "Quelles actions profitent de la tendance IA ?"
4. "Analyse macro-√©conomique et implications pour mon portefeuille"

---

## üéØ PRIORISATION

### Phase 1 (MVP - Quick Win)
- 4 cat√©gories principales : Analyse rapide, Analyse approfondie, Graphiques, Comparaisons
- 3-4 suggestions par cat√©gorie
- UI simple : boutons + dropdown

### Phase 2 (Enhanced)
- Ajouter : Portefeuille, Actualit√©s, Scoring, Secteurs
- Am√©liorer l'UX : animations, transitions
- Ajouter filtres/recherche

### Phase 3 (Advanced)
- Suggestions contextuelles (bas√©es sur l'historique)
- Suggestions personnalis√©es (ML)
- Suggestions rapides (favoris)

---

## üìù NOTES D'IMPL√âMENTATION

### D√©tection des placeholders
```javascript
const placeholderRegex = /\[([^\]]+)\]/g;
const placeholders = text.match(placeholderRegex);
// ["[TICKER]", "[ACTION1]", "[ACTION2]"]
```

### Auto-remplacement intelligent
Si l'utilisateur a d√©j√† mentionn√© un ticker dans la conversation, pr√©-remplir automatiquement :
```javascript
const lastMentionedTicker = extractLastTickerFromHistory(conversationHistory);
if (lastMentionedTicker) {
    text = text.replace('[TICKER]', lastMentionedTicker);
}
```

### Analytics
Tracker quelles suggestions sont les plus utilis√©es pour optimiser l'ordre :
```javascript
analytics.track('emma_suggestion_clicked', {
    category: 'charts',
    suggestion: 'Montre-moi le graphique technique de [TICKER]',
    timestamp: Date.now()
});
```

---

*Document cr√©√© par Claude Code*
*Date: 31 Octobre 2025*
